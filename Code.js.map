{
  "version": 3,
  "sources": ["Source_TS/Player.ts", "Source_TS/Check.ts", "Source_TS/Special.ts", "Source_TS/Reset.ts", "Source_TS/Stage.ts", "Source_TS/Update.ts", "Source_TS/Hotkeys.ts", "Source_TS/Limit.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import { globalType, playerType } from './Types';\nconsole.time('Game loaded in'); //Just for fun (end is in Main.ts file)\n\nexport const player: playerType = { //Only for information that need to be saved (cannot be calculated)\n    version: 'v0.1.1',\n    fileName: 'Fundamental, [date] [time], [stage]',\n    separator: ['', '.'], //[0] every 3 numbers, [1] point\n    stage: {\n        true: 1,\n        current: 1,\n        active: 1,\n        resets: 0,\n        export: 86400, //Seconds\n        input: 1\n    },\n    discharge: { //Stage 1\n        energy: 0,\n        energyMax: 0,\n        current: 0\n    },\n    vaporization: { //Stage 2\n        clouds: 1,\n        cloudsMax: 1,\n        input: 10\n    },\n    accretion: { //Stage 3\n        rank: 0\n    },\n    collapse: { //Stage 4\n        mass: 0.01235,\n        massMax: 0.01235,\n        elementsMax: 1, //Used for Nickel (reset on Stage)\n        stars: [0, 0, 0],\n        show: [], //Used for showing effects and auto rebuy\n        disabled: false, //Switch for auto to rebuy\n        inputM: 4,\n        inputS: 2\n    },\n    intervals: {\n        main: 100,\n        numbers: 100,\n        visual: 1,\n        autoSave: 60\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now()\n    },\n    buildings: [ //No extra layers is allowed without changing reset logics\n        [], //Placeholder\n        [\n            { //Quarks[0]\n                current: 3,\n                total: 3,\n                trueTotal: 3,\n                highest: 3\n            },\n            { //Particles[1]\n                current: 0, //On hands\n                true: 0, //How many were bought\n                total: 0, //How many were gained this reset\n                trueTotal: 0, //How many were gained this stage\n                highest: 0 //Highest 'current' that was reached in any stage\n            },\n            { //Atoms[2]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //Molecules[3]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            }\n        ], [\n            { //[0] Stage 2\n                current: 0.0028,\n                total: 0.0028,\n                trueTotal: 0.0028,\n                highest: 0.0028\n            },\n            { //[1]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[2]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[3]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[4]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[5]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            }\n        ], [\n            { //[0] Stage 3\n                current: 1e-19,\n                total: 1e-19,\n                trueTotal: 1e-19,\n                highest: 1e-19\n            },\n            { //[1]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[2]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[3]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[4]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            }\n        ], [\n            { //[0] Stage 4\n                current: 1,\n                total: 1,\n                trueTotal: 1,\n                highest: 1\n            },\n            { //[1]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[2]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[3]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[4]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            }\n        ],\n        [\n            { //[0] Stage 5\n                current: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[1]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[2]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            },\n            { //[3]\n                current: 0,\n                true: 0,\n                total: 0,\n                trueTotal: 0,\n                highest: 0\n            }\n        ]\n    ],\n    strange: [ //Stage 5 special\n        { //[0]\n            true: 0, //Stage reset\n            total: 0\n        }\n    ],\n    /* Because I'm lazy to write 50+ 0's, all empty [] auto added */\n    upgrades: [],\n    researches: [],\n    researchesExtra: [], //First appears in Stage 2\n    researchesAuto: [],\n    ASR: [], //Part of researchesAuto for buildings (Auto Structures Research)\n    elements: [], //Stage 4 special\n    strangeness: [], //Stage 5 special\n    milestones: [], //Stage 5 unlock\n    toggles: { //Not all toggles are here, some are saved in local storage instead (support type and font size)\n        normal: [], //Auto added for every element with a class 'toggle'\n        /* Offline progress[0]; Stage confirm[1]; Discharge confirm[2]; Vaporization confirm[3]; Rank confirm[4]; Collapse confirm[5]\n           Hotkeys type[6] */\n        buildings: [], //Class 'toggleBuilding' ([0] everywhere, is toggle all)\n        auto: [], //Class 'toggleAuto'\n        /* Stage[0], Discharge[1], Vaporization[2], Rank[3], Collapse[4],\n           Upgrades[5], Researches[6], ResearchesExtra[7] */\n        shop: {\n            howMany: 1,\n            input: 10,\n            strict: true\n        }\n    },\n    events: [false, false, false] //One time events, can be seen in playEvent();\n};\n\nexport const global: globalType = { //For information that doesn't need to be saved\n    tab: 'stage', //Tabs and subtabs have same name as buttons (for easier screen reader support)\n    subtab: {\n        /* Subtab format must be: [subtabName] + 'Current' */\n        stageCurrent: 'Structures',\n        settingsCurrent: 'Settings',\n        researchCurrent: 'Researches',\n        strangenessCurrent: 'Matter'\n        //Starting subtab name must be unlocked at same time as tab its part of (or change switchTab() logic)\n    },\n    tabList: { //Tabs and subtab need to be in same order as in footer\n        /* Subtabs format must be: [subtabName] + 'Subtabs' */\n        tabs: ['stage', 'research', 'strangeness', 'settings', 'special'], //'special' must be last\n        stageSubtabs: ['Structures', 'Advanced'],\n        settingsSubtabs: ['Settings', 'Stats', 'Debug'],\n        researchSubtabs: ['Researches', 'Elements'],\n        strangenessSubtabs: ['Matter', 'Milestones']\n    },\n    footer: true,\n    mobileDevice: false,\n    screenReader: false,\n    versionInfo: {\n        changed: false,\n        log: 'Change log:'\n    },\n    timeSpecial: {\n        lastSave: 0\n    },\n    stageInfo: {\n        word: ['', 'Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic'], //Stage amount is based on lenght\n        textColor: ['', 'var(--cyan-text-color)', 'var(--blue-text-color)', 'var(--gray-text-color)', 'var(--orange-text-color)', 'var(--darkorchid-text-color)'],\n        buttonBackgroundColor: ['', 'mediumblue', 'blue', '#291344', '#6a3700', '#4a008f'],\n        buttonBorderColor: ['', 'darkcyan', '#427be1', '#404040', '#9f6700', '#9d0054'],\n        imageBorderColor: ['', '#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2'],\n        priceName: 'Energy', //On what you buy upgrades and etc.\n        activeAll: [1] //All stages that should be calculated\n    },\n    automatization: { //Sorted cheapest first\n        autoU: [\n            [], //Empty\n            [],\n            [],\n            [],\n            [],\n            []\n        ], //Upgrades\n        autoR: [\n            [], //Empty\n            [],\n            [],\n            [],\n            [],\n            []\n        ], //Researches\n        autoE: [\n            [], //Empty\n            [], //Empty\n            [],\n            [],\n            [],\n            [] //Empty\n        ], //Researches Extra\n        elements: []\n    },\n    theme: {\n        stage: 1,\n        default: true\n    },\n    dischargeInfo: {\n        energyType: [0, 1, 5, 20],\n        base: 4,\n        step: 10,\n        next: 1\n    },\n    vaporizationInfo: {\n        get: 0\n    },\n    accretionInfo: {\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5, 5], //Upgrades\n        rankR: [1, 1, 2, 2, 3, 3, 4, 5], //Researches\n        rankE: [2, 3, 4, 5], //Researches Extra\n        rankCost: [5.97e27, 1e-7, 1e10, 1e24, 0, 0], //[4] is 5e29\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet'], //Name of rank (also alt attribute)\n        rankImage: ['Ocean%20world', 'Dust', 'Meteoroids', 'Asteroid', 'Planet', 'Giant'] //Source of image (file name and .png auto added)\n    },\n    collapseInfo: {\n        unlockB: [0, 0.01235, 0.23, 10, 40], //Buildings (stage 4)\n        unlockG: [0, 100, 1000, 1e5], //Buildings (stage 5)\n        unlockU: [0.01235, 0.076, 1.3, 10], //Upgrades\n        unlockR: [0.18, 0.3, 0.8, 1.3], //Researches\n        newMass: 0,\n        starCheck: [0, 0, 0],\n        trueStars: 0 //Stage 5 special (no need to be saved, since easily calculated)\n    },\n    intervalsId: {\n        main: 0,\n        numbers: 0,\n        visual: 0,\n        autoSave: 0\n    },\n    buildingsInfo: { //stageCheck(); will automatically change name and startCost\n        name: [\n            [],\n            ['Quarks', 'Particles', 'Atoms', 'Molecules'],\n            ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas'],\n            ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'],\n            ['Elements', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants'],\n            ['Stars', 'Nebulas', 'Star clusters', 'Galaxies']\n        ],\n        type: [ //'Not allowed index x', means that this index is reserved for gain calculation (code need to be changed to allow)\n            [],\n            ['', 'producing', 'producing', 'producing'], //Not allowed index 4 (for 'producing')\n            ['', 'producing', 'producing', 'improves', 'improves', 'improves'],\n            ['', 'producing', 'producing', 'producing', 'improves'],\n            ['', 'producing', 'producing', 'producing', 'producing'],\n            ['', 'producing', 'improves', 'improves'] //Not allowed index 2, 3, 4 (for 'producing')\n        ],\n        cost: [\n            [],\n            [0, 3, 24, 3],\n            [0, 0.0028, 100, 1e7, 1e18, 1e23],\n            [0, 1e-19, 1e-9, 1e21, 1e17],\n            [0, 1, 1e5, 1e16, 1e31],\n            [0, 1e30, 1e40, 1e60]\n        ],\n        startCost: [\n            [],\n            [0, 3, 24, 3],\n            [0, 0.0028, 100, 1e7, 1e18, 1e23],\n            [0, 1e-19, 1e-9, 1e21, 1e17],\n            [0, 1, 1e5, 1e16, 1e31],\n            [0, 1e30, 1e40, 1e5]\n        ],\n        increase: [\n            [],\n            [0, 1.4, 1.4, 1.4],\n            [0, 1.2, 1.2, 1.2, 1.2, 1.2],\n            [0, 1.15, 1.15, 1.15, 10],\n            [0, 1.4, 1.55, 1.70, 1.85],\n            [0, 2, 2, 1.11]\n        ],\n        producing: [\n            [],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0, 0, 0],\n            [0, 0, 0, 0, 0],\n            [0, 0, 0, 0, 0],\n            [0, 0, 0, 0]\n        ]\n    },\n    strangeInfo: {\n        stageGain: 0,\n        extraGain: 0,\n        stageBoost: [null, null, null, null, null, null]\n    },\n    HTMLSpecial: { //Have to be manually added\n        longestBuilding: 6, //Including [0] with is not here\n        buildingHTML: [ //No idea if it's good idea (outerHTML is 20+ times slower)\n            [],\n            [\n                ['Particle', 'Particle'],\n                ['Atom', 'Atom'],\n                ['Molecule', 'Molecule']\n            ],\n            [\n                ['Drop', 'Drop of water'],\n                ['Puddle', 'Puddle'],\n                ['Pond', 'Pond'],\n                ['Lake', 'Lake'],\n                ['Sea', 'Sea']\n            ],\n            [\n                ['Cosmic%20dust', 'Cosmic dust'],\n                ['Planetesimal', 'Planetesimal'],\n                ['Protoplanet', 'Protoplanet'],\n                ['Natural%20satellite', 'Moon']\n            ],\n            [\n                ['Brown%20dwarf', 'Brown dwarf'],\n                ['Orange%20dwarf', 'Orange dwarf'],\n                ['Red%20supergiant', 'Red supergiant'],\n                ['Blue%20hypergiant', 'Blue hypergiant']\n            ],\n            [\n                ['Nebula', 'Nebula'],\n                ['Star%20cluster', 'Star cluster'],\n                ['Galaxy', 'Galaxy']\n            ]\n        ],\n        longestUpgrade: 13,\n        upgradeHTML: [\n            [],\n            [\n                ['Upgrade1', 'Electron'],\n                ['Upgrade2', 'Proton'],\n                ['Upgrade3', 'Neutron'],\n                ['Upgrade4', 'Superposition'],\n                ['Upgrade5', 'Protium'],\n                ['Upgrade6', 'Deuterium'],\n                ['Upgrade7', 'Tritium'],\n                ['Upgrade8', 'Fusion']\n            ],\n            [\n                ['UpgradeW1', 'Mole'],\n                ['UpgradeW2', 'Vaporization'],\n                ['UpgradeW3', 'Tension'],\n                ['UpgradeW4', 'Stress'],\n                ['UpgradeW5', 'Stream'],\n                ['UpgradeW6', 'River'],\n                ['UpgradeW7', 'Tsunami']\n            ],\n            [\n                ['UpgradeA1', 'Motion'],\n                ['UpgradeA2', 'Gas'],\n                ['UpgradeA3', 'Micrometeoroid'],\n                ['UpgradeA4', 'Instability'],\n                ['UpgradeA5', 'Gravity'],\n                ['UpgradeA6', 'Pile'],\n                ['UpgradeA7', 'Orbit'],\n                ['UpgradeA8', 'Magma'],\n                ['UpgradeA9', 'Equilibrium'],\n                ['UpgradeA10', 'Atmosphere'],\n                ['UpgradeA11', 'Pebble'],\n                ['UpgradeA12', 'Tidal force'],\n                ['UpgradeA13', 'Ring']\n            ],\n            [\n                ['UpgradeS1', 'Collapse'],\n                ['UpgradeS2', 'Reaction'],\n                ['UpgradeS3', 'CNO'],\n                ['UpgradeS4', 'Helium fusion']\n            ],\n            [\n                ['UpgradeG1', 'Instability'],\n                ['UpgradeG2', 'Super cluster'],\n                ['UpgradeG3', 'Quasar']\n            ]\n        ],\n        longestResearch: 8,\n        researchHTML: [\n            [],\n            [\n                ['Research1', 'Protium+', 'stage1borderImage'],\n                ['Research2', 'Deuterium+', 'stage1borderImage'],\n                ['Research3', 'Tritium+', 'stage1borderImage'],\n                ['Research4', 'Discharge-', 'stage4borderImage'],\n                ['Research5', 'Discharge+', 'stage4borderImage'],\n                ['Research6', 'Discharge++', 'stage4borderImage']\n            ],\n            [\n                ['ResearchW1', 'Moles+', 'stage2borderImage'],\n                ['ResearchW2', 'Moles++', 'stage2borderImage'],\n                ['ResearchW3', 'Tension+', 'stage2borderImage'],\n                ['ResearchW4', 'Stress+', 'stage2borderImage'],\n                ['ResearchW5', 'Streams+', 'stage2borderImage'],\n                ['ResearchW6', 'Channel', 'stage2borderImage']\n            ],\n            [\n                ['ResearchA1', 'Mass+', 'stage3borderImage'],\n                ['ResearchA2', 'Adhesion', 'stage2borderImage'],\n                ['ResearchA3', 'Weathering', 'stage3borderImage'],\n                ['ResearchA4', 'Collision', 'stage3borderImage'],\n                ['ResearchA5', 'Binary', 'stage3borderImage'],\n                ['ResearchA6', 'Gravity+', 'stage1borderImage'],\n                ['ResearchA7', 'Layers', 'stage7borderImage'],\n                ['ResearchA8', 'Drag', 'stage1borderImage']\n            ],\n            [\n                ['ResearchS1', 'Orbit', 'stage5borderImage'],\n                ['ResearchS2', '2 stars', 'stage5borderImage'],\n                ['ResearchS3', 'Protodisc', 'stage7borderImage'],\n                ['ResearchS4', 'Planetary nebula', 'stage5borderImage']\n            ],\n            [\n                ['ResearchG1', 'Density', 'stage1borderImage'],\n                ['ResearchG2', 'Frequency', 'stage6borderImage']\n            ]\n        ],\n        longestResearchExtra: 4,\n        researchExtraDivHTML: [\n            [],\n            [],\n            ['Cloud%20Researches', 'Cloud researches', 'stage2borderImage'],\n            ['Rank%20Researches', 'Rank researches', 'stage6borderImage'],\n            ['Star%20Researches', 'Star researches', 'stage6borderImage'],\n            []\n        ],\n        researchExtraHTML: [\n            [],\n            [],\n            [\n                ['ResearchClouds1', 'Vaporization+', 'stage3borderImage'],\n                ['ResearchClouds2', 'Rain', 'stage2borderImage'],\n                ['ResearchClouds3', 'Storm', 'stage4borderImage']\n            ],\n            [\n                ['ResearchRank1', 'Ocean', 'stage3borderImage'],\n                ['ResearchRank2', 'Rank', 'stage3borderImage'],\n                ['ResearchRank3', 'Weight', 'stage3borderImage'],\n                ['ResearchRank4', 'Viscosity', 'stage2borderImage']\n            ],\n            [\n                ['ResearchStar1', 'Supernova', 'stage6borderImage'],\n                ['ResearchStar2', 'White dwarf', 'stage1borderImage']\n            ],\n            []\n        ]\n    },\n    //Effect text = '[0]' + effect[n] + '[1]'; Unless effect[n] === null, then text = '[0]' (effect is not null only if can change)\n    //Research cost, only allows 2 digits after a dot (example: 0.123 = 0.12)\n    //Stage 3 / 4 need extra information in rankInfo / collapseInfo\n    upgradesInfo: [\n        {\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: []\n        },\n        { //Stage 1\n            description: [\n                'Bigger electrons. Particles cost decreased.',\n                'Stronger protons. Particles produce more.',\n                'More neutrons. Increased gain of Particles.',\n                'Superposition. Unlocks a new reset tier.',\n                'Protium. Basic.',\n                'Deuterium. Heavy.',\n                'Tritium. Radioactive.',\n                'Nuclear fusion. More Energy.'\n            ],\n            effectText: [\n                ['Particle cost is 10 times cheaper.'],\n                ['Particles produce 10 times more Quarks.'],\n                ['Atoms produce 5 times more Particles.'],\n                ['Ability to reset at any time, and if had enough Energy, then production for all structures will also be boosted by ', ' times.'],\n                ['Cost scaling is decreased by ', '.'],\n                ['Structures (only self-made one\\'s) boost themselves by ', ' times.'],\n                ['Molecules produce Molecules. At a reduced rate. (', ' per second)'],\n                ['Unspent Energy boost Molecules production of themselves 1 to 1.']\n            ],\n            effect: [null, null, null, 4, 0.2, 1.01, 0, null],\n            cost: [9, 12, 36, 300, 800, 2000, 8000, 30000]\n        }, { //Stage 2\n            description: [\n                'Molecules to Moles. Even more Moles.',\n                'Vaporization. Unlock a new reset tier.',\n                'Surface tension. Allows for bigger Puddles.',\n                'Surface stress. Even bigger Puddles.',\n                'Stream. Spreads water around.',\n                'River. Spreads even more water.',\n                'Tsunami. Spreads water too fast.'\n            ],\n            effectText: [\n                ['Drops will produce Moles even more for every self-made Drops.'],\n                ['Gain ability to convert Drops into Clouds. (Puddles get a boost equal to Cloud amount)'],\n                ['Puddles get boost based on Moles. (Equal to Moles ^ ', ')'],\n                ['Puddles get boost based on Drops. (Equal to Drops ^ ', ')'],\n                ['Ponds do not produce Puddles, instead they only improve them.\\nThis upgrade will create extra Puddles for every Pond. (', ' extra Puddles per Pond)'],\n                ['Lakes now create extra Ponds. (', ' extra Ponds per Lake)'],\n                ['Each Sea creates 1 extra Lake.']\n            ],\n            effect: [null, null, 0.02, 0.02, 1, 1, null],\n            cost: [1e4, 1e10, 1000, 10000, 2e9, 5e20, 1e28]\n        }, { //Stage 3\n            description: [\n                'Brownian motion.',\n                'Gas. New substance for Accretion.',\n                'Micrometeoroid. Unlock a new structure.',\n                'Streaming instability.',\n                'Gravitational field. Unlock a new structure.',\n                'Rubble pile.',\n                'Satellite system.',\n                'Magma ocean.',\n                'Hydrostatic equilibrium',\n                'Atmosphere.',\n                'Pebble accretion.',\n                'Tidal force.',\n                'Ring system.'\n            ],\n            effectText: [\n                ['Through random collisions every self-made Dust speeds up Accretion speed. (By ', ')'],\n                ['Accretion speed is now quicker based on current Dust amount. (', ' boost)'],\n                ['Just a small meteoroid, but it will be a good base for what to come. (Also 2x boost to Dust)'],\n                ['Small bodies spontaneously concentrate into clumps. (Self-made Planetesimals boost each other by ', ')'], //Effect here only needs format\n                ['Bodies are now massive enough to affect each other with gravity. (4x boost to Planetesimals)'],\n                ['Shattered pieces fall back together. Mass production is now even bigger. (By 3x)'],\n                ['Unlocks yet another structure.'],\n                ['Core melted, Accretion speed increased. (Mass production increased by ', ')'],\n                ['After reaching equilibrium, Protoplanets will boost themselfs, more with each self-made one.'],\n                ['Accretion speed increased again (because of drag and escape velocity), by 2.'],\n                ['Accretion speed greatly increased by ', '.'],\n                ['Satellites scaling cost is now 2 times smaller.'],\n                ['Satellites effect scales better.']\n            ],\n            effect: [1.01, 0, null, 1.02, null, null, null, 2, null, null, 10, null, null],\n            cost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e22, 1e11, 1e22, 1e23, 1e9, 1e26, 1e29]\n        }, { //Stage 4\n            description: [\n                'Gravitational collapse.',\n                'Proton-proton chain.',\n                'Carbon-Nitrogen-Oxygen cycle.',\n                'Helium fusion.'\n            ],\n            effectText: [\n                ['As fuel runs out, each star will boost production in its own special way.'],\n                ['Fuse with Protium instead of Deuterium. Unlocks a new structure and something else.'],\n                ['CNO cycle is now a better source of Helium and Energy. Unlocks a new structure and more of something else.'],\n                ['Through Triple-alpha and then Alpha process, unlock a few more Elements.']\n            ],\n            effect: [null, null, null, null],\n            cost: [100, 1000, 1e9, 1e50]\n        }, { //Stage 5\n            description: [\n                'Jeans instability.',\n                'Super star cluster.',\n                'Quasar'\n            ],\n            effectText: [\n                ['Gravitational collapse within Nebulas will increase speed for production of Stars by ', ' times.'],\n                ['A very massive Star clusters, that will boost Stars by ', '.'],\n                ['Nickel Element receives super boost of ^', '.'] //Effect here only needs format\n            ],\n            effect: [4, 6, 1.5],\n            cost: [1e50, 1e60, 1e100]\n        }\n    ],\n    researchesInfo: [\n        {\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            scaling: [],\n            max: []\n        },\n        { //Stage 1\n            description: [\n                \"Effect of 'Protium' upgrade is stronger.\",\n                \"Effect of 'Deuterium' upgrade is bigger.\",\n                \"Effect of 'Tritium' upgrade is better.\",\n                'Discharge goal requirements decreased.',\n                'Discharge bonus improved.',\n                'Radioactive Discharge.'\n            ],\n            effectText: [\n                ['Cost scaling is ', ' smaller for each level.'], //Effect here only needs format\n                ['Each self-made structure, boost each other by additional ', '.'], //Effect here only needs format\n                ['Molecules now produce themselves ', ' times quicker.'],\n                ['Next goal for Discharge bonus scales by -1 less.'],\n                ['Discharge is now provides 2 times bigger bonus per reached goal.'],\n                [\"Discharge will boost 'Tritium' upgrade for every reached goal + 1.\"]\n            ],\n            effect: [0.01, 0.01, 12, null, null, null],\n            cost: [1000, 3000, 12000, 6000, 10000, 20000],\n            scaling: [500, 2000, 2000, 26000, 0, 5000],\n            max: [9, 3, 9, 2, 1, 3]\n        }, { //Stage 2\n            description: [\n                'Better Mole production.',\n                'All of it, is still around.',\n                'Stronger surface tension.',\n                'Stronger surface stress.',\n                'More streams.',\n                'Distributary channel.'\n            ],\n            effectText: [\n                ['Drops produce 3 times more Moles.'],\n                ['Bonus to structures is now based on total produced, rather than on hands. Level 1 for Drops, level 2 for Moles.'],\n                ['Surface tension upgrade is now +', ' stronger.'], //Effect here only needs format\n                ['Surface stress upgrade is now +', ' stronger.'], //Effect here only needs format\n                ['With more streams, can have even more extra Puddles. (+1 extra Puddles per Pond)'],\n                ['Rivers can split now, that allows even more Ponds per Lake. (+1 per)']\n            ],\n            effect: [null, null, 0.02, 0.03, null, null],\n            cost: [20, 1e12, 1e5, 1e6, 1e14, 1e22],\n            scaling: [1.2, 1000, 1000, 10000, 1000, 100],\n            max: [9, 2, 3, 3, 2, 2]\n        }, { //Stage 3\n            description: [\n                'More massive bodies.',\n                'Adhesion.',\n                'Space weathering.',\n                'Inelastic collisions.',\n                'Contact binary.',\n                'Gravity.',\n                'Planetary differentiation.',\n                'Aerodynamic drag.'\n            ],\n            effectText: [\n                ['Dust production is increased by 3.'],\n                ['Dust particles cling to each other. (+', \" to 'Brownian motion')\"], //Effect here only needs format\n                ['Planetesimals produce more Dust. (3 times more)'],\n                ['Slow encounter velocities will result in a more efficient growth, so this research will make bodies lose more energy with each deflection. Mass production increased by 2.'],\n                ['Some Planetesimals instead of shattering form a contact binary or even trinary. Planetesimals production boosted by 5x.'],\n                ['Planetesimals attract other bodies with own gravity. Planetesimals get boost to production based on unspent Mass.\\n(Total boost: ', ')'],\n                [\"'Magma Ocean' upgrade is stronger now. (\", 'x times)'], //Effect here only needs format\n                [\"Accretion speed for 'Pebble accretion' increased again, by 3.\"]\n            ],\n            effect: [null, 0.01, null, null, null, 0, 1.5, null],\n            cost: [1e-14, 1e-15, 1e-5, 1e5, 1e10, 1e15, 1e13, 1e12],\n            scaling: [11, 111, 22, 10, 100, 10, 100000, 1000],\n            max: [7, 3, 9, 4, 2, 5, 3, 3]\n        }, { //Stage 4\n            description: [\n                'Planetary system.',\n                'Star system.',\n                'Protoplanetary disk.',\n                'Planetary nebula.'\n            ],\n            effectText: [\n                ['From Planetesimals to Planets, will get ', 'x boost to all Stars.'],\n                ['Each Star boost another Star. (Total to each Star is ', 'x)'],\n                [\"Improve effect of 'Planetary system', as well increases its max level by +3.\"],\n                ['Matter expelled from Red giants, but get 10x boost to Main-sequence stars anyway.']\n            ],\n            effect: [1.1, 1, null, null],\n            cost: [1000, 50000, 1e8, 1e12],\n            scaling: [10, 200, 1e12, 0],\n            max: [3, 2, 1, 1]\n        }, { //Stage 5\n            description: [\n                'Higher density.',\n                'Type frequency.'\n            ],\n            effectText: [\n                ['Higher density of Nebulas, will allow them to produce higher tier of Stars, but each tier is 4 times slower than previous one. Also will boost Nebulas by 4.\\nNext tier will be ', '.'],\n                ['More types of Stars are found within Star cluster. Increasing effect by 3, but also boosting lower tier of Stars. (3 times less than higher one)\\nNext tier will be ', '.']\n            ],\n            effect: ['Main sequence', 'Red supergiants'],\n            cost: [1e40, 1e55],\n            scaling: [1e20, 1e15],\n            max: [3, 3]\n        }\n    ],\n    researchesExtraInfo: [\n        {\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            scaling: [],\n            max: []\n        },\n        {\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            scaling: [],\n            max: []\n        },\n        { //Stage 2\n            description: [\n                'Natural vaporization.',\n                'Rain Clouds.',\n                'Storm Clouds.'\n            ],\n            effectText: [\n                ['Clouds will now use total produced Drops instead, when formed.'],\n                ['Some Clouds will start pouring Drops themselves. (', ' per second)'],\n                ['Seas get a boost based on amount of Clouds. (Equal to ', ')']\n            ],\n            effect: [null, 0, 0],\n            cost: [1e16, 1e13, 1e26],\n            scaling: [0, 100, 0],\n            max: [1, 4, 1]\n        }, { //Stage 3\n            description: [\n                'Rank, can now boost Dust production.',\n                'Efficient growth.',\n                'Weight.',\n                'Viscosity.'\n            ],\n            effectText: [\n                ['Dust production is increased by another ', '.'],\n                ['Accretion speed is even quicker. Multiplied by current rank. (Total boost to Dust: ', ')'],\n                [\"'Gravitational field' upgrade will boost Protoplanets now as well. (Only half of effect)\"],\n                [\"'Gas' upgrade is now stronger.\"]\n            ],\n            effect: [0, 0, null, null],\n            cost: [1e-18, 1e-16, 1e26, 1e-12],\n            scaling: [10, 100, 0, 100],\n            max: [12, 5, 1, 20]\n        }, { //Stage 4\n            description: [\n                'At the end of Star life.',\n                'White dwarfs.'\n            ],\n            effectText: [\n                ['', ' Stars are now creating something new, upon collapse reset.'],\n                ['Red giants are turning into White dwarfs, which caused Main-sequence to produce quicker. (Times square root of Red giants)']\n            ],\n            effect: ['Main sequence', null],\n            cost: [1e6, 1e50],\n            scaling: [1e12, 0],\n            max: [3, 1]\n        }, { //Stage 5\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            scaling: [],\n            max: []\n        }\n    ],\n    researchesAutoInfo: {\n        description: [\n            'Make toggles.',\n            'Increased max offline time.',\n            'Automatic upgrades.'\n        ],\n        effectText: [\n            ['Unlock ability to make multiple structures at same time.'],\n            ['Research this to make max offline timer +4 hours longer.'],\n            ['This is going to create all upgrades automatically. Each level increases highest type of upgrades to create.']\n        ],\n        effect: [null, null, null],\n        cost: [300, 1e9, 1],\n        scaling: [30000, 2e4, 1e10],\n        max: [1, 1, 0],\n        autoStage: [1, 2, 3] //Stage at which you can buy auto research\n    },\n    ASRInfo: { //Part of researchesAutoInfo for buildings (Auto Structures Research)\n        cost: [0, 4000, 1e10, 1e-7, 1e6, 1],\n        costRange: [ //Easier this way to make non standart scaling\n            [],\n            [4000, 12000, 20000],\n            [1e10, 1e13, 1e16, 1e24, 1e28],\n            [1e-7, 1e10, 5e29, 2e30],\n            [1e6, 1e17, 1e28, 1e39],\n            [1, 1, 1]\n        ],\n        max: [0, 3, 5, 4, 4, 0]\n    },\n    elementsInfo: {\n        description: [\n            '[0] Placeholder.',\n            '[1] Hydrogen.',\n            '[2] Helium.',\n            '[3] Lithium.',\n            '[4] Beryllium.',\n            '[5] Boron.',\n            '[6] Carbon.',\n            '[7] Nitrogen.',\n            '[8] Oxygen.',\n            '[9] Fluorine.',\n            '[10] Neon.',\n            '[11] Sodium.',\n            '[12] Magnesium.',\n            '[13] Aluminium.',\n            '[14] Silicon.',\n            '[15] Phosphorus.',\n            '[16] Sulfur.',\n            '[17] Chlorine.',\n            '[18] Argon.',\n            '[19] Potassium.',\n            '[20] Calcium.',\n            '[21] Scandium.',\n            '[22] Titanium.',\n            '[23] Vanadium.',\n            '[24] Chromium.',\n            '[25] Manganese.',\n            '[26] Iron.',\n            '[27] Cobalt.',\n            '[28] Nickel.'\n        ],\n        effectText: [\n            ['Placeholder'],\n            ['Most basic element, increases Brown dwarf production by 2.'],\n            ['Fusion reaction by product, makes everything scale ', ' less.'], //Effect here only needs format\n            ['First metal, Mass per Brown dwarf lightly increased.'],\n            ['Brittle earth metal, so is brittle increase to production. (', 'x to all Stars)'], //Effect here only needs format\n            ['A new color, and a new boost to Mass gain that is based on current Dwarf Stars.'],\n            ['Base for organics, boost from Red giants is now increased to the power of ', '.\\nDid you knew that Red giants are boosting Main-sequence Stars?'], //Effect here only needs format\n            [\"Most abundant uncombined Element in atmosphere of some Planets, also allows to have 2 extra levels of 'Star system'.\"],\n            ['An oxidizing agent, that will make everything scale even slower. (', ' less)'], //Effect here only needs format\n            [\"Highly toxic and reactive, +12 to max level of 'Planetary system'.\"],\n            ['A noble 2x boost to Mass gain.'],\n            [\"Through leaching, get 1 extra level of 'Protoplanetary disk'.\"],\n            ['Stars are inside you, as well Neutrons stars strength is now increased to the decimal logarithm.\\nThat will make Neutron stars boost all Stars even better.'],\n            ['Has a great affinity towards Oxygen and to decrease cost of all Stars by ', '.'], //Effect here only needs format\n            ['Number is 14, group is 14, melts at 1414\u00B0C and so is Mass gain increased by ', '.'], //Effect here only needs format\n            ['One of the fundamentals of life and to make all of Stars boost Mass.'],\n            [\"From hot area, to increase max level of 'Star system' by 1.\\nResearch softcapped past 1e10.\"],\n            [\"Extremely reactive to extend max level of 'Planetary system', by another 27 levels.\"],\n            ['Less noble boost, but Black holes effect scales a little better.\\nThat will surely increase Main-sequence mass gain.'],\n            ['Don\\'t forget about it and get a 3x boost to all Stars.'],\n            [\"Get stronger with 1 extra level of 'Star system'.\\nEffect is weaker, after 5 levels.\"],\n            ['A new color and a rare bonus of ^', ' to Mass effect.'], //Effect here only needs format\n            ['New alloy allowing Red giants to be added into effective amount of Neutron stars.'],\n            ['Catalyst for production of Elements. Black holes boost all Stars to the decimal logarithm.'],\n            ['No corrosion, only ^', ' boost to all Stars based on unspent Elements.'], //Effect here only needs format\n            [\"Brittle element, but not the bonus - 1 more level in 'Star system'.\"],\n            ['Any further fusion will be an endothermic process. Gain 2x boost to all Stars, but what next?\\nUnlock ability to switch beetwin Stages. (Also enter a new Stage)'],\n            ['While new Elements won\\'t produce much Energy, this one can create 2 extra Strange quark for this Stage reset.'],\n            ['Slow to react, but gain extra Strange quarks for every new reached digit past 52 anyway.\\n(+', ' for this reset)']\n        ],\n        effect: [\n            null, null, 0.1, null, 1.1, null, 1.5, null, 0.05, null,\n            null, null, null, 1e3, 1.4, null, null, null, null, null,\n            null, 1.1, null, null, 0.01, null, null, null, 0\n        ],\n        cost: [ //If index 0 to be added, then it should have cost higher than last unlocked before it (or add continue for autoElements)\n            1e308, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 2e13, 1e14,\n            1e16, 1e20, 1e24, 1e25, 1.4e27, 1e30, 1e31, 5e31, 5e33, 1e35,\n            1e36, 1e38, 2e39, 3e41, 4e42, 1e45, 1e50, 1e52, 1e55\n        ]\n    },\n    strangenessInfo: [\n        {\n            description: [],\n            effectText: [],\n            effect: [],\n            cost: [],\n            scaling: [],\n            max: []\n        },\n        { //Stage 1\n            description: [\n                'Stronger Discharge.',\n                'Cheaper Discharge.',\n                'Free Discharge.',\n                'Automatic Discarge.',\n                'More Particle Energy.',\n                \"Better 'Tritium' effect.\",\n                'Keep auto Structures.',\n                'More toggles.',\n                'Strange boost.'\n            ],\n            effectText: [\n                ['Base Discharge effect is now +1.'],\n                ['Discharge goal scales slower. (-1)'],\n                ['Always have +1 bonus Discharge.'],\n                ['Automatically Discharge upon creating an upgrade or reaching next goal.'],\n                ['Gain more Energy from creating Particles, +1.'],\n                [\"Research for improved 'Tritium' upgrade is now better. (+\", ')'], //Effect here only needs format\n                ['Start with auto for ', '.'],\n                ['Unlock a new toggle. Also keep them on Stage reset.'],\n                ['Unspend Strange quarks will boost this stage. (Stronger radiation)']\n            ],\n            effect: [null, null, null, null, null, 0.3, 'Particles', null, null],\n            cost: [1, 1, 2, 4, 4, 1, 2, 2, 10],\n            scaling: [1.5, 1, 3, 0, 2, 0.25, 2, 3, 0], //Right now only 2 digits allowed past point\n            max: [4, 4, 2, 1, 2, 10, 3, 1, 1]\n        }, { //Stage 2\n            description: [\n                'More Moles.',\n                'Bigger Puddles.',\n                'More spread.',\n                'Cloud density.',\n                'Automatic Vaporization.',\n                'Keep auto Structures.',\n                'Longer max offline.',\n                'Longest max offline.',\n                'Strange boost.'\n            ],\n            effectText: [\n                ['Mole production increased by 2x.'],\n                ['Puddles produce 2 times more.'],\n                ['Increase max level of some researches by +1.\\nFinal level will instead unlock a new upgrade.'],\n                ['Gain more Clouds from Vaporization. (Affected by softcap)'],\n                ['Automatically Vaporize when reach certain amount.'],\n                ['Start with auto for ', '.'],\n                ['Increase max offline time research level. Also keep them on Stage reset.'],\n                ['Max offline time is now 2 times longer. (Additive)'],\n                ['Unspend Strange quarks will boost this stage. (Puddle production)']\n            ],\n            effect: [null, null, null, null, null, 'Drops', null, null, null],\n            cost: [1, 2, 2, 1, 3, 2, 1, 3, 8],\n            scaling: [0.2, 0.5, 1.5, 2, 0, 1, 1.34, 2.5, 0],\n            max: [9, 6, 3, 3, 1, 5, 4, 2, 1]\n        }, { //Stage 3\n            description: [\n                'Accretion speed increase.',\n                'Intense weathering.',\n                'More levels.',\n                'Improved Satellites.',\n                'Automatic Rank.',\n                'Keep auto Structures.',\n                'Automatization for Upgrades.',\n                'Strange boost.'\n            ],\n            effectText: [\n                ['Accretion speed is 2 times faster. (Affected by softcap)'],\n                ['All Accretion structures that produce another structure now do it 2 times faster.'],\n                ['Some Rank researches receive extra Max level.\\nFinal level will instead unlock a new upgrade.'],\n                ['Satellites now improve all Accretion structures.'],\n                ['Automatically increase Rank when available.'],\n                ['Start with auto for ', '.'],\n                ['Unlock automatization for Upgrades / Researches. Also keep them on Stage reset.'],\n                ['Unspend Strange quarks will boost this stage. (Cheaper Accretion)']\n            ],\n            effect: [null, null, null, null, null, 'Cosmic dust', null, null],\n            cost: [1, 1, 3, 4, 3, 2, 5, 6],\n            scaling: [0.75, 1.5, 2.5, 0, 0, 1, 3.5, 0],\n            max: [8, 4, 3, 1, 1, 4, 3, 1]\n        }, { //Stage 4\n            description: [\n                'Hotter Stars.',\n                'Cheaper Stars.',\n                'New Upgrade.',\n                'Main giants.',\n                'Remnants of past.',\n                'Automatic Collapse.',\n                'Keep auto Structures.',\n                'Daily gain.',\n                'Max gain.',\n                'Strange boost.'\n            ],\n            effectText: [\n                ['All Stars produce ', ' times more Elements.'], //Effect here only needs format\n                ['Stars are 2 times cheaper.'],\n                ['Unlock a new Upgrade.\\nFirst one is extra good.'],\n                ['25% of Brown dwarfs will turn into Red giants now.'],\n                ['Elements in research tab will be preserved through Collapse reset.'],\n                ['Stars will Collapse automatically.'],\n                ['Start with auto for ', '.'],\n                ['Creates +1 Strange quarks per day, can claim only full one\\'s only with export.'],\n                ['Unclaimed Strange quarks max storage is now 1 day longer.'],\n                ['Unspend Strange quarks will boost this stage. (All Stars production)']\n            ],\n            effect: [1.5, null, null, null, null, null, 'Brown dwarfs', null, null, null],\n            cost: [1, 1, 3, 2, 4, 3, 3, 2, 4, 4],\n            scaling: [1, 1.5, 1.5, 2, 0, 0, 1, 2.5, 0, 0],\n            max: [8, 4, 3, 2, 1, 1, 4, 3, 1, 1]\n        }, { //Stage 5\n            description: [\n                'Omnipresent reality.',\n                'Strange gain.',\n                'Auto Stage.',\n                'Bigger Nebulas.',\n                'Denser Clusters.',\n                'Gravitational bound.',\n                'Hypercompact stellar system.',\n                'Auto Structures.',\n                'New Milestones.'\n            ],\n            effectText: [\n                ['Gain abbility to be inside multiple Stages at once. (Next one to always be inside is ', ')'],\n                ['Gain 2 times more Strange quarks from Stage resets.'],\n                ['Allows to auto switch Stage, has some special settings.'],\n                [\"Bigger Nebulas, more matter for Accretion. 'Jeans instability' upgrade is 3 times stronger.\"],\n                [\"'Super star cluster' is now even bigger. Effect increased by 4.\"],\n                ['Intergalactic is no longer affected by lower Stage reset types.'],\n                ['With this, a new Structure, can be created. Second level unlocks auto for it.'],\n                ['Increase current level of auto Structures. It\\'s the only way to do it.'],\n                ['Unlock Intergalactic Milestones.']\n            ],\n            effect: ['Microworld', null, null, null, null, null, null, null, null],\n            cost: [120, 10, 20, 5, 10, 20, 800, 20, 40],\n            scaling: [60, 0, 0, 5, 10, 0, 400, 20, 0],\n            max: [3, 1, 1, 9, 9, 1, 2, 2, 1]\n        }\n    ],\n    lastUpgrade: [0, false], //Allows to auto update last looked upgrade description\n    lastResearch: [0, false, 'researches'],\n    lastElement: [0, false],\n    milestonesInfo: [\n        {\n            description: [],\n            needText: [],\n            need: [],\n            rewardText: [],\n            quarks: [],\n            unlock: []\n        },\n        { //Stage 1\n            description: [\n                'Endless Quarks.',\n                'Energized.'\n            ],\n            needText: [\n                ['Discharge with at least ', ' Quarks at once.'],\n                ['Have max Energy reach ', '.']\n            ],\n            need: [ //Length = max\n                [1e220, 1e240, 1e260, 1e280, 1e300],\n                [40000, 46000, 52000, 58000]\n            ],\n            rewardText: [ //Only null reward, right now\n                'Unknown structure, it doesn\\'t belong to this Universe.\\nYou can view it in stats.',\n                'Stars produce 4 times more Elements.'\n            ],\n            quarks: [ //How many Strange quarks will get\n                [1, 1, 1, 1, 2],\n                [1, 1, 1, 2]\n            ],\n            unlock: [5, 3] //When extra reward is unlocked (index + 1)\n        }, { //Stage 2\n            description: [\n                'A Nebula of Drops.',\n                'Just a bigger Puddle.'\n            ],\n            needText: [\n                ['Vaporize ', ' Drops at once.'],\n                ['Have at least ', ' Puddles at same time.']\n            ],\n            need: [\n                [1e30, 1e35, 1e40, 1e45, 1e50],\n                [3000, 5000, 9000, 18000]\n            ],\n            rewardText: [\n                'Unlock a new Structure.',\n                'Unknown structure, it doesn\\'t belong to this Universe.\\nYou can view it in stats.'\n            ],\n            quarks: [\n                [1, 1, 1, 2, 3],\n                [1, 2, 2, 3]\n            ],\n            unlock: [3, 4]\n        }, { //Stage 3\n            description: [\n                'Cluster of Mass.',\n                'Satellites of Satellites.'\n            ],\n            needText: [\n                ['Have at least ', ' Mass at once.'],\n                ['Have more Satellites than ', '.']\n            ],\n            need: [\n                [1e30, 1e35, 1e40, 1e46, 1e52, 1e58],\n                [25, 40, 55, 70, 85]\n            ],\n            rewardText: [\n                'Unlock a new Structure.',\n                'Unknown structure, it doesn\\'t belong to this Universe.\\nYou can view it in stats.'\n            ],\n            quarks: [\n                [1, 1, 1, 2, 2, 3],\n                [1, 2, 2, 3, 3]\n            ],\n            unlock: [3, 5]\n        }, { //Stage 4\n            description: [\n                'Just more Mass.',\n                'Biggest of all.'\n            ],\n            needText: [\n                ['Collapse to at least ', ' Main-sequence mass.'],\n                ['Collapse to ', ' Black holes or more.']\n            ],\n            need: [\n                [9000, 15000, 22000, 30000, 40000, 60000, 80000],\n                [100, 150, 200, 250, 300]\n            ],\n            rewardText: [\n                'Unlock a new Strangeness.',\n                'Unknown structure, it doesn\\'t belong to this Universe.\\nYou can view it in stats.'\n            ],\n            quarks: [\n                [1, 2, 3, 4, 5, 6, 8],\n                [1, 2, 3, 4, 5]\n            ],\n            unlock: [3, 5]\n        }, {\n            description: [\n                'Light in the dark.',\n                'Greatest of the walls.'\n            ],\n            needText: [\n                ['Have self-made Stars count reach at least ', '.'],\n                ['Have ', ' Galaxies or more.']\n            ],\n            need: [\n                [1200, 1400, 1600, 1800, 2000, 2200, 2400],\n                [1, 2, 4, 8, 12, 16, 20, 24]\n            ],\n            rewardText: [\n                'Intergalactic is always unlocked with Interstellar.',\n                'Unknown structure, it doesn\\'t belong to this Universe.\\nYou can view it in stats.'\n            ],\n            quarks: [\n                [5, 5, 10, 10, 20, 20, 50],\n                [25, 25, 50, 50, 100, 100, 200, 0]\n            ],\n            unlock: [4, 8]\n        }\n    ]\n};\n\nconst createArray = (amount: number, special: 'toggle' | 'toggleAuto' | 'upgrade') => {\n    const array = [];\n    for (let i = 0; i < amount; i++) {\n        if (special === 'toggle') {\n            array.push(true);\n        } else if (special === 'toggleAuto') {\n            array.push(false);\n        } else if (special === 'upgrade') {\n            array.push(0);\n        }\n    }\n    return array;\n};\n\nObject.assign(player, {\n    upgrades: [\n        [],\n        createArray(global.upgradesInfo[1].cost.length, 'upgrade'),\n        createArray(global.upgradesInfo[2].cost.length, 'upgrade'),\n        createArray(global.upgradesInfo[3].cost.length, 'upgrade'),\n        createArray(global.upgradesInfo[4].cost.length, 'upgrade'),\n        createArray(global.upgradesInfo[5].cost.length, 'upgrade')\n    ],\n    researches: [\n        [],\n        createArray(global.researchesInfo[1].cost.length, 'upgrade'),\n        createArray(global.researchesInfo[2].cost.length, 'upgrade'),\n        createArray(global.researchesInfo[3].cost.length, 'upgrade'),\n        createArray(global.researchesInfo[4].cost.length, 'upgrade'),\n        createArray(global.researchesInfo[5].cost.length, 'upgrade')\n    ],\n    researchesExtra: [\n        [],\n        [],\n        createArray(global.researchesExtraInfo[2].cost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[3].cost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[4].cost.length, 'upgrade'),\n        createArray(global.researchesExtraInfo[5].cost.length, 'upgrade')\n    ],\n    researchesAuto: createArray(global.researchesAutoInfo.cost.length, 'upgrade'),\n    ASR: createArray(global.ASRInfo.cost.length, 'upgrade'),\n    elements: createArray(global.elementsInfo.cost.length, 'upgrade'),\n    strangeness: [\n        [],\n        createArray(global.strangenessInfo[1].cost.length, 'upgrade'),\n        createArray(global.strangenessInfo[2].cost.length, 'upgrade'),\n        createArray(global.strangenessInfo[3].cost.length, 'upgrade'),\n        createArray(global.strangenessInfo[4].cost.length, 'upgrade'),\n        createArray(global.strangenessInfo[5].cost.length, 'upgrade')\n    ],\n    milestones: [\n        [],\n        createArray(global.milestonesInfo[1].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[2].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[3].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[4].need.length, 'upgrade'),\n        createArray(global.milestonesInfo[5].need.length, 'upgrade')\n    ]\n});\nObject.assign(player.toggles, { //To prevent properties from being removed, it will be done separatly\n    normal: createArray(document.getElementsByClassName('toggle').length, 'toggle'),\n    buildings: [\n        [],\n        createArray(player.buildings[1].length, 'toggleAuto'),\n        createArray(player.buildings[2].length, 'toggleAuto'),\n        createArray(player.buildings[3].length, 'toggleAuto'),\n        createArray(player.buildings[4].length, 'toggleAuto'),\n        createArray(player.buildings[5].length, 'toggleAuto')\n    ],\n    auto: createArray(document.getElementsByClassName('toggleAuto').length, 'toggleAuto')\n});\n\n//player.example = playerStart.example; not allowed, instead iterate or create clone\nexport const playerStart = structuredClone(player) as playerType;\nexport const globalStart = structuredClone(global) as globalType;\n\n//Extension for Math.log for any base\n//export const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n\nexport const checkPlayerValues = () => {\n    const { stageInfo } = global;\n\n    //No visual update\n    for (const s of stageInfo.activeAll) {\n        for (let i = 0; i < global.upgradesInfo[s].cost.length; i++) {\n            if (player.upgrades[s][i] > 1) {\n                player.upgrades[s][i] = 1;\n                console.warn(`Upgrade (${i + 1} of ${s}) had an illegal value`);\n            }\n        }\n        for (let i = 0; i < global.researchesInfo[s].cost.length; i++) {\n            if (player.researches[s][i] > global.researchesInfo[s].max[i]) {\n                player.researches[s][i] = global.researchesInfo[s].max[i];\n                console.warn(`Research (${i + 1} of ${s}) had level above maxium`);\n            }\n        }\n        if (s === 1) { continue; }\n        for (let i = 0; i < global.researchesExtraInfo[s].cost.length; i++) {\n            if (player.researchesExtra[s][i] > global.researchesExtraInfo[s].max[i]) {\n                player.researchesExtra[s][i] = global.researchesExtraInfo[s].max[i];\n                console.warn(`Extra research (${i + 1} of ${s}) had level above maxium`);\n            }\n        }\n    }\n    for (let i = 0; i < global.researchesAutoInfo.cost.length; i++) {\n        if (player.researchesAuto[i] > global.researchesAutoInfo.max[i]) {\n            player.researchesAuto[i] = global.researchesAutoInfo.max[i];\n            console.warn(`Research (${i + 1}) for automatization had level above maxium`);\n        }\n    } //No need to check ASR max level\n    if (player.stage.true >= 4) {\n        for (let i = 1; i < global.elementsInfo.cost.length; i++) {\n            if (player.elements[i] > 1) {\n                player.elements[i] = 1;\n                console.warn(`Element (${i}) had an illegal value`);\n            }\n        }\n    }\n    if (player.stage.true >= 5) {\n        for (let s = 1; s < global.strangenessInfo.length; s++) {\n            for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n                if (player.strangeness[s][i] > global.strangenessInfo[s].max[i]) {\n                    player.strangeness[s][i] = global.strangenessInfo[s].max[i];\n                    console.warn(`Strangeness research (${i + 1} of ${s + 1}) had level above maxium`);\n                }\n            }\n        }\n    }\n};\n\nexport const updatePlayer = (load: playerType) => {\n    if (Object.hasOwn(load, 'player')) { load = load['player' as keyof unknown]; } //Old save had it\n\n    if (!Object.hasOwn(load, 'discharge')) {\n        throw new ReferenceError('This save file is missing important information and is most likely not from this game');\n    }\n\n    const check = structuredClone(playerStart) as playerType; //Reference issues\n    for (const i in playerStart) { //This should auto add missing information\n        if (!Object.hasOwn(load, i)) {\n            if (i === 'version') {\n                load.version = '0.0.0';\n            } else {\n                load[i as 'version'] = check[i as 'version']; //No words\n            }\n        }\n    }\n\n    /* Version changes (and change log's) */\n    if (load.version !== playerStart.version) {\n        const { versionInfo } = global;\n        versionInfo.log = 'Change log:';\n\n        if (load.version === '0.0.0') {\n            load.version = 'v0.0.1';\n            versionInfo.log += `\\n${load.version} - Stage 2 has properly came out; Fixed initial bug with missing some player values`;\n            for (let i = 0; i <= 3; i++) { (load.buildings[i] as unknown as typeof load.buildings[1][1]).trueTotal = 0; }\n            load.discharge.energy = load['energy' as 'discharge']['current' as 'energy']; //Auto deleted after version check\n            load.discharge.energyMax = load.discharge.energy;\n        }\n        if (load.version === 'v0.0.1') {\n            load.version = 'v0.0.2';\n            versionInfo.log += `\\n${load.version} - Added dynamic descriptions for upgrades, stats subtab, early Mobile device support`;\n            load.stage.resets = load.stage.current - 1;\n        }\n        if (load.version === 'v0.0.2') {\n            load.version = 'v0.0.3';\n            versionInfo.log += `\\n${load.version} - Stage 3 is out, Stage 2 extended. Dynamic update for researches, new stats, full reset of toggles (sorry). Also max offline time is now 2 times bigger...`;\n            load.toggles = check.toggles;\n        }\n        if (load.version === 'v0.0.3') {\n            load.version = 'v0.0.4';\n            versionInfo.log += `\\n${load.version} - All Stage's are now quicker (because too many people complain, but there isn't much of a content currently...), save file size decreased, small visual changes`;\n        }\n        if (load.version === 'v0.0.4') {\n            load.version = 'v0.0.5';\n            versionInfo.log += `\\n${load.version} - First part of Stage 4 is out, also small visual changes. Screen reader support updated (I forgot about it since Stage 2...). Also testing new formula for making structures and other minor stuff`;\n        }\n        if (load.version === 'v0.0.5') {\n            load.version = 'v0.0.6';\n            versionInfo.log += `\\n${load.version} - Minor bug fixes, also transition for theme change fixed. Minor QoL, hotkeys, event system reworked, save file names and others`;\n            load.events = [false];\n        }\n        if (load.version === 'v0.0.6') {\n            load.version = 'v0.0.7';\n            versionInfo.log += `\\n${load.version} - Stage 1 full rework, Stage 4 finished and early Stage 5 (it will be really slow, until next versions). Mobile device support updated. More hotkeys. Self-made structures are now displayed outside of stat subtab`;\n            if (load.stage.current === 4) { load.elements[26] = 0; }\n            load.vaporization.input = 10;\n            load.collapse.inputM = 4;\n            load.collapse.inputS = 2;\n            load.stage.input = 1;\n        }\n        if (load.version === 'v0.0.7') {\n            load.version = 'v0.0.8';\n            versionInfo.log += `\\n${load.version} - Minor speed up to other Stage's, also new save file name options (I would recommend 'Fundamental, [stage], [date] [time]')`;\n        }\n        if (load.version === 'v0.0.8') {\n            load.version = 'v0.0.9';\n            versionInfo.log += `\\n${load.version} - Stage 4 and 5 speed up, second part of Stage 5. Auto toggles reset. Some inside logic changes, also save file size increased... This version might be buggy`;\n            load.stage.active = Math.min(load.stage.current, 4);\n            const a = load.stage.active;\n            const oldB = load.buildings as unknown as typeof player.buildings[0];\n            load.buildings = check.buildings;\n            load.buildings[a] = oldB;\n            if (load.buildings[a].length > playerStart.buildings[a].length) {\n                for (let i = load.buildings[a].length; i > playerStart.buildings[a].length; i--) {\n                    load.buildings[a].splice(i - 1, 1); //Just saves some save file space\n                }\n            }\n            const oldU = load.upgrades as unknown as typeof player.upgrades[0];\n            load.upgrades = check.upgrades;\n            load.upgrades[a] = oldU;\n            const oldR = load.researches as unknown as typeof player.researches[0];\n            load.researches = check.researches;\n            load.researches[a] = oldR;\n            if (a !== 1) {\n                const oldE = load.researchesExtra as unknown as typeof player.researchesExtra[0];\n                load.researchesExtra = check.researchesExtra;\n                load.researchesExtra[a] = oldE;\n            }\n            if (load.strangeness.length < 5) { load.strangeness.unshift([]); }\n            if (load.stage.export === undefined) {\n                load.stage.export = 86400;\n            } else {\n                load.stage.export *= 86400;\n            }\n            load.ASR[a] = load.researchesAuto.splice(1, 1)[0];\n        }\n        if (load.version === 'v0.0.9') {\n            load.version = 'v0.1.0';\n            versionInfo.log += `\\n${load.version} - Stage 5 finished. As well some small bug fixes\\\\optimizations\\\\balances. More in a Discord. Due to balance some endgame upgrades/resources were reset`;\n            if (load.upgrades[3].length === 12) { load.upgrades[3].splice(8, 0, 0); }\n            load.strangeness[5][0] = 0;\n            load.strangeness[5][1] = 0;\n            load.stage.active = load.stage.current;\n            if (load.strange[0].true > 10) {\n                load.strange[0].total -= (load.strange[0].true - 10);\n                load.strange[0].true = 10;\n            }\n            for (let s = 1; s < load.buildings.length; s++) {\n                for (let i = 0; i < load.buildings[s].length; i++) {\n                    load.buildings[s][i].highest = load.buildings[s][i].current;\n                }\n            }\n            load.collapse.show = [];\n            for (let i = 1; i < load.elements.length; i++) {\n                if (load.elements[i] === 1) { load.collapse.show.push(i); }\n            }\n            load.collapse.disabled = false;\n        }\n        if (load.version === 'v0.1.0') {\n            load.version = 'v0.1.1';\n            versionInfo.log += `\\n${load.version} - Mini update to add some stuff, also some minor changes and balance`;\n            if (Object.hasOwn(load.discharge, 'energyCur')) {\n                load.discharge.energy = load.discharge['energyCur' as 'energy'];\n                delete load.discharge['energyCur' as keyof unknown];\n            }\n            load.vaporization.cloudsMax = load.vaporization.clouds;\n            load.collapse.massMax = load.collapse.mass;\n            load.collapse.elementsMax = load.buildings[4][0].current;\n        }\n\n        if (load.version !== playerStart.version) {\n            throw new ReferenceError('Save file version is higher than game version');\n        }\n        versionInfo.changed = true;\n    } else { global.versionInfo.changed = false; }\n\n    for (const i in load) { //This should remove old save file's object properties\n        if (!Object.hasOwn(playerStart, i)) {\n            delete load[i as keyof playerType];\n        }\n    }\n\n    /* Fake save file data (not saved) */\n    global.collapseInfo.trueStars = player.buildings[4][1].true + player.buildings[4][2].true +\n        player.buildings[4][3].true + player.buildings[4][4].true;\n\n    /* Next one's will auto add missing part of already existing information */\n    for (let s = 1; s < playerStart.buildings.length; s++) {\n        if (!Array.isArray(load.buildings[s])) {\n            load.buildings[s] = check.buildings[s];\n        } else if (playerStart.buildings[s].length > load.buildings[s].length) {\n            for (let i = load.buildings[s].length; i < playerStart.buildings[s].length; i++) {\n                load.buildings[s][i] = { ...playerStart.buildings[s][i] };\n            }\n        }\n    }\n\n    for (let s = 1; s < playerStart.upgrades.length; s++) {\n        if (!Array.isArray(load.upgrades[s])) {\n            load.upgrades[s] = check.upgrades[s];\n        } else if (playerStart.upgrades[s].length > load.upgrades[s].length) {\n            for (let i = load.upgrades[s].length; i < playerStart.upgrades[s].length; i++) {\n                load.upgrades[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 1; s < playerStart.researches.length; s++) {\n        if (!Array.isArray(load.researches[s])) {\n            load.researches[s] = check.researches[s];\n        } else if (playerStart.researches[s].length > load.researches[s].length) {\n            for (let i = load.researches[s].length; i < playerStart.researches[s].length; i++) {\n                load.researches[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 2; s < playerStart.researchesExtra.length; s++) {\n        if (!Array.isArray(load.researchesExtra[s])) {\n            load.researchesExtra[s] = check.researchesExtra[s];\n        } else if (playerStart.researchesExtra[s].length > load.researchesExtra[s].length) {\n            for (let i = load.researchesExtra[s].length; i < playerStart.researchesExtra[s].length; i++) {\n                load.researchesExtra[s][i] = 0;\n            }\n        }\n    }\n    if (playerStart.researchesAuto.length > load.researchesAuto.length) {\n        for (let i = load.researchesAuto.length; i < playerStart.researchesAuto.length; i++) {\n            load.researchesAuto[i] = 0;\n        }\n    }\n    if (playerStart.ASR.length > load.ASR.length) {\n        for (let i = load.ASR.length; i < playerStart.ASR.length; i++) {\n            load.ASR[i] = 0;\n        }\n    }\n    if (playerStart.elements.length > load.elements.length) {\n        for (let i = load.elements.length; i < playerStart.elements.length; i++) {\n            load.elements[i] = 0;\n        }\n    }\n    for (let s = 0; s < playerStart.strangeness.length; s++) {\n        if (!Array.isArray(load.strangeness[s])) {\n            load.strangeness[s] = check.strangeness[s];\n        } else if (playerStart.strangeness[s].length > load.strangeness[s].length) {\n            for (let i = load.strangeness[s].length; i < playerStart.strangeness[s].length; i++) {\n                load.strangeness[s][i] = 0;\n            }\n        }\n    }\n    for (let s = 0; s < playerStart.milestones.length; s++) {\n        if (!Array.isArray(load.milestones[s])) {\n            load.milestones[s] = check.milestones[s];\n        } else if (playerStart.milestones[s].length > load.milestones[s].length) {\n            for (let i = load.milestones[s].length; i < playerStart.milestones[s].length; i++) {\n                load.milestones[s][i] = 0;\n            }\n        }\n    }\n\n    if (playerStart.toggles.normal.length > load.toggles.normal.length) {\n        for (let i = load.toggles.normal.length; i < playerStart.toggles.normal.length; i++) {\n            load.toggles.normal[i] = playerStart.toggles.normal[i];\n        }\n    }\n    for (let s = 1; s < playerStart.toggles.buildings.length; s++) {\n        if (!Array.isArray(load.toggles.buildings[s])) {\n            load.toggles.buildings[s] = check.toggles.buildings[s];\n        } else if (playerStart.toggles.buildings[s].length > load.toggles.buildings[s].length) {\n            for (let i = load.toggles.buildings[s].length; i < playerStart.toggles.buildings[s].length; i++) {\n                load.toggles.buildings[s][i] = false;\n            }\n        }\n    }\n    if (playerStart.toggles.auto.length > load.toggles.auto.length) {\n        for (let i = load.toggles.auto.length; i < playerStart.toggles.auto.length; i++) {\n            load.toggles.auto[i] = false;\n        }\n    }\n\n    if (playerStart.events.length > load.events.length) {\n        for (let i = load.events.length; i < playerStart.events.length; i++) {\n            load.events[i] = false;\n        }\n    }\n\n    Object.assign(player, load);\n};\n", "import { global, player } from './Player';\nimport { getUpgradeDescription } from './Update';\n\n//Only checks if Tab/Subtab is unlocked\nexport const checkTab = (tab: string, subtab = null as null | string): boolean => {\n    let tabUnl = false;\n    let subUnl = false;\n\n    switch (tab) {\n        case 'stage':\n            tabUnl = true;\n            if (subtab === 'Structures') {\n                subUnl = true;\n            } else if (subtab === 'Advanced') {\n                subUnl = player.milestones[1][0] >= 5 || player.milestones[2][1] >= 4 ||\n                    player.milestones[3][1] >= 5 || player.milestones[4][1] >= 5 || player.milestones[5][1] >= 8;\n            }\n            break;\n        case 'settings':\n            tabUnl = true;\n            subUnl = true; //'Settings' || 'Stats'\n            break;\n        case 'research':\n            if (player.stage.true > 1 || player.discharge.current >= 4) {\n                tabUnl = true;\n                if (subtab === 'Researches') {\n                    subUnl = true;\n                } else if (subtab === 'Elements') {\n                    subUnl = (player.stage.active === 4 || player.stage.active === 5) && player.upgrades[4][1] === 1;\n                }\n            }\n            break;\n        case 'strangeness':\n            if (player.strange[0].total > 0) {\n                tabUnl = true;\n                subUnl = true; //'Matter' || 'Milestones'\n            }\n            break;\n        case 'special':\n            tabUnl = global.screenReader;\n    }\n\n    return subtab !== null ? subUnl : tabUnl;\n};\n\n//Only checks if Building is unlocked\nexport const checkBuilding = (index: number, stageIndex: number): boolean => {\n    if (index >= 1) {\n        if (stageIndex === 1 || stageIndex === 2) {\n            return true;\n        } else if (stageIndex === 3) {\n            if (player.accretion.rank === 0) { return false; }\n            if (index === 1) { return true; }\n            if (index === 2) { return player.upgrades[3][2] === 1; }\n            if (index === 3) { return player.upgrades[3][4] === 1; }\n            if (index === 4) { return player.upgrades[3][6] === 1; }\n        } else if (stageIndex === 4) {\n            if (player.collapse.mass < global.collapseInfo.unlockB[index]) { return false; }\n            if (index === 1 || index === 4) { return true; }\n            if (index === 2) { return player.upgrades[4][1] === 1; }\n            if (index === 3) { return player.upgrades[4][2] === 1; }\n        } else if (stageIndex === 5) {\n            if (player.collapse.mass < global.collapseInfo.unlockG[index]) { return false; }\n            if (index === 1) {\n                return player.milestones[2][0] >= 3;\n            } else if (index === 2) {\n                return player.milestones[3][0] >= 3;\n            } else if (index === 3) {\n                return player.strangeness[5][6] >= 1;\n            }\n        }\n    }\n\n    return false;\n};\n\n//Only checks if Upgrade is unlocked\nexport const checkUpgrade = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness'): boolean => {\n    if (stageIndex === 3 && player.accretion.rank === 0 && type !== 'strangeness') { return false; }\n\n    switch (type) {\n        case 'upgrades':\n            if (stageIndex === 1) {\n                if (upgrade > 3) { return player.discharge.current >= 3; }\n                return true;\n            } else if (stageIndex === 2) {\n                if (upgrade === 6 && player.strangeness[2][2] < 3) { return false; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (upgrade === 8 && player.strangeness[3][2] < 3) { return false; }\n                return player.accretion.rank >= global.accretionInfo.rankU[upgrade];\n            } else if (stageIndex === 4) {\n                if (upgrade === 3 && player.strangeness[4][2] < 1) { return false; }\n                if (upgrade >= 2 && player.upgrades[4][upgrade - 1] !== 1) { return false; } //Just in case\n                return player.collapse.mass >= global.collapseInfo.unlockU[upgrade];\n            } else if (stageIndex === 5) {\n                if (upgrade === 2) { return player.buildings[5][3].current >= 1; }\n                return true;\n            }\n            break;\n        case 'researches':\n            if (stageIndex === 1) {\n                return player.upgrades[1][3] === 1;\n            } else if (stageIndex === 2) {\n                return true;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankR[upgrade];\n            } else if (stageIndex === 4) {\n                if (upgrade === 3 && player.strangeness[4][2] < 2) { return false; }\n                return player.collapse.mass >= global.collapseInfo.unlockR[upgrade];\n            } else if (stageIndex === 5) {\n                return true;\n            }\n            break;\n        case 'researchesExtra':\n            /*if (stageIndex === 1) {\n                return false;\n            } else*/ if (stageIndex === 2) {\n                return player.vaporization.clouds > 1;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankE[upgrade];\n            } else if (stageIndex === 4) {\n                if (upgrade === 1 && player.strangeness[4][2] < 3) { return false; }\n                return true;\n            }\n            break;\n        case 'researchesAuto': //Other cases are handled by max level being 0\n            if (stageIndex === 1 && player.upgrades[1][3] < 1) { return false; }\n            return stageIndex === global.researchesAutoInfo.autoStage[upgrade];\n        case 'ASR':\n            if (stageIndex === 1 && player.upgrades[1][3] < 1) { return false; }\n            return true;\n        case 'elements':\n            if (!global.stageInfo.activeAll.includes(4)) { return false; }\n            if (upgrade >= 27) {\n                return player.upgrades[4][3] === 1;\n            } else if (upgrade >= 11) {\n                return player.collapse.mass >= 10;\n            } else if (upgrade >= 6) {\n                return player.upgrades[4][2] === 1;\n            } else if (upgrade >= 1) {\n                return player.upgrades[4][1] === 1;\n            }\n            break;\n        case 'strangeness':\n            if (((stageIndex === 1 || stageIndex === 4) && upgrade < 8) ||\n                ((stageIndex === 2 || stageIndex === 3) && upgrade < 7)) { return true; }\n            if (stageIndex === 5 && upgrade === 6 && player.strangeness[5][5] < 1) { return false; }\n            return player.milestones[4][0] >= 3;\n    }\n\n    return false;\n};\n\n//Checks if upgrade/building is allowed to be reset (later can be added up to which amount if needed)\nexport const allowedToBeReset = (check: number, stageIndex: number, type: 'structures' | 'upgrades' | 'researchesExtra'): boolean => {\n    switch (type) {\n        case 'structures':\n            if (stageIndex === 5 && check === 3) { return false; }\n            break;\n        case 'upgrades':\n            if (stageIndex === 2) {\n                if (check === 1) { return false; }\n            } else if (stageIndex === 4) {\n                if (player.strangeness[4][4] >= 1 || player.collapse.mass >= 10 || check === 0) { return false; }\n            } else if (stageIndex === 5) {\n                if (check === 2) { return false; }\n            }\n            break;\n        case 'researchesExtra':\n            if (stageIndex === 4 && check === 0) { return false; }\n    }\n\n    return true;\n};\n\n//Check and award Milestone reward\nexport const milestoneCheck = (index: number, stageIndex: number) => {\n    const need = global.milestonesInfo[stageIndex].need[index][player.milestones[stageIndex][index]];\n    if (need === undefined || player.strange[0].total < 1) { return; }\n    if (stageIndex === 5 && player.strangeness[5][8] < 1) { return; }\n    let award = false;\n\n    if (stageIndex === 1) {\n        if (index === 0) {\n            award = player.buildings[1][0].current >= need;\n        } else if (index === 1) {\n            award = player.discharge.energy >= need;\n        }\n    } else if (stageIndex === 2) {\n        if (index === 0) {\n            award = player.buildings[2][1].current >= need;\n        } else if (index === 1) {\n            award = player.buildings[2][2].current >= need;\n        }\n    } else if (stageIndex === 3) {\n        if (index === 0) {\n            award = player.buildings[3][0].current >= need;\n        } else if (index === 1) {\n            award = player.buildings[3][4].current > need;\n        }\n    } else if (stageIndex === 4) {\n        if (index === 0) {\n            award = player.collapse.mass >= need;\n        } else if (index === 1) {\n            award = player.collapse.stars[2] >= need;\n        }\n    } else if (stageIndex === 5) {\n        if (index === 0) {\n            award = global.collapseInfo.trueStars >= need;\n        } else if (index === 1) {\n            award = player.buildings[5][3].current >= need;\n        }\n    }\n\n    if (award) {\n        player.strange[0].true += global.milestonesInfo[stageIndex].quarks[index][player.milestones[stageIndex][index]];\n        player.strange[0].total += global.milestonesInfo[stageIndex].quarks[index][player.milestones[stageIndex][index]];\n        player.milestones[stageIndex][index]++;\n        getUpgradeDescription(index, stageIndex, 'milestones');\n    }\n};\n", "import { getClass, getId } from './Main';\nimport { global, player } from './Player';\nimport { format, stageCheck } from './Update';\n\nexport const setTheme = (themeNumber: number, initial = false) => {\n    const { theme } = global;\n\n    if (initial) {\n        theme.default = true;\n        localStorage.removeItem('theme');\n    } else {\n        theme.default = false;\n        theme.stage = themeNumber;\n        localStorage.setItem('theme', `${themeNumber}`);\n    }\n    switchTheme();\n};\n\n//While most of it can be set with CSS, I think it's better not, because it might slow down page load\nexport const switchTheme = () => {\n    const { stage } = player;\n    const { stageInfo, theme } = global;\n    const body = document.body.style;\n\n    if (theme.default) {\n        theme.stage = stage.active;\n        getId('currentTheme').textContent = 'Default';\n    } else {\n        getId('currentTheme').textContent = stageInfo.word[theme.stage];\n    }\n\n    /* Full reset, for easier out of order theme change */\n    body.setProperty('--transition-all', '1s');\n    body.setProperty('--transition-buttons', '700ms');\n    for (const text of ['upgrade', 'research', 'element']) {\n        getId(`${text}Effect`).style.color = '';\n        getId(`${text}Cost`).style.color = '';\n        if (text === 'upgrade') { continue; } //Not changed anywhere\n        getId(`${text}Text`).style.color = '';\n    }\n    body.removeProperty('--background-color');\n    body.removeProperty('--window-color');\n    body.removeProperty('--window-border');\n    body.removeProperty('--footer-color');\n    body.removeProperty('--button-main-color');\n    body.removeProperty('--button-main-border');\n    body.removeProperty('--button-main-hover');\n    body.removeProperty('--building-can-buy');\n    body.removeProperty('--button-tab-border');\n    body.removeProperty('--button-tab-active');\n    body.removeProperty('--button-extra-hover');\n    body.removeProperty('--button-delete-color');\n    body.removeProperty('--button-delete-hover');\n    body.removeProperty('--input-border-color');\n    body.removeProperty('--input-text-color');\n    body.removeProperty('--button-text-color');\n    body.removeProperty('--main-text-color');\n    body.removeProperty('--white-text-color');\n    //body.removeProperty('--cyan-text-color');\n    body.removeProperty('--blue-text-color');\n    body.removeProperty('--orange-text-color');\n    body.removeProperty('--gray-text-color');\n    body.removeProperty('--orchid-text-color');\n    body.removeProperty('--darkorchid-text-color');\n    body.removeProperty('--darkviolet-text-color');\n    body.removeProperty('--red-text-color');\n    body.removeProperty('--green-text-color');\n    body.removeProperty('--yellow-text-color');\n    getId('dropStat').style.color = '';\n    getId('waterStat').style.color = '';\n    /* And set new colors */\n    /* These colors will need to be changed in other places as well: (not just 2, but from 2 to max)\n        --window-color > '.stage2windowBackground';\n        --button-main-color > '.stage2backgroundButton' and 'global.stageInfo.buttonBackgroundColor[2]';\n        --button-main-border > '.stage2borderButton' and 'global.stageInfo.buttonBorderColor[2]'; */\n    switch (theme.stage) {\n        case 2:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n            }\n            body.setProperty('--background-color', '#070026');\n            body.setProperty('--window-color', '#000052');\n            body.setProperty('--window-border', 'blue');\n            body.setProperty('--footer-color', '#0000db');\n            body.setProperty('--button-main-color', 'blue');\n            body.setProperty('--button-main-border', '#427be1');\n            body.setProperty('--button-main-hover', '#1515cf');\n            body.setProperty('--button-tab-border', '#376ac5');\n            body.setProperty('--button-tab-active', '#990000');\n            body.setProperty('--button-extra-hover', '#2400d7');\n            body.setProperty('--input-border-color', '#4747ff');\n            body.setProperty('--input-text-color', 'dodgerblue');\n            body.setProperty('--main-text-color', 'dodgerblue');\n            body.setProperty('--gray-text-color', '#9b9b9b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#a973ff');\n            body.setProperty('--green-text-color', '#82cb3b');\n            body.setProperty('--red-text-color', '#f70000');\n            getId('dropStat').style.color = '#3099ff';\n            getId('waterStat').style.color = '#3099ff';\n            break;\n        case 3:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Cost`).style.color = 'var(--green-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#000804');\n            body.setProperty('--window-color', '#2e1200');\n            body.setProperty('--window-border', '#31373e');\n            body.setProperty('--footer-color', '#221a00');\n            body.setProperty('--button-main-color', '#291344');\n            body.setProperty('--button-main-border', '#404040');\n            body.setProperty('--button-main-hover', '#361f52');\n            body.setProperty('--button-tab-border', '#484848');\n            body.setProperty('--button-tab-active', '#8d4c00');\n            body.setProperty('--button-extra-hover', '#5a2100');\n            body.setProperty('--button-delete-color', '#891313');\n            body.setProperty('--button-delete-hover', '#a10a0a');\n            body.setProperty('--input-border-color', '#8b4a00');\n            body.setProperty('--input-text-color', '#e77e00');\n            body.setProperty('--main-text-color', '#8f8f8f');\n            body.setProperty('--white-text-color', '#dfdfdf');\n            body.setProperty('--orange-text-color', '#f58600');\n            body.setProperty('--green-text-color', '#00db00');\n            getId('dropStat').style.color = '#3099ff';\n            getId('waterStat').style.color = '#3099ff';\n            break;\n        case 4:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--blue-text-color)';\n            }\n            body.setProperty('--background-color', '#140e04');\n            body.setProperty('--window-color', '#4e0000');\n            body.setProperty('--window-border', '#894800');\n            body.setProperty('--footer-color', '#4e0505');\n            body.setProperty('--button-main-color', '#6a3700');\n            body.setProperty('--button-main-border', '#9f6700');\n            body.setProperty('--button-main-hover', '#914b00');\n            body.setProperty('--building-can-buy', '#007f95');\n            body.setProperty('--button-tab-border', '#af5d00');\n            body.setProperty('--button-tab-active', '#008297');\n            body.setProperty('--button-extra-hover', '#605100');\n            body.setProperty('--button-delete-color', '#8f0000');\n            body.setProperty('--button-delete-hover', '#ad0000');\n            body.setProperty('--input-border-color', '#008399');\n            body.setProperty('--input-text-color', '#05c3c3');\n            body.setProperty('--button-text-color', '#d9d900');\n            body.setProperty('--main-text-color', 'darkorange');\n            body.setProperty('--white-text-color', '#e5e500');\n            body.setProperty('--blue-text-color', '#2694ff');\n            body.setProperty('--gray-text-color', '#8b8b8b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#9859ff');\n            body.setProperty('--red-text-color', 'red');\n            body.setProperty('--green-text-color', '#00e600');\n            body.setProperty('--yellow-text-color', 'var(--green-text-color)');\n            break;\n        case 5:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--red-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#060010');\n            body.setProperty('--window-color', '#001d42');\n            body.setProperty('--window-border', '#35466e');\n            body.setProperty('--footer-color', '#320061');\n            body.setProperty('--button-main-color', '#4a008f');\n            body.setProperty('--button-main-border', '#8a0049');\n            body.setProperty('--button-main-hover', '#6800d6');\n            body.setProperty('--building-can-buy', '#8603ff');\n            body.setProperty('--button-tab-border', '#9d0054');\n            body.setProperty('--button-tab-active', '#8500ff');\n            body.setProperty('--button-extra-hover', '#3b0080');\n            body.setProperty('--button-delete-color', '#800000');\n            body.setProperty('--button-delete-hover', '#9b1212');\n            body.setProperty('--input-border-color', '#3656a1');\n            body.setProperty('--input-text-color', '#6a88cd');\n            body.setProperty('--button-text-color', '#fc9cfc');\n            body.setProperty('--main-text-color', '#c000ff');\n            body.setProperty('--white-text-color', '#ff79ff');\n            body.setProperty('--orchid-text-color', '#ff00f4');\n            body.setProperty('--darkorchid-text-color', '#c000ff');\n            body.setProperty('--darkviolet-text-color', '#9f52ff');\n            body.setProperty('--yellow-text-color', 'var(--darkviolet-text-color)');\n    }\n    setTimeout(() => {\n        body.removeProperty('--transition-all');\n        body.removeProperty('--transition-buttons');\n    }, 1000);\n};\n\n/* If any type of Alert is already being shown, then it will auto resolve itself (false for Confirm and null for Prompt)\n   Because to throw an Error (or any type of reject()) is a bit of a pain, and feels unnecessary */\nexport const Alert = (text: string) => { void AlertWait(text); };\nconst AlertWait = async(text: string): Promise<void> => { //Export if needed\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (alert)');\n            resolve();\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        blocker.style.display = '';\n        confirm.focus();\n\n        const key = async(button: KeyboardEvent) => {\n            if (button.key === 'Escape' || button.key === 'Enter') {\n                close();\n            }\n        };\n        const close = () => {\n            blocker.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            resolve();\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (confirm)');\n            resolve(false);\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const cancel = getId('cancelBtn') as HTMLButtonElement;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        blocker.style.display = '';\n        cancel.style.display = '';\n        confirm.focus();\n\n        const yes = () => { close(true); };\n        const no = () => { close(false); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                no();\n            } else if (button.key === 'Enter') {\n                yes();\n            }\n        };\n        const close = (result: boolean) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Prompt = async(text: string): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (prompt)');\n            resolve(null);\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const input = getId('inputArea') as HTMLInputElement;\n        const cancel = getId('cancelBtn') as HTMLButtonElement;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        input.value = '';\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        input.focus();\n\n        const yes = () => { close(input.value); };\n        const no = () => { close(null); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                no();\n            } else if (button.key === 'Enter') {\n                yes();\n            }\n        };\n        const close = (result: string | null) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\n/* This is a pain, I had to remove animation for it to play again... Though I still think it's better than adding a class... */\nexport const hideFooter = () => {\n    const footer = getId('footer') as HTMLDivElement;\n    const hide = getId('footerColor') as HTMLDivElement;\n    const toggle = getId('hideToggle') as HTMLDivElement;\n    const text = getId('hideText') as HTMLParagraphElement;\n    const arrow = getId('hideArrow') as HTMLDivElement;\n\n    global.footer = !global.footer;\n    toggle.removeEventListener('click', hideFooter);\n    if (global.footer) {\n        hide.style.display = '';\n        arrow.style.transform = '';\n        footer.style.animation = 'hide 1s forwards reverse';\n        arrow.style.animation = 'rotate 1s forwards reverse';\n        text.textContent = 'Hide';\n    } else {\n        footer.style.animation = 'hide 1s backwards';\n        arrow.style.animation = 'rotate 1s backwards';\n        text.textContent = 'Show';\n        setTimeout(() => { //While forwards would work, I'm lazy to pause animation\n            hide.style.display = 'none';\n            arrow.style.transform = 'rotate(180deg)';\n        }, 1000);\n    }\n    setTimeout(() => {\n        footer.style.animation = '';\n        arrow.style.animation = '';\n        toggle.addEventListener('click', hideFooter);\n    }, 1000);\n};\n\nexport const mobileDeviceSupport = (change = false) => {\n    let turnOn = Boolean(localStorage.getItem('mobile device') ?? false);\n    const toggle = getId('mobileDeviceToggle') as HTMLButtonElement;\n\n    if (change) { turnOn = !turnOn; }\n\n    if (turnOn) {\n        toggle.textContent = 'ON';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n        localStorage.setItem('mobile device', 'true');\n        global.mobileDevice = true;\n        if (change) { Alert('For full support please refresh the page. This will add on touch start check upgrade and touch end create an upgrade.\\n(For non mobile device this will cause issues)'); }\n    } else {\n        toggle.textContent = 'OFF';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n        localStorage.removeItem('mobile device');\n        global.mobileDevice = false;\n    }\n};\n\nexport const screenReaderSupport = (info = false as boolean | number, type = 'toggle' as 'toggle' | 'button', special = 'building' as 'reload' | 'building' | 'resource' | 'information') => {\n    switch (type) {\n        case 'toggle': {\n            const change = info as boolean;\n            let turnOn = Boolean(localStorage.getItem('screen reader') ?? false);\n            const toggle = getId('screenReaderToggle') as HTMLButtonElement;\n\n            if (change) { turnOn = !turnOn; }\n            /* Its a nightmare to try and remove event listener's...\n               So as of now refresh of page is the best (and only) way I know how\n               Also I'm super confused on how tabindex works... */\n            if (turnOn) {\n                toggle.textContent = 'ON';\n                toggle.style.color = 'var(--red-text-color)';\n                toggle.style.borderColor = 'crimson';\n                localStorage.setItem('screen reader', 'true');\n                global.screenReader = true;\n                if (special === 'reload') {\n                    /* This is recommended options, being set after every reload */\n                    player.toggles.shop.strict = false; //Want to decrease amount of items you can tab into\n                }\n                stageCheck('soft'); //Update related information instanly\n                if (change) { Alert('You will get: focus event on upgrades to get description (Refresh page to get it, also I need feedback on it), special tab to check progress and more.\\n(For non screen readers this will cause issues)'); }\n            } else {\n                toggle.textContent = 'OFF';\n                toggle.style.color = '';\n                toggle.style.borderColor = '';\n                localStorage.removeItem('screen reader');\n                global.screenReader = false;\n            }\n            break;\n        }\n        case 'button': {\n            const index = info as number;\n            const invText = getId('invisibleBought') as HTMLLabelElement;\n\n            if (special === 'building') {\n                const { buildings } = player;\n                const { buildingsInfo } = global;\n                const active = player.stage.active;\n\n                let extra = index - 1;\n                if (active === 4 || active === 5) { extra = 0; }\n\n                if (index === 0) {\n                    invText.textContent = `You have ${format(buildings[active][0].current)} ${buildingsInfo.name[active][0]}`;\n                } else {\n                    invText.textContent = `You have ${format(buildings[active][index].current)} ${buildingsInfo.name[active][index]}${buildings[active][index].current !== buildings[active][index].true ? `, out of them ${format(buildings[active][index].true, 0)} are self-made ones` : ''}, they are ${buildingsInfo.type[active][index] === 'producing' ? `producing ${format(buildingsInfo.producing[active][index])} ${buildingsInfo.name[active][extra]} per second` : `improving production of ${buildingsInfo.name[active][extra]} by ${format(buildingsInfo.producing[active][index])}`}${player.ASR[active] >= index ? `, auto is ${player.toggles.buildings[active][index] ? 'on' : 'off'}` : ''}`;\n                }\n            } else if (special === 'resource') {\n                if (index === 1) {\n                    invText.textContent = `You have ${format(player.discharge.energy)} Energy${player.upgrades[1][3] === 1 ? `, next discharge goal is ${format(global.dischargeInfo.next)} Energy, you reached goal ${format(player.discharge.current, 0)} times` : ''}${player.strangeness[1][2] >= 1 ? `, you also have +${format(player.strangeness[1][2], 0)} free goals.` : ''}`;\n                } else if (index === 2) {\n                    invText.textContent = `You have ${format(player.vaporization.clouds)} Clouds${global.vaporizationInfo.get > 1 ? `, you can get +${format(global.vaporizationInfo.get)} if you reset now` : ''}`;\n                } else if (index === 4) {\n                    invText.textContent = `You have ${format(player.collapse.mass)} Mass${global.collapseInfo.newMass >= player.collapse.mass ? `, you can get +${format(global.collapseInfo.newMass - player.collapse.mass)} if you reset now` : ''}${player.researchesExtra[4][0] >= 1 ? `, also ${format(global.collapseInfo.starCheck[0], 0)} Red giants` : ''}${player.researchesExtra[4][0] >= 2 ? `,  ${format(global.collapseInfo.starCheck[1], 0)} Neutron stars` : ''}${player.researchesExtra[4][0] >= 3 ? ` and also ${format(global.collapseInfo.starCheck[2], 0)} Black holes` : ''}`;\n                } else if (index === 0) {\n                    invText.textContent = `You have ${format(player.strange[0].true, 0)} Strange quarks${global.strangeInfo.stageBoost[player.stage.active] !== null ? ` they are boosting production of current stage by ${format(global.strangeInfo.stageBoost[player.stage.active] as number)}` : ''}, you will gain ${format(global.strangeInfo.stageGain + (player.stage.active >= 4 ? global.strangeInfo.extraGain : 0, 0))} on Stage reset`;\n                }\n            } else if (special === 'information') {\n                let activeStages = '';\n\n                for (let i = 0; i < global.stageInfo.activeAll.length; i++) {\n                    activeStages += (i === 0 ? '' : ', ') + global.stageInfo.word[global.stageInfo.activeAll[i]];\n                }\n\n                invText.textContent = `Current Active Stages are ${activeStages}`;\n            }\n        }\n    }\n};\n\nexport const changeFontSize = (change = false, inputChange = false) => {\n    const body = document.body.style;\n    const input = getId('customFontSize') as HTMLInputElement;\n    const toggle = getId('fontSizeToggle') as HTMLButtonElement;\n    let enable = Boolean(localStorage.getItem('enableCustomFontSize')) ?? false;\n    let size = localStorage.getItem('fontSize');\n\n    if (change) { enable = !enable; }\n\n    if (!enable) {\n        body.removeProperty('--font-size');\n        localStorage.removeItem('fontSize');\n        localStorage.removeItem('enableCustomFontSize');\n        toggle.textContent = 'OFF';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n    } else {\n        if (size === null || Number(size) < 10 || Number(size) > 32 || inputChange) {\n            size = `${Math.min(Math.max(Math.trunc(Number(input.value) * 10) / 10, 10), 32)}`;\n            localStorage.setItem('fontSize', size);\n        }\n        body.setProperty('--font-size', `${size}px`);\n        input.value = size;\n        localStorage.setItem('enableCustomFontSize', 'true');\n        toggle.textContent = 'ON';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n    }\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = point ?\n        getId('decimalPoint') as HTMLInputElement :\n        getId('thousandSeparator') as HTMLInputElement;\n    const allowed = ['.', ',', ' ', '_', '^', '\"', \"'\", '`', '|'].includes(htmlInput.value);\n    if (!allowed || (point && (player.separator[0] === htmlInput.value || htmlInput.value.length === 0)) || (!point && player.separator[1] === htmlInput.value)) {\n        htmlInput.value = point ? '.' : '';\n        return;\n    }\n    point ?\n        player.separator[1] = htmlInput.value :\n        player.separator[0] = htmlInput.value;\n};\n\nexport const removeTextMovement = (change = false) => {\n    const add = getClass('statFoot');\n\n    if (change) {\n        if (localStorage.getItem('textMove') === null) {\n            localStorage.setItem('textMove', 'false');\n        } else {\n            localStorage.removeItem('textMove');\n        }\n    }\n\n    for (const i of add) {\n        i.classList.contains('noMove') ?\n            i.classList.remove('noMove') :\n            i.classList.add('noMove');\n    }\n};\n\n//It's here, because mostly not important for gameplay\nexport const playEvent = (event: number, index: number) => {\n    if (getId('blocker').style.display === '') { return; } //Return if Alert is being shown, event should be called later again (if not then will need to setTimeout())\n    player.events[index] = true;\n\n    switch (event) {\n        case 0: //[0] Discharge explanation\n            Alert('Since you can\\'t get back Energy that you had spent, you will need to Discharge anytime you spend it.\\nBut for the first time, you can keep your Energy');\n            if (player.stage.true === 1) { player.discharge.energy += 800; }\n            break;\n        case 1: //[0] Clouds softcap\n            Alert('Cloud density is too high... Getting more will be harder now');\n            break;\n        case 2: //[0] Accretion new Rank unlocked\n            Alert('Getting more Mass, seems impossible. We need to change our approach, next Rank is going to be Softcapped');\n            if (player.accretion.rank === 4) {\n                global.accretionInfo.rankCost[4] = 5e29;\n                getId('rankReset').textContent = 'Next rank is 5e29 Mass';\n            }\n            break;\n        case 3: //[0] Collapse explanation\n            Alert('Any Collapse reset from now on will give even more rewards, but can\\'t be done, unless can increase any of them.\\nRewards effects are unknown, but some of the Elements might reveal information about it.\\n(Just like Main-sequence mass is provides boost for all Stars)');\n            break;\n        case 4: //[1] Entering Intergalactic\n            Alert('There doesn\\'t seem to be anything here. Let\\'s try going back to start and find what is missing');\n            break;\n        case 5: //[2] Creating Galaxy\n            Alert(\"Galaxy will boost production of Nebulas and Star clusters, but for the cost of every other structure/upgrade.\\nElements are disabled until can afford them again (if you have 'Remnants of past')\");\n    }\n};\n", "import { allowedToBeReset } from './Check';\nimport { player, playerStart } from './Player';\nimport { autoElements, autoUpgradesSet, calculateBuildingsCost, calculateMaxLevel, calculateResearchCost, calculateStageInformation } from './Stage';\nimport { numbersUpdate, visualUpdate, visualUpdateUpgrades } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'galaxy' | 'stage', stageIndex: number[]) => {\n    if (type !== 'stage') {\n        const { buildings } = player;\n\n        if (type === 'discharge') {\n            player.discharge.energy = 0;\n        } else if (type === 'galaxy') {\n            player.collapse.disabled = true;\n            player.collapse.mass = 0.01235;\n            player.collapse.stars = [0, 0, 0];\n        }\n\n        if ((type === 'collapse' && player.strangeness[4][4] < 1) || type === 'galaxy') {\n            for (let i = 1; i < player.elements.length; i++) {\n                player.elements[i] = 0;\n                visualUpdateUpgrades(i, 4, 'elements');\n            }\n        }\n\n        for (const s of stageIndex) {\n            //Label here, so we can break out of this block straight into cost calculation section\n            noCostReset: {\n                buildings[s][0].current = playerStart.buildings[s][0].current;\n                buildings[s][0].total = playerStart.buildings[s][0].total;\n                for (let i = 1; i < playerStart.buildings[s].length; i++) {\n                    if (!allowedToBeReset(i, s, 'structures')) { continue; }\n\n                    buildings[s][i].current = 0;\n                    buildings[s][i].true = 0;\n                    buildings[s][i].total = 0;\n                }\n\n                if (type === 'discharge') { break noCostReset; }\n\n                for (let i = 0; i < playerStart.upgrades[s].length; i++) {\n                    if (!allowedToBeReset(i, s, 'upgrades')) { continue; }\n\n                    player.upgrades[s][i] = 0;\n                    visualUpdateUpgrades(i, s, 'upgrades');\n                }\n\n                if (type === 'vaporization') { break noCostReset; }\n\n                for (let i = 0; i < playerStart.researches[s].length; i++) {\n                    //if (!allowedToBeReset(i, s, 'researches')) { continue; }\n\n                    player.researches[s][i] = 0;\n                    visualUpdateUpgrades(i, s, 'researches');\n                }\n\n                if (type === 'rank') { break noCostReset; }\n\n                for (let i = 0; i < playerStart.researchesExtra[s].length; i++) {\n                    if (!allowedToBeReset(i, s, 'researchesExtra')) { continue; }\n\n                    player.researchesExtra[s][i] = 0;\n                    visualUpdateUpgrades(i, s, 'researchesExtra');\n                }\n            }\n\n            //Doing it this way mostly just helps for first building cost being wrong (but can help in future against order bugs)\n            for (let i = 1; i < playerStart.buildings[s].length; i++) { calculateBuildingsCost(i, s); }\n\n            if (type === 'discharge') { continue; }\n\n            autoUpgradesSet('upgrades', s);\n\n            if (type === 'vaporization') { continue; }\n\n            for (let i = 0; i < playerStart.researches[s].length; i++) { calculateResearchCost(i, s, 'researches'); }\n            autoUpgradesSet('researches', s);\n\n            if (type === 'rank') { continue; }\n\n            for (let i = 0; i < playerStart.researchesExtra[s].length; i++) { calculateResearchCost(i, s, 'researchesExtra'); }\n            autoUpgradesSet('researchesExtra', s);\n        }\n\n        visualUpdate();\n    } else { //Stage reset only\n        for (const s of stageIndex) {\n            for (let i = 1; i < playerStart.buildings[s].length; i++) {\n                player.buildings[s][i].current = 0;\n                player.buildings[s][i].true = 0;\n                player.buildings[s][i].total = 0;\n                player.buildings[s][i].trueTotal = 0;\n            }\n            player.buildings[s][0].current = playerStart.buildings[s][0].current;\n            player.buildings[s][0].total = playerStart.buildings[s][0].total;\n            player.buildings[s][0].trueTotal = playerStart.buildings[s][0].trueTotal;\n\n            player.upgrades[s] = [...playerStart.upgrades[s]];\n            player.researches[s] = [...playerStart.researches[s]];\n            player.researchesExtra[s] = [...playerStart.researchesExtra[s]];\n\n            if (s === 1) {\n                player.discharge.energy = 0;\n                player.discharge.current = 0;\n            } else if (s === 2) {\n                player.vaporization.clouds = 1;\n            } else if (s === 3) {\n                player.accretion.rank = 0;\n                player.buildings[3][0].current = 5.97e27;\n            } else if (s === 4) {\n                player.collapse.elementsMax = 1;\n                player.collapse.mass = 0.01235;\n                player.collapse.stars = [0, 0, 0];\n                player.collapse.show = [];\n                player.collapse.disabled = false;\n                player.elements = [...playerStart.elements];\n                autoElements(true);\n            }\n\n            player.ASR[s] = player.strangeness[s][[6, 5, 5, 6, 7][s - 1]];\n            if (s === 5 && player.strangeness[5][6] >= 2) { player.ASR[5]++; }\n            calculateMaxLevel(0, s, 'ASR');\n\n            for (let i = 1; i < playerStart.buildings[s].length; i++) { calculateBuildingsCost(i, s); }\n            for (let i = 0; i < playerStart.researches[s].length; i++) { calculateMaxLevel(i, s, 'researches'); }\n            for (let i = 0; i < playerStart.researchesExtra[s].length; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n\n            autoUpgradesSet('upgrades', s);\n            autoUpgradesSet('researches', s); //They need cost updated first\n            autoUpgradesSet('researchesExtra', s);\n        }\n    }\n\n    calculateStageInformation(); //Without it, there will be bugs\n    numbersUpdate();\n};\n", "import { checkBuilding, checkUpgrade, milestoneCheck } from './Check';\nimport { getId } from './Main';\nimport { global, globalStart, player } from './Player';\nimport { reset } from './Reset';\nimport { Alert, Confirm, playEvent } from './Special';\nimport { format, getUpgradeDescription, numbersUpdate, stageCheck, updateRankInfo, visualUpdateUpgrades } from './Update';\n\nexport const calculateStageInformation = () => {\n    const { stage, buildings, strange, upgrades, researches, researchesExtra, strangeness } = player;\n    const { buildingsInfo, strangeInfo, upgradesInfo, researchesInfo, researchesExtraInfo } = global;\n    const activeAll = global.stageInfo.activeAll; //Quicker than using for (const...of...)\n\n    if (activeAll.includes(1)) {\n        const { dischargeInfo } = global;\n        const { discharge } = player;\n\n        //dischargeInfo.bonus = strangeness[1][2];\n        dischargeInfo.base = 4 + strangeness[1][0];\n        upgradesInfo[1].effect[3] = dischargeInfo.base * 2 ** researches[1][4];\n        upgradesInfo[1].effect[5] = Math.round((1.02 + 0.01 * researches[1][1]) * 100) / 100;\n        const totalMultiplier = upgradesInfo[1].effect[3] ** (discharge.current + strangeness[1][2]);\n\n        buildingsInfo.producing[1][3] = 0.3 * buildings[1][3].current * totalMultiplier;\n        if (upgrades[1][5] === 1) { buildingsInfo.producing[1][3] *= upgradesInfo[1].effect[5] ** buildings[1][3].true; }\n\n        researchesInfo[1].effect[2] = 12 + strangeness[1][5] * 3 / 10;\n        strangeInfo.stageBoost[1] = strangeness[1][8] >= 1 ? (strange[0].true + 1) ** 0.26 : null;\n        if (buildingsInfo.producing[1][3] > 1) { //Because Math.log(0) === -infinity and Math.log(1) === 0\n            upgradesInfo[1].effect[6] = Math.log(buildingsInfo.producing[1][3]) * researchesInfo[1].effect[2] ** researches[1][2]; //Add Math.min if [3] === Infinity\n            if (upgrades[1][7] === 1) { upgradesInfo[1].effect[6] *= discharge.energy; }\n            if (researches[1][5] >= 1) { upgradesInfo[1].effect[6] *= (discharge.current + strangeness[1][2] + 1) * researches[1][5]; }\n            if (strangeInfo.stageBoost[1] !== null) { upgradesInfo[1].effect[6] *= strangeInfo.stageBoost[1]; }\n        } else { upgradesInfo[1].effect[6] = 0; }\n\n        buildingsInfo.producing[1][2] = 0.4 * buildings[1][2].current * totalMultiplier;\n        if (upgrades[1][2] === 1) { buildingsInfo.producing[1][2] *= 5; }\n        if (upgrades[1][5] === 1) { buildingsInfo.producing[1][2] *= upgradesInfo[1].effect[5] ** buildings[1][2].true; }\n\n        buildingsInfo.producing[1][1] = 0.5 * buildings[1][1].current * totalMultiplier;\n        if (upgrades[1][1] === 1) { buildingsInfo.producing[1][1] *= 10; }\n        if (upgrades[1][5] === 1) { buildingsInfo.producing[1][1] *= upgradesInfo[1].effect[5] ** buildings[1][1].true; }\n\n        dischargeInfo.step = 10 - researches[1][3] - strangeness[1][1];\n        dischargeInfo.next = Math.round(dischargeInfo.step ** player.discharge.current);\n    }\n    if (activeAll.includes(2)) {\n        const { vaporizationInfo } = global;\n        const { vaporization } = player;\n\n        buildingsInfo.producing[2][5] = 2 * buildings[2][5].current;\n        researchesExtraInfo[2].effect[2] = vaporization.clouds ** 0.1;\n        if (researchesExtra[2][2] >= 1) { buildingsInfo.producing[2][5] *= researchesExtraInfo[2].effect[2]; }\n\n        if (upgrades[2][6] === 1) { buildings[2][4].current = buildings[2][4].true + buildings[2][5].current; }\n\n        buildingsInfo.producing[2][4] = 2 * buildings[2][4].current;\n        if (buildingsInfo.producing[2][5] > 1) { buildingsInfo.producing[2][4] *= buildingsInfo.producing[2][5]; }\n\n        upgradesInfo[2].effect[5] = 1 + researches[2][5];\n        if (upgrades[2][5] === 1) { buildings[2][3].current = buildings[2][3].true + buildings[2][4].current * upgradesInfo[2].effect[5]; }\n\n        buildingsInfo.producing[2][3] = 2 * buildings[2][3].current;\n        if (buildingsInfo.producing[2][4] > 1) { buildingsInfo.producing[2][3] *= buildingsInfo.producing[2][4]; }\n\n        upgradesInfo[2].effect[4] = 1 + researches[2][4];\n        if (upgrades[2][4] === 1) { buildings[2][2].current = buildings[2][2].true + buildings[2][3].current * upgradesInfo[2].effect[4]; }\n\n        buildingsInfo.producing[2][2] = 3 * buildings[2][2].current * vaporization.clouds;\n        upgradesInfo[2].effect[2] = 0.02 + researches[2][2] * 0.02;\n        upgradesInfo[2].effect[3] = 0.02 + researches[2][3] * 0.03;\n        strangeInfo.stageBoost[2] = strangeness[2][8] >= 1 ? (strange[0].true + 1) ** 0.32 : null;\n        if (upgrades[2][2] === 1 && researches[2][1] >= 2) {\n            buildingsInfo.producing[2][2] *= buildings[2][0].total ** upgradesInfo[2].effect[2];\n        } else if (upgrades[2][2] === 1) {\n            buildingsInfo.producing[2][2] *= buildings[2][0].current ** upgradesInfo[2].effect[2];\n        }\n        if (upgrades[2][3] === 1 && researches[2][1] >= 1) {\n            buildingsInfo.producing[2][2] *= buildings[2][1].total ** upgradesInfo[2].effect[3];\n        } else if (upgrades[2][3] === 1) {\n            buildingsInfo.producing[2][2] *= buildings[2][1].current ** upgradesInfo[2].effect[3];\n        }\n        if (buildingsInfo.producing[2][3] > 1) { buildingsInfo.producing[2][2] *= buildingsInfo.producing[2][3]; }\n        if (strangeness[2][1] >= 1) { buildingsInfo.producing[2][2] *= 2 ** strangeness[2][1]; }\n        if (strangeInfo.stageBoost[2] !== null) { buildingsInfo.producing[2][2] *= strangeInfo.stageBoost[2]; }\n\n        researchesExtraInfo[2].effect[1] = 10 ** (researchesExtra[2][1] - 1);\n\n        buildingsInfo.producing[2][1] = 0.0006 * buildings[2][1].current;\n        if (researches[2][0] >= 1) { buildingsInfo.producing[2][1] *= 3 ** researches[2][0]; }\n        if (upgrades[2][0] === 1) { buildingsInfo.producing[2][1] *= 1.1 ** buildings[2][1].true; }\n        if (strangeness[2][0] >= 1) { buildingsInfo.producing[2][1] *= 2 ** strangeness[2][0]; }\n\n        if (buildings[2][2].current < 1) { //Hardlock prevention\n            if (buildings[2][1].current === 0) { buildings[2][0].current = Math.max(buildings[2][0].current, 0.0028); }\n            if (buildings[2][1].current < buildings[2][1].true) {\n                buildings[2][1].true = Math.trunc(buildings[2][1].current);\n                calculateBuildingsCost(1, 2);\n            }\n        }\n\n        vaporizationInfo.get = (researchesExtra[2][0] === 0 ? buildings[2][1].current : buildings[2][1].total) / 1e10;\n        if (strangeness[2][3] >= 1) { vaporizationInfo.get *= 3 ** strangeness[2][3]; }\n        if (vaporizationInfo.get > 1) { //1e4 is softcap, game will force calculation as if you already at softcap if you reached 1e4 total clouds\n            const check = vaporizationInfo.get ** 0.6 + vaporization.clouds;\n            const calculate = (check - 1e4 > 0) ? Math.max(1e4 - vaporization.clouds, 1) : 1;\n            vaporizationInfo.get = calculate + (vaporizationInfo.get - calculate) ** (check > 1e4 ? 0.36 : 0.6);\n        }\n    }\n    if (activeAll.includes(3)) {\n        const { accretion } = player;\n\n        strangeInfo.stageBoost[3] = strangeness[3][7] >= 1 ? (strange[0].true + 1) ** 1.66 : null;\n\n        buildingsInfo.producing[3][4] = (upgrades[3][12] === 1 ? 1.14 : 1.1) ** buildings[3][4].current;\n\n        buildingsInfo.producing[3][3] = 0.1 * buildings[3][3].current;\n        if (upgrades[3][4] === 1 && researchesExtra[3][2] > 0) { buildingsInfo.producing[3][3] *= 2; }\n        if (upgrades[3][8] === 1) { buildingsInfo.producing[3][3] *= 1.005 ** buildings[3][3].current; }\n        if (buildingsInfo.producing[3][4] > 1) { buildingsInfo.producing[3][3] *= buildingsInfo.producing[3][4]; }\n        if (strangeness[3][1] >= 1) { buildingsInfo.producing[3][3] *= 2 ** strangeness[3][1]; }\n\n        buildingsInfo.producing[3][2] = 0.1 * buildings[3][2].current;\n        researchesInfo[3].effect[5] = buildings[3][0].current ** (0.025 * researches[3][5]);\n        if (upgrades[3][3] === 1) { buildingsInfo.producing[3][2] *= 1.02 ** buildings[3][2].true; }\n        if (upgrades[3][4] === 1) { buildingsInfo.producing[3][2] *= 4; }\n        if (researches[3][2] >= 1) { buildingsInfo.producing[3][2] *= 3 ** researches[3][2]; }\n        if (researches[3][4] >= 1) { buildingsInfo.producing[3][2] *= 5 ** researches[3][4]; }\n        if (researches[3][5] >= 1) { buildingsInfo.producing[3][2] *= researchesInfo[3].effect[5]; }\n        if (strangeness[3][1] >= 1) { buildingsInfo.producing[3][2] *= 2 ** strangeness[3][1]; }\n        if (strangeness[3][3] >= 1) { buildingsInfo.producing[3][2] *= buildingsInfo.producing[3][4]; }\n\n        buildingsInfo.producing[3][1] = 1e-19 * buildings[3][1].current;\n        upgradesInfo[3].effect[0] = 1.01 + 0.01 * researches[3][1];\n        upgradesInfo[3].effect[1] = buildings[3][1].current ** (0.05 + 0.01 * researchesExtra[3][3]);\n        upgradesInfo[3].effect[7] = 2 * 1.5 ** researches[3][6];\n        upgradesInfo[3].effect[10] = 10 * 3 ** researches[3][7];\n        researchesExtraInfo[3].effect[0] = 1.1 ** researchesExtra[3][0];\n        researchesExtraInfo[3].effect[1] = (1 + 0.1 * researchesExtra[3][1]) ** accretion.rank;\n        if (upgrades[3][0] === 1) { buildingsInfo.producing[3][1] *= upgradesInfo[3].effect[0] ** buildings[3][1].true; }\n        if (upgrades[3][1] === 1) { buildingsInfo.producing[3][1] *= upgradesInfo[3].effect[1]; }\n        if (upgrades[3][2] === 1) { buildingsInfo.producing[3][1] *= 2; }\n        if (upgrades[3][5] === 1) { buildingsInfo.producing[3][1] *= 3; }\n        if (upgrades[3][7] === 1) { buildingsInfo.producing[3][1] *= upgradesInfo[3].effect[7]; }\n        if (upgrades[3][9] === 1) { buildingsInfo.producing[3][1] *= 2; }\n        if (upgrades[3][10] === 1) { buildingsInfo.producing[3][1] *= upgradesInfo[3].effect[10]; }\n        if (researches[3][0] >= 1) { buildingsInfo.producing[3][1] *= 3 ** researches[3][0]; }\n        if (researches[3][3] >= 1) { buildingsInfo.producing[3][1] *= 2 ** researches[3][3]; }\n        if (researchesExtra[3][0] >= 1) { buildingsInfo.producing[3][1] *= researchesExtraInfo[3].effect[0]; }\n        if (researchesExtra[3][1] >= 1) { buildingsInfo.producing[3][1] *= researchesExtraInfo[3].effect[1]; }\n        if (strangeness[3][0] >= 1) { buildingsInfo.producing[3][1] *= 2 ** strangeness[3][0]; }\n        if (strangeness[3][3] >= 1) { buildingsInfo.producing[3][1] *= buildingsInfo.producing[3][4]; }\n        if (accretion.rank >= 5) { //I know that close to 1, softcap is at weakest point\n            buildingsInfo.producing[3][1] **= buildingsInfo.producing[3][1] < 1 ? 1.1 : 0.8;\n        }\n    }\n    if (activeAll.includes(4)) {\n        const { collapse, elements } = player;\n        const { collapseInfo } = global;\n\n        researchesInfo[4].effect[0] = (1.1 + 0.2 * researches[4][2]) ** researches[4][0];\n        researchesInfo[4].effect[1] = (1 + (0.01 * Math.min(researches[4][1], 5)) + (researches[4][1] > 5 ? 0.005 * (researches[4][1] - 5) : 0)) ** (buildings[4][1].true + buildings[4][2].true + buildings[4][3].true + buildings[4][4].true);\n        strangeInfo.stageBoost[4] = strangeness[4][9] >= 1 ? (strange[0].true + 1) ** 0.36 : null;\n        if (researchesInfo[4].effect[1] > 1e10) { researchesInfo[4].effect[1] = 1e10 + (researchesInfo[4].effect[1] - 1e10) ** 0.70; }\n        let redGiantEffect = collapse.stars[0] + 1;\n        if (elements[6] === 1) { redGiantEffect **= 1.5; }\n        let neutronStarEffect = (collapse.stars[1] + (elements[22] === 1 ? collapse.stars[0] + 1 : 1)) ** 0.5;\n        if (elements[12] === 1 && collapse.stars[1] > 10) { neutronStarEffect *= Math.log10(collapse.stars[1] + (elements[22] === 1 ? collapse.stars[0] : 0)); }\n        const blackHoleEffect = collapse.stars[2] >= 1 ? (collapse.stars[2] + 1) / Math.log10(collapse.stars[2] + (elements[18] === 1 ? 9 : 99)) : 1;\n        let totalMultiplier = (collapse.mass ** (elements[21] === 1 ? 1.1 : 1)) * researchesInfo[4].effect[0] * researchesInfo[4].effect[1] * neutronStarEffect;\n        if (elements[4] === 1) { totalMultiplier *= 1.1; }\n        if (elements[19] === 1) { totalMultiplier *= 3; }\n        if (elements[23] === 1 && collapse.stars[2] > 10) { totalMultiplier *= Math.log10(collapse.stars[2]); }\n        if (elements[24] === 1) { totalMultiplier *= buildings[4][0].current ** 0.01; }\n        if (elements[26] === 1) { totalMultiplier *= 2; }\n        if (strangeness[4][0] >= 1) { totalMultiplier *= 1.5 ** strangeness[4][0]; }\n        if (player.milestones[1][1] >= 3) { totalMultiplier *= 4; }\n        if (strangeInfo.stageBoost[4] !== null) { totalMultiplier *= strangeInfo.stageBoost[4]; }\n\n        buildingsInfo.producing[4][4] = 2e9 * buildings[4][4].current * totalMultiplier;\n\n        buildingsInfo.producing[4][3] = 2.5e7 * buildings[4][3].current * totalMultiplier;\n\n        buildingsInfo.producing[4][2] = 300 * buildings[4][2].current * redGiantEffect * totalMultiplier;\n        if (researches[4][3] >= 1) { buildingsInfo.producing[4][2] *= 10; }\n        if (researchesExtra[4][1] >= 1) { buildingsInfo.producing[4][2] *= (collapse.stars[0] + 1) ** 0.5; }\n\n        buildingsInfo.producing[4][1] = 22 * buildings[4][1].current * totalMultiplier;\n        if (elements[1] === 1) { buildingsInfo.producing[4][1] *= 2; }\n\n        let massGain = 0.004;\n        if (elements[3] === 1) { massGain += 0.001; }\n        if (elements[5] === 1) { massGain += 0.00015 * buildings[4][1].true; }\n        if (elements[10] === 1) { massGain *= 2; }\n        if (elements[14] === 1) { massGain *= 1.4; }\n        collapseInfo.newMass = (buildings[4][1].true + (elements[15] === 1 ? buildings[4][2].true + buildings[4][3].true + buildings[4][4].true : 0)) * massGain * blackHoleEffect;\n\n        collapseInfo.starCheck[0] = Math.max(buildings[4][2].true + Math.trunc(buildings[4][1].true * strangeness[4][3] / 4) - collapse.stars[0], 0);\n        collapseInfo.starCheck[1] = Math.max(buildings[4][3].true - collapse.stars[1], 0);\n        collapseInfo.starCheck[2] = Math.max(buildings[4][4].true - collapse.stars[2], 0);\n    }\n    if (activeAll.includes(5)) {\n        buildingsInfo.producing[5][3] = 10 ** buildings[5][3].current;\n\n        buildingsInfo.producing[5][2] = 1.5 * buildings[5][2].current;\n        upgradesInfo[5].effect[1] = 6;\n        if (strangeness[5][4] >= 1) { upgradesInfo[5].effect[1] *= 4 ** strangeness[5][4]; }\n        if (upgrades[5][1] === 1) { buildingsInfo.producing[5][2] *= upgradesInfo[5].effect[1]; }\n        if (researches[5][1] >= 1) { buildingsInfo.producing[5][2] *= 3 ** researches[5][1]; }\n        if (buildingsInfo.producing[5][3] > 1) { buildingsInfo.producing[5][2] *= buildingsInfo.producing[5][3]; }\n\n        buildingsInfo.producing[5][1] = 1 * buildings[5][1].current;\n        upgradesInfo[5].effect[0] = 4;\n        if (strangeness[5][3] >= 1) { upgradesInfo[5].effect[0] *= 3 ** strangeness[5][3]; }\n        if (upgrades[5][0] === 1) { buildingsInfo.producing[5][1] *= upgradesInfo[5].effect[0]; }\n        if (researches[5][0] >= 1) { buildingsInfo.producing[5][1] *= 4 ** researches[5][0]; }\n        if (buildingsInfo.producing[5][3] > 1) { buildingsInfo.producing[5][1] *= buildingsInfo.producing[5][3]; }\n\n        const clusterBoost = buildingsInfo.producing[5][2];\n        if (clusterBoost > 1) {\n            buildingsInfo.producing[4][4] *= clusterBoost;\n            if (researches[5][1] >= 2) { buildingsInfo.producing[4][3] *= clusterBoost / 3; }\n            if (researches[5][1] >= 3) { buildingsInfo.producing[4][2] *= clusterBoost / 9; }\n            if (researches[5][1] >= 4) { buildingsInfo.producing[4][1] *= clusterBoost / 27; }\n        }\n\n        buildings[5][0].current = buildings[4][1].current + buildings[4][2].current + buildings[4][3].current + buildings[4][4].current;\n        buildings[5][0].total = buildings[4][1].total + buildings[4][2].total + buildings[4][3].total + buildings[4][4].total;\n        buildings[5][0].trueTotal = buildings[4][1].trueTotal + buildings[4][2].trueTotal + buildings[4][3].trueTotal + buildings[4][4].trueTotal;\n        buildings[5][0].highest = buildings[4][1].highest + buildings[4][2].highest + buildings[4][3].highest + buildings[4][4].highest;\n    }\n    if (stage.true >= 5) {\n        strangeInfo.stageGain = 1;\n        if (strangeness[5][1] >= 1) { strangeInfo.stageGain *= 2; }\n\n        strangeInfo.extraGain = 0;\n        if (stage.current >= 5) {\n            const { elementsInfo } = global;\n            const { elements } = player;\n\n            elementsInfo.effect[28] = Math.log10(player.collapse.elementsMax) - 52;\n            if (upgrades[5][2] === 1) { elementsInfo.effect[28] **= 1.5; }\n            elementsInfo.effect[28] = Math.trunc(elementsInfo.effect[28]);\n\n            if (elements[27] === 1) { strangeInfo.extraGain += 2; }\n            if (elements[28] === 1) { strangeInfo.extraGain += elementsInfo.effect[28]; }\n            if (strangeness[5][1] >= 1) { strangeInfo.extraGain *= 2; }\n        }\n    }\n};\n\nexport const buyBuilding = (index: number, stageIndex = player.stage.active, auto = false) => {\n    if (!checkBuilding(index, stageIndex)) { return; }\n\n    const { buildingsInfo } = global;\n\n    if (!isFinite(buildingsInfo.cost[stageIndex][index])) {\n        if (global.screenReader && !auto) {\n            getId('invisibleBought').textContent = `Coudn't make '${buildingsInfo.name[stageIndex][index]}', because cost is infinity`;\n        }\n        return;\n    }\n\n    const { buildings } = player;\n    const galaxy = stageIndex === 5 && index === 3;\n\n    let extra = index - 1; //What you are paying\n    if (stageIndex === 2 && index !== 1) {\n        extra = 1; //Drops\n    } else if (stageIndex >= 3) {\n        extra = 0; //Mass || Elements\n    }\n    const stageExtra = stageIndex === 5 ? 4 : stageIndex;\n\n    let currency: number;\n    if (galaxy) {\n        currency = player.collapse.mass;\n    } else {\n        currency = buildings[stageExtra][extra].current;\n    }\n\n    let keep = 2;\n    if (buildings[stageIndex][index].true === 0 || galaxy || currency > 1e300) { keep = 1; }\n\n    if (currency / (auto ? keep : 1) < buildingsInfo.cost[stageIndex][index]) {\n        if (global.screenReader && !auto) {\n            getId('invisibleBought').textContent = `Coudn't make '${buildingsInfo.name[stageIndex][index]}', because didn't had enough of '${galaxy ? 'Main-sequence mass' : buildingsInfo.name[stageExtra][extra]}'`;\n        }\n        return;\n    }\n\n    const { shop } = player.toggles;\n    const howMany = auto ? -1 : player.researchesAuto[0] === 0 ? 1 : shop.howMany;\n    const microworld = stageIndex === 1;\n    if (microworld && index === 1) { global.dischargeInfo.energyType[index] = globalStart.dischargeInfo.energyType[index] + 1 * player.strangeness[1][4]; }\n\n    let canAfford: number;\n    let total: number;\n    if (howMany !== 1 && player.researchesAuto[0] > 0) {\n        //Increase must be > 1 (if < 1, then use (1 - increase) and (1 - increase ** levels))\n        let budget = currency / (auto ? keep : 1); //How much need to spend\n        const totalBefore = buildingsInfo.startCost[stageIndex][index] * ((buildingsInfo.increase[stageIndex][index] ** buildings[stageIndex][index].true - 1) / (buildingsInfo.increase[stageIndex][index] - 1)); //How much already payed for\n        const maxAfford = Math.trunc(Math.log((totalBefore + budget) * (buildingsInfo.increase[stageIndex][index] - 1) / buildingsInfo.startCost[stageIndex][index] + 1) / Math.log(buildingsInfo.increase[stageIndex][index])) - buildings[stageIndex][index].true; //Max amount that can be afforded\n        if (shop.strict && maxAfford < howMany && howMany !== -1) { return; }\n        canAfford = howMany !== -1 ? Math.min(maxAfford, howMany) : maxAfford;\n        total = buildingsInfo.startCost[stageIndex][index] * ((buildingsInfo.increase[stageIndex][index] ** (canAfford + buildings[stageIndex][index].true) - 1) / (buildingsInfo.increase[stageIndex][index] - 1)) - totalBefore; //How much you need to pay\n\n        if (!isFinite(total) || !isFinite(canAfford)) { /* Fallback */\n            let cost = buildingsInfo.cost[stageIndex][index];\n            for (canAfford = 0, total = 0; budget >= cost; canAfford++) {\n                total += cost;\n                budget -= cost;\n                cost *= buildingsInfo.increase[stageIndex][index];\n            }\n        }\n    } else {\n        canAfford = 1;\n        total = buildingsInfo.cost[stageIndex][index];\n    }\n\n    currency -= total;\n    buildings[stageIndex][index].current += canAfford;\n    buildings[stageIndex][index].true += canAfford;\n    buildings[stageIndex][index].total += canAfford;\n    buildings[stageIndex][index].trueTotal += canAfford;\n    if (buildings[stageIndex][index].highest < buildings[stageIndex][index].current) { buildings[stageIndex][index].highest = buildings[stageIndex][index].current; }\n\n    if (microworld) { player.discharge.energy += global.dischargeInfo.energyType[index] * canAfford; }\n    if (global.screenReader && !auto) {\n        getId('invisibleBought').textContent = `Maded ${format(canAfford)} '${buildingsInfo.name[stageIndex][index]}'${microworld ? `, gained ${format(global.dischargeInfo.energyType[index] * canAfford)} Energy` : ''}`;\n    }\n\n    if (galaxy) {\n        //player.collapse.mass = currency; //reset() already does it\n        reset('galaxy', [4, 5]);\n    } else {\n        buildings[stageExtra][extra].current = currency;\n\n        calculateBuildingsCost(index, stageIndex);\n        calculateStageInformation();\n        numbersUpdate();\n    }\n\n    //Milestones that are based on bought amount\n    if (stageIndex === 1) {\n        if (player.discharge.energyMax < player.discharge.energy) { player.discharge.energyMax = player.discharge.energy; }\n        milestoneCheck(1, 1);\n    } else if (stageIndex === 2) {\n        if (index !== 1) { milestoneCheck(1, 2); }\n    } else if (stageIndex === 3) {\n        if (index === 4) { milestoneCheck(1, 3); }\n    } else if (stageIndex === 4) {\n        global.collapseInfo.trueStars = buildings[4][1].true + buildings[4][2].true + buildings[4][3].true + buildings[4][4].true;\n        milestoneCheck(0, 5);\n    } else if (stageIndex === 5) {\n        if (index === 3) {\n            milestoneCheck(1, 5);\n            if (!player.events[2]) { playEvent(5, 2); }\n        }\n    }\n};\n\nexport const calculateBuildingsCost = (index: number, stageIndex: number) => {\n    const { buildings } = player;\n    const { buildingsInfo } = global;\n\n    if (stageIndex === 1) {\n        global.upgradesInfo[1].effect[4] = (20 + player.researches[1][0]) / 100; //(0.2 + 1 / 100) / 100\n        buildingsInfo.increase[1][index] = Math.round((1.4 - (player.upgrades[1][4] === 1 ? global.upgradesInfo[1].effect[4] : 0)) * 100) / 100;\n        if (index === 1) { buildingsInfo.startCost[1][1] = globalStart.buildingsInfo.startCost[1][1] / (player.upgrades[1][0] === 1 ? 10 : 1); }\n    } else if (stageIndex === 3) {\n        buildingsInfo.startCost[3][index] = globalStart.buildingsInfo.startCost[3][index] / (global.strangeInfo.stageBoost[3] ?? 1);\n        if (index === 4) { buildingsInfo.increase[3][4] = player.upgrades[3][11] === 1 ? 5 : 10; }\n    } else if (stageIndex === 4) {\n        buildingsInfo.increase[4][index] = Math.round(((1.4 + 0.15 * (index - 1)) - (player.elements[2] === 1 ? 0.1 : 0) - (player.elements[8] === 1 ? 0.05 : 0)) * 100) / 100;\n        buildingsInfo.startCost[4][index] = globalStart.buildingsInfo.startCost[4][index] / (player.elements[13] === 1 ? 1e3 : 1) / (2 ** player.strangeness[4][1]);\n    }\n\n    buildingsInfo.cost[stageIndex][index] = buildingsInfo.startCost[stageIndex][index] * buildingsInfo.increase[stageIndex][index] ** buildings[stageIndex][index].true;\n};\n\nexport const calculateGainedBuildings = (get: number, stageIndex: number, time: number) => {\n    const { buildings } = player;\n    const { buildingsInfo } = global;\n\n    let add: number;\n    if (stageIndex === 1 && get === 3) {\n        add = (global.upgradesInfo[1].effect[6] as number) * time;\n    } else if (stageIndex === 5) {\n        add = buildingsInfo.producing[5][1] * time;\n    } else {\n        add = buildingsInfo.producing[stageIndex][get + 1] * time;\n\n        if (stageIndex === 2 && get === 1 && player.researchesExtra[2][1] >= 1) {\n            add += time * (global.researchesExtraInfo[2].effect[1] as number);\n        }\n    }\n\n    if (add === 0) { return; }\n\n    let stageGet = stageIndex;\n    if (stageIndex === 4) {\n        get = 0;\n    } else if (stageIndex === 5) {\n        if (get > 0) { add /= 4 ** get; }\n        stageGet = 4;\n        get++;\n    }\n\n    let check = buildings[stageGet][get].current + add;\n    buildings[stageGet][get].current = isFinite(check) ? check : 1e308;\n\n    check = buildings[stageGet][get].total + add;\n    buildings[stageGet][get].total = isFinite(check) ? check : 1e308;\n\n    check = buildings[stageGet][get].trueTotal + add;\n    buildings[stageGet][get].trueTotal = isFinite(check) ? check : 1e308;\n\n    if (buildings[stageGet][get].highest < buildings[stageGet][get].current) { buildings[stageGet][get].highest = buildings[stageGet][get].current; }\n\n    //Milestones that are based on gained amount\n    if (stageIndex === 3) {\n        if (player.accretion.rank < 5 && buildings[3][0].current + add > 1e30) {\n            buildings[3][0].current = 1e30;\n        }\n        if (get === 0) { milestoneCheck(0, 3); }\n    } else if (stageIndex === 4) {\n        if (player.collapse.elementsMax < buildings[4][0].current) { player.collapse.elementsMax = buildings[4][0].current; }\n    }\n};\n\n//Auto allowed to buy any upgrades, because it's already checks if allowed (to make it not break from player actions)\nexport const buyUpgrades = (upgrade: number, stageIndex: 'auto' | number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness', auto = false): boolean => {\n    if (stageIndex === 'auto') { stageIndex = player.stage.active; }\n    if (type === 'ASR') { upgrade = stageIndex; }\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; }\n\n    let currency: number;\n    if (type === 'strangeness') {\n        currency = player.strange[0].true;\n    } else if (stageIndex === 1) {\n        currency = player.discharge.energy;\n    } else if (stageIndex === 2) {\n        currency = player.buildings[2][1].current;\n    } else if (stageIndex === 3) {\n        currency = player.buildings[3][0].current;\n    } else /* if (stageIndex === 4 || stageIndex === 5) */ {\n        currency = player.buildings[4][0].current;\n    }\n\n    if (type === 'upgrades' || type === 'researches' || type === 'researchesExtra') {\n        const typeInfo = type + 'Info' as 'researchesInfo';\n\n        if (currency < global[typeInfo][stageIndex].cost[upgrade]) { return false; }\n        if (type === 'upgrades') {\n            if (player[type][stageIndex][upgrade] === 1) { return false; }\n        } else {\n            if (player[type][stageIndex][upgrade] === global[typeInfo][stageIndex].max[upgrade]) { return false; }\n        }\n        player[type][stageIndex][upgrade]++;\n        currency -= global[typeInfo][stageIndex].cost[upgrade];\n\n        /* Special cases */\n        if (type === 'upgrades') {\n            if (stageIndex === 1) {\n                if (upgrade === 0) {\n                    calculateBuildingsCost(1, 1);\n                } else if (upgrade === 4) {\n                    if (!player.events[0]) { playEvent(0, 0); }\n                    for (let i = 1; i < global.buildingsInfo.name[1].length; i++) {\n                        calculateBuildingsCost(i, 1);\n                    }\n                }\n            } else if (stageIndex === 3 && upgrade === 11) {\n                calculateBuildingsCost(4, 3);\n            }\n        } else if (type === 'researches') {\n            if (stageIndex === 1 && upgrade === 0) {\n                for (let i = 1; i < global.buildingsInfo.name[1].length; i++) {\n                    calculateBuildingsCost(i, 1);\n                }\n            } else if (stageIndex === 4 && upgrade === 2) {\n                calculateMaxLevel(0, 4, 'researches');\n            }\n        }\n        if (global.screenReader && !auto) {\n            if (type === 'upgrades') {\n                getId('invisibleBought').textContent = `You have created upgrade '${global[typeInfo][stageIndex].description[upgrade]}'`;\n            } else {\n                getId('invisibleBought').textContent = `You have researched '${global[typeInfo][stageIndex].description[upgrade]}', level is now ${player[type][upgrade]} ${player[type][stageIndex][upgrade] === global[typeInfo][stageIndex].max[upgrade] ? 'maxed' : ''}`;\n            }\n        }\n\n        if (type !== 'upgrades') { calculateResearchCost(upgrade, stageIndex, type); }\n    } else if (type === 'researchesAuto' || type === 'ASR') {\n        const typeInfo = type + 'Info' as 'researchesAutoInfo';\n\n        if (player[type][upgrade] === global[typeInfo].max[upgrade] || currency < global[typeInfo].cost[upgrade]) { return false; }\n        player[type][upgrade]++;\n        currency -= global[typeInfo].cost[upgrade];\n\n        /* Special cases */\n        if (global.screenReader && !auto) { getId('invisibleBought').textContent = `You have researched '${type === 'ASR' ? global[typeInfo].description : global[typeInfo].description[upgrade]}', level is now ${player[type][upgrade]} ${player[type][upgrade] === global[typeInfo].max[upgrade] ? 'maxed' : ''}`; }\n\n        calculateResearchCost(upgrade, stageIndex, type);\n    } else if (type === 'elements') {\n        const typeInfo = 'elementsInfo' as const;\n\n        if (player[type][upgrade] === 1 || currency < global[typeInfo].cost[upgrade]) { return false; }\n        player[type][upgrade] = 1;\n        currency -= global[typeInfo].cost[upgrade];\n\n        if (!player.collapse.show.includes(upgrade)) { player.collapse.show.push(upgrade); }\n\n        /* Special cases */\n        if (upgrade === 2 || upgrade === 8 || upgrade === 13) {\n            for (let i = 1; i < global.buildingsInfo.name[4].length; i++) {\n                calculateBuildingsCost(i, 4);\n            }\n        } else if (upgrade === 7 || upgrade === 16 || upgrade === 20 || upgrade === 25) {\n            calculateMaxLevel(1, 4, 'researches');\n        } else if (upgrade === 9 || upgrade === 17) {\n            calculateMaxLevel(0, 4, 'researches');\n        } else if (upgrade === 11) {\n            calculateMaxLevel(2, 4, 'researches');\n        } else if (upgrade === 26 && player.stage.current === 4) {\n            stageNoReset();\n        }\n        if (global.screenReader && !auto) { getId('invisibleBought').textContent = `You have obtained element '${global[typeInfo].description[upgrade]}'`; }\n    } else {\n        const typeInfo = 'strangenessInfo' as const;\n\n        if (player[type][stageIndex][upgrade] === global[typeInfo][stageIndex].max[upgrade] || currency < global[typeInfo][stageIndex].cost[upgrade]) { return false; }\n        player[type][stageIndex][upgrade]++;\n        currency -= global[typeInfo][stageIndex].cost[upgrade];\n\n        /* Special cases */\n        if (((stageIndex === 1 || stageIndex === 4) && upgrade === 6) ||\n            ((stageIndex === 2 || stageIndex === 3) && upgrade === 5) ||\n            (stageIndex === 5 && (upgrade === 7 || (upgrade === 6 && player.strangeness[5][6] === 2)))) { //Auto only to save space\n            player.ASR[stageIndex] = Math.max(player.strangeness[stageIndex][upgrade], player.ASR[stageIndex]);\n            if (stageIndex === 5 && player.strangeness[5][6] >= 2) { player.ASR[5]++; }\n            calculateMaxLevel(0, stageIndex, 'ASR');\n        } else if (stageIndex === 1) {\n            if (global.stageInfo.activeAll.includes(1)) {\n                if (upgrade === 4) {\n                    for (let i = 1; i < global.buildingsInfo.name[1].length; i++) {\n                        calculateBuildingsCost(i, 1);\n                    }\n                }\n            }\n            if (upgrade === 7) {\n                player.researchesAuto[0] = Math.max(1, player.researchesAuto[0]);\n                calculateMaxLevel(0, 1, 'researchesAuto');\n            }\n        } else if (stageIndex === 2) {\n            if (global.stageInfo.activeAll.includes(2)) {\n                if (upgrade === 2) {\n                    if (player.strangeness[2][2] < 3) { calculateMaxLevel(4, 2, 'researches'); }\n                    if (player.strangeness[2][2] === 2) { calculateMaxLevel(5, 2, 'researches'); }\n                }\n            }\n            if (upgrade === 6) {\n                player.researchesAuto[1] = Math.max(1, player.researchesAuto[1]);\n                calculateMaxLevel(1, 2, 'researchesAuto');\n            }\n        } else if (stageIndex === 3) {\n            if (global.stageInfo.activeAll.includes(3)) {\n                if (upgrade === 2) {\n                    calculateMaxLevel(0, 3, 'researchesExtra');\n                    calculateMaxLevel(1, 3, 'researchesExtra');\n                } else if (upgrade === 7) {\n                    calculateStageInformation();\n                    for (let i = 1; i < global.buildingsInfo.name[3].length; i++) {\n                        calculateBuildingsCost(i, 3);\n                    }\n                }\n            }\n            if (upgrade === 6) {\n                calculateMaxLevel(2, 3, 'researchesAuto');\n            }\n        } else if (stageIndex === 4) {\n            if (global.stageInfo.activeAll.includes(4)) {\n                if (upgrade === 1) {\n                    for (let i = 1; i < global.buildingsInfo.name[4].length; i++) {\n                        calculateBuildingsCost(i, 4);\n                    }\n                }\n            }\n        } else if (stageIndex === 5) {\n            if (upgrade === 0) {\n                if (!global.stageInfo.activeAll.includes(player.strangeness[5][0])) {\n                    reset('stage', [player.strangeness[5][0]]);\n                    stageCheck('soft');\n                }\n            }\n        }\n        if (global.screenReader) { getId('invisibleBought').textContent = `You have increased strangeness of ${global[typeInfo][stageIndex].description[upgrade]} for ${global.stageInfo.word[stageIndex]} stage, level is now ${player[type][stageIndex][upgrade]}${player[type][stageIndex][upgrade] === global[typeInfo][stageIndex].max[upgrade] ? 'maxed' : ''}`; }\n\n        calculateResearchCost(upgrade, stageIndex, type);\n    }\n\n    /* Because each price can use different property, so have to do it this way... */\n    if (type === 'strangeness') {\n        player.strange[0].true = currency;\n    } else if (stageIndex === 1) {\n        player.discharge.energy = currency;\n    } else if (stageIndex === 2) {\n        player.buildings[stageIndex][1].current = currency;\n    } else if (stageIndex === 3) {\n        player.buildings[3][0].current = currency;\n    } else /*if (stageIndex === 4 || stageIndex === 5)*/ {\n        player.buildings[4][0].current = currency;\n    }\n\n    numbersUpdate();\n    //stageIndex only used for strangeness research, since no need to update what can't be seen\n    if (!auto || (global.lastResearch[2] === type && global.lastResearch[0] === upgrade)) {\n        getUpgradeDescription(upgrade, stageIndex, type);\n    }\n    visualUpdateUpgrades(upgrade, stageIndex, type);\n    if (stageIndex === 1 && player.toggles.auto[1] &&\n        (type === 'upgrades' || type === 'researches' /*|| type === 'researchesExtra'*/ || type === 'researchesAuto' || type === 'ASR') //Just in case\n    ) { dischargeResetCheck('upgrade'); }\n    return true;\n};\n\nexport const calculateResearchCost = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness') => {\n    if (type === 'researches' || type === 'researchesExtra') {\n        const typeInfo = type + 'Info' as 'researchesInfo';\n\n        if (player[type][stageIndex][research] === global[typeInfo][stageIndex].max[research]) { return; }\n\n        if (stageIndex === 1) {\n            global[typeInfo][stageIndex].cost[research] = globalStart[typeInfo][stageIndex].cost[research] + global[typeInfo][stageIndex].scaling[research] * player[type][stageIndex][research];\n        } else {\n            global[typeInfo][stageIndex].cost[research] = globalStart[typeInfo][stageIndex].cost[research] * global[typeInfo][stageIndex].scaling[research] ** player[type][stageIndex][research];\n        }\n\n        //Below will remove all but 2 digits past point\n        if (global[typeInfo][stageIndex].cost[research] < 1) {\n            const digits = -Math.floor(Math.log10(global[typeInfo][stageIndex].cost[research])); //Because of floats, -digits will be used\n            global[typeInfo][stageIndex].cost[research] = Math.round(global[typeInfo][stageIndex].cost[research] * 10 ** (digits + 2)) / 10 ** (digits + 2);\n        } else {\n            global[typeInfo][stageIndex].cost[research] = Math.round(global[typeInfo][stageIndex].cost[research] * 100) / 100;\n        }\n    } else if (type === 'researchesAuto') {\n        const typeInfo = 'researchesAutoInfo' as const;\n\n        if (player[type][research] === global[typeInfo].max[research]) { return; }\n\n        if (stageIndex === 1) {\n            global[typeInfo].cost[research] = globalStart[typeInfo].cost[research] + global[typeInfo].scaling[research] * player[type][research];\n        } else {\n            global[typeInfo].cost[research] = globalStart[typeInfo].cost[research] * global[typeInfo].scaling[research] ** player[type][research];\n        }\n\n        if (global[typeInfo].cost[research] < 1) {\n            const digits = -Math.floor(Math.log10(global[typeInfo].cost[research]));\n            global[typeInfo].cost[research] = Math.round(global[typeInfo].cost[research] * 10 ** (digits + 2)) / 10 ** (digits + 2);\n        } else {\n            global[typeInfo].cost[research] = Math.round(global[typeInfo].cost[research] * 100) / 100;\n        }\n    } else if (type === 'ASR') {\n        if (player.ASR[stageIndex] === global.ASRInfo.max[stageIndex]) { return; }\n\n        global.ASRInfo.cost[stageIndex] = global.ASRInfo.costRange[stageIndex][player.ASR[stageIndex]];\n    } else if (type === 'strangeness') {\n        const typeInfo = 'strangenessInfo' as const;\n\n        if (player[type][stageIndex][research] === global[typeInfo][stageIndex].max[research]) { return; }\n\n        global[typeInfo][stageIndex].cost[research] = Math.trunc(Math.round((globalStart[typeInfo][stageIndex].cost[research] + global[typeInfo][stageIndex].scaling[research] * player[type][stageIndex][research]) * 100) / 100);\n    }\n};\n\nexport const calculateMaxLevel = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR') => {\n    if (type === 'researchesAuto') { //No need for stageIndex (but autoStage can be used if needed)\n        if (research === 0) {\n            global.researchesAutoInfo.max[0] = player.strangeness[1][7] + 1;\n        } else if (research === 1) {\n            global.researchesAutoInfo.max[1] = player.strangeness[2][6] + 1;\n        } else if (research === 2) {\n            global.researchesAutoInfo.max[2] = player.strangeness[3][6];\n        }\n    } else if (type === 'ASR') { //No need for research here\n        if (stageIndex === 5) {\n            global.ASRInfo.max[5] = player.strangeness[5][7];\n            if (player.strangeness[5][6] >= 2) { global.ASRInfo.max[5]++; }\n        }\n    } else if (type === 'researches') {\n        if (stageIndex === 2) {\n            if (research === 4) {\n                global.researchesInfo[2].max[4] = 2 + Math.min(player.strangeness[2][2], 2);\n            } else if (research === 5) {\n                global.researchesInfo[2].max[5] = 2;\n                if (player.strangeness[2][2] >= 2) { global.researchesInfo[2].max[5] += 1; }\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                global.researchesInfo[4].max[0] = 3 + (3 * player.researches[4][2]);\n                if (player.elements[9] === 1) { global.researchesInfo[4].max[0] += 12; }\n                if (player.elements[17] === 1) { global.researchesInfo[4].max[0] += 27; }\n            } else if (research === 1) {\n                global.researchesInfo[4].max[1] = 2;\n                if (player.elements[7] === 1) { global.researchesInfo[4].max[1] += 2; }\n                for (const i of [16, 20, 25]) {\n                    if (player.elements[i] === 1) { global.researchesInfo[4].max[1] += 1; }\n                }\n            } else if (research === 2) {\n                global.researchesInfo[4].max[2] = player.elements[11] === 1 ? 2 : 1;\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stageIndex === 3) {\n            if (research === 0) {\n                global.researchesExtraInfo[3].max[0] = 12;\n                if (player.accretion.rank >= 3) { global.researchesExtraInfo[3].max[0] += 17; }\n                if (player.strangeness[3][2] >= 1) { global.researchesExtraInfo[3].max[0] += 10 * Math.min(player.strangeness[3][2], 2); }\n            } else if (research === 1) {\n                global.researchesExtraInfo[3].max[1] = 5;\n                if (player.strangeness[3][2] >= 1) { global.researchesExtraInfo[3].max[1] += 1 * Math.min(player.strangeness[3][2], 2); }\n            }\n        }\n    }\n\n    calculateResearchCost(research, stageIndex, type);\n    visualUpdateUpgrades(research, stageIndex, type);\n    if (type === 'researches' || type === 'researchesExtra') { autoUpgradesSet(type, [stageIndex, research]); }\n};\n\nconst autoUpgradesType = (type: 'upgrades' | 'researches' | 'researchesExtra') => {\n    switch (type) {\n        case 'upgrades':\n            if (!player.toggles.auto[5] || player.researchesAuto[2] < 1) {\n                return null;\n            }\n            return 'autoU';\n        case 'researches':\n            if (!player.toggles.auto[6] || player.researchesAuto[2] < 2) {\n                return null;\n            }\n            return 'autoR';\n        case 'researchesExtra':\n            if (!player.toggles.auto[7] || player.researchesAuto[2] < 3) {\n                return null;\n            }\n            return 'autoE';\n    }\n};\n\n//All = reset all of current active stages; As number means reset that stage only; As array means add [1] into stage [0] if it's not already inside\nexport const autoUpgradesSet = (type: 'upgrades' | 'researches' | 'researchesExtra', which = 'all' as 'all' | number | number[]) => {\n    const auto = autoUpgradesType(type);\n    if (auto === null) { return; }\n\n    const { automatization } = global;\n    const typeInfo = type + 'Info' as 'researchesInfo';\n\n    if (which === 'all') { //'all' is never actually used\n        for (const s of global.stageInfo.activeAll) {\n            automatization[auto][s] = [];\n            for (let i = 0; i < global[typeInfo][s].cost.length; i++) {\n                if (player[type][s][i] < (type === 'upgrades' ? 1 : global[typeInfo][s].max[i])) {\n                    automatization[auto][s].push(i);\n                }\n            }\n            automatization[auto][s].sort((a, b) => global[typeInfo][s].cost[a] - global[typeInfo][s].cost[b]);\n        }\n    } else if (typeof which === 'number') {\n        automatization[auto][which] = [];\n        for (let i = 0; i < global[typeInfo][which].cost.length; i++) {\n            if (player[type][which][i] < (type === 'upgrades' ? 1 : global[typeInfo][which].max[i])) {\n                automatization[auto][which].push(i);\n            }\n        }\n        automatization[auto][which].sort((a, b) => global[typeInfo][which].cost[a] - global[typeInfo][which].cost[b]);\n    } else { //type !== 'upgrades'\n        if (!automatization[auto][which[0]].some((a) => a === which[1])) {\n            automatization[auto][which[0]].unshift(which[1]); //Will get sorted automatically\n        }\n    }\n};\n\nexport const autoUpgradesBuy = (type: 'upgrades' | 'researches' | 'researchesExtra', stageIndex: number) => {\n    const auto = autoUpgradesType(type);\n    if (auto === null) { return; }\n\n    const { automatization } = global;\n    const typeInfo = type + 'Info' as 'researchesInfo';\n\n    let sort = false;\n    for (let i = 0; i < automatization[auto][stageIndex].length; i++) {\n        const index = automatization[auto][stageIndex][i]; //Faster this way\n\n        if (!checkUpgrade(index, stageIndex, type)) { continue; }\n        const bought = buyUpgrades(index, stageIndex, type, true);\n        if (index !== automatization[auto][stageIndex][i]) { continue; } //calculateMaxLevel will insert new upgrades to the start of array\n\n        if (player[type][stageIndex][index] === (type === 'upgrades' ? 1 : global[typeInfo][stageIndex].max[index])) {\n            automatization[auto][stageIndex].splice(i, 1);\n            i--; //Because 2nd index is now 1st\n        } else {\n            if (!bought) {\n                if (global[typeInfo][stageIndex].cost[index] > global[typeInfo][stageIndex].cost[automatization[auto][stageIndex][i + 1]]) {\n                    sort = true;\n                    continue;\n                }\n                break;\n            } else { i--; } //Try to buy again, if (type !== 'upgrades')\n        }\n    }\n    if (sort) { automatization[auto][stageIndex].sort((a, b) => global[typeInfo][stageIndex].cost[a] - global[typeInfo][stageIndex].cost[b]); }\n};\n\nexport const autoElements = (reset = false) => {\n    const { automatization } = global;\n\n    if (reset) {\n        automatization.elements = [];\n        return;\n    } else if (!player.collapse.disabled || player.strangeness[4][4] < 1) { return; }\n\n    if (automatization.elements.length === 0) {\n        for (const add of player.collapse.show) {\n            if (player.elements[add] === 0) { automatization.elements.push(add); }\n        }\n\n        const { elementsInfo } = global;\n        automatization.elements.sort((a, b) => elementsInfo.cost[a] - elementsInfo.cost[b]);\n    }\n\n    for (let i = 0; i < automatization.elements.length; i++) {\n        const index = automatization.elements[i];\n\n        if (!checkUpgrade(index, 4, 'elements')) { break; }\n        buyUpgrades(index, 4, 'elements', true);\n\n        if (player.elements[index] === 1) {\n            automatization.elements.splice(i, 1);\n            i--;\n        } else { break; }\n    }\n\n    player.collapse.disabled = automatization.elements.length > 0;\n};\n\nexport const toggleSwap = (number: number, type: 'normal' | 'buildings' | 'auto', change = false) => {\n    const { toggles } = player;\n\n    let toggle: HTMLButtonElement;\n    if (type === 'normal') {\n        toggle = getId(`toggle${number}`) as HTMLButtonElement;\n    } else if (type === 'buildings') {\n        toggle = getId(`toggleBuilding${number}`) as HTMLButtonElement;\n    } else {\n        toggle = getId(`toggleAuto${number}`) as HTMLButtonElement;\n    }\n\n    if (change) {\n        if (type === 'buildings') {\n            const active = player.stage.active;\n            toggles.buildings[active][number] = !toggles.buildings[active][number];\n            if (number === 0) {\n                for (let i = 1; i < toggles.buildings[active].length; i++) {\n                    toggles.buildings[active][i] = toggles.buildings[active][0];\n                    toggleSwap(i, 'buildings');\n                }\n            } else {\n                toggles.buildings[active][0] = toggles.buildings[active].includes(true, 1);\n                toggleSwap(0, 'buildings');\n            }\n        } else {\n            toggles[type][number] = !toggles[type][number];\n        }\n    }\n    const status = type === 'buildings' ? toggles.buildings[player.stage.active][number] : toggles[type][number];\n\n    if (!status) {\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n    } else {\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n    }\n\n    if (type === 'normal') {\n        if (!status) {\n            toggle.textContent = 'OFF';\n            if (global.screenReader) { toggle.ariaLabel = toggle.ariaLabel?.replace(' ON', ' OFF') ?? ''; }\n        } else {\n            toggle.textContent = 'ON';\n            if (global.screenReader) { toggle.ariaLabel = toggle.ariaLabel?.replace(' OFF', ' ON') ?? ''; }\n        }\n    } else {\n        if (!status) {\n            toggle.textContent = type === 'buildings' && number === 0 ? 'All OFF' : 'Auto OFF';\n        } else {\n            toggle.textContent = type === 'buildings' && number === 0 ? 'All ON' : 'Auto ON';\n        }\n    }\n};\n\nexport const toggleBuy = (type = null as string | null) => {\n    const { shop } = player.toggles;\n    const input = getId('buyAnyInput') as HTMLInputElement;\n\n    switch (type) {\n        case '1':\n            shop.howMany = 1;\n            break;\n        case 'max':\n            shop.howMany = -1;\n            break;\n        case 'any':\n            shop.input = Math.max(Math.trunc(Number(input.value)), -1);\n            if (shop.input === 0) { shop.input = 1; }\n            shop.howMany = shop.input;\n            input.value = format(shop.input, 0, 'input');\n            break;\n        case 'strict':\n            shop.strict = !shop.strict;\n            break;\n        default:\n            input.value = format(shop.input, 0, 'input');\n    }\n    const strict = getId('buyStrict') as HTMLButtonElement;\n    strict.style.borderColor = shop.strict ? '' : 'crimson';\n    strict.style.color = shop.strict ? '' : 'var(--red-text-color)';\n    getId('buy1x').style.backgroundColor = shop.howMany === 1 ? 'green' : '';\n    getId('buyAny').style.backgroundColor = Math.abs(shop.howMany) !== 1 ? 'green' : '';\n    getId('buyMax').style.backgroundColor = shop.howMany === -1 ? 'green' : '';\n    numbersUpdate();\n};\n\nexport const stageResetCheck = (stageIndex: number, auto = false): boolean => {\n    calculateStageInformation();\n\n    let allowed = false;\n    switch (stageIndex) {\n        case 1:\n            allowed = player.buildings[1][3].current >= 1.67e21;\n            break;\n        case 2:\n            allowed = player.buildings[2][1].current >= 1.194e29;\n            break;\n        case 3:\n            allowed = player.buildings[3][0].current >= 2.47e31;\n            break;\n        case 4:\n            return false;\n        case 5:\n            allowed = player.stage.current >= 5; //player.elements[26] === 1;\n    }\n\n    if (auto && allowed && player.strangeness[5][2] >= 1 && (stageIndex < 5 ||\n        global.strangeInfo.stageGain + global.strangeInfo.extraGain >= player.stage.input)\n    ) { stageReset(stageIndex); }\n\n    return allowed;\n};\n\nexport const stageAsyncReset = async() => {\n    const { stage } = player;\n    const active = stage.active === 4 && stage.current === 5 && player.events[1] ? 5 : stage.active;\n\n    if (!stageResetCheck(active)) {\n        switch (active) {\n            case 1:\n                return Alert(`You will need enough to form a single Drop of water for next one - ${format(1.67e21, 2)} Molecules`);\n            case 2:\n                return Alert(`Look's like more Mass expected, need even more Drops, around ${format(1.194e29 - player.buildings[2][1].current)}`);\n            case 3:\n                return Alert(`Self sustaining is not yet possible, obtain at least ${format(2.47e31, 2)} Mass`);\n            case 4:\n                return Alert('Reach Intergalactic first');\n            case 5:\n                return Alert(\"'Iron' wasn't obtained yet\");\n        }\n    } else {\n        let ok = true;\n        if (player.toggles.normal[1]) {\n            if (active === stage.current) {\n                switch (active) {\n                    case 1:\n                        ok = await Confirm('Ready to enter next stage? Next one will be harder than current');\n                        break;\n                    case 2:\n                        ok = await Confirm('Ready to enter next stage? Next one will be harder than current');\n                        break;\n                    case 3:\n                        ok = await Confirm('Ready to enter next stage? Next one will be harder than current');\n                        break;\n                    case 5:\n                        ok = player.strange[0].total === 0 ?\n                            await Confirm('You will return to first stage. But maybe you will get something in return. Ready?') :\n                            await Confirm(`You will return to first stage. In return you will get ${format(global.strangeInfo.stageGain + global.strangeInfo.extraGain, 0)} Strange quarks. Ready?`);\n                }\n            } else {\n                ok = await Confirm(`You will reset this stage. In return you will get ${format(global.strangeInfo.stageGain, 0)} Strange quarks. Ready?`);\n            }\n        }\n        if (ok) {\n            stageReset(active);\n        }\n    }\n};\n\nconst stageReset = (stageIndex: number) => {\n    const { stage, researchesAuto } = player;\n\n    stage.resets++;\n    const resetThese = [];\n    if (stageIndex === stage.current) {\n        if (stage.current < 5) {\n            stage.current++;\n        } else {\n            stage.current = 1 + player.strangeness[5][0];\n        }\n        stage.true = Math.max(stage.true, stage.current);\n        stage.active = stage.current;\n        resetThese.push(stage.current);\n        if (player.milestones[5][0] >= 4) { resetThese.push(5); }\n\n        if (stageIndex === 5) {\n            if (player.strangeness[1][7] < 1) {\n                researchesAuto[0] = 0;\n                calculateMaxLevel(0, 1, 'researchesAuto');\n            }\n            if (player.strangeness[2][6] < 1) {\n                researchesAuto[1] = 0;\n                calculateMaxLevel(1, 2, 'researchesAuto');\n            }\n        } else if (stageIndex === 2) {\n            if (researchesAuto[1] === 0) {\n                researchesAuto[1] = 1;\n                calculateMaxLevel(1, 2, 'researchesAuto');\n            }\n        } else if (stageIndex === 1) {\n            if (researchesAuto[0] === 0) {\n                researchesAuto[0] = 1;\n                calculateMaxLevel(0, 1, 'researchesAuto');\n            }\n        }\n        player.events[0] = stage.true > stage.current;\n    } else {\n        resetThese.push(stageIndex);\n    }\n\n    if (stage.true >= 5) {\n        let gain = global.strangeInfo.stageGain;\n        if (stageIndex >= 5) { gain += global.strangeInfo.extraGain; }\n        player.strange[0].true += gain;\n        player.strange[0].total += gain;\n    }\n\n    reset('stage', resetThese);\n    if (resetThese.includes(stage.active)) { stageCheck(); }\n};\n\n/* Only for stage 4 right now */\nconst stageNoReset = () => {\n    const { stage } = player;\n\n    stage.current++;\n    stage.true = Math.max(stage.current, stage.true);\n\n    if (!global.stageInfo.activeAll.includes(stage.current)) {\n        reset('stage', [stage.current]);\n    }\n\n    stageCheck('soft');\n};\n\nexport const switchStage = (stage: number) => {\n    if (player.stage.active === stage || !global.stageInfo.activeAll.includes(stage)) { return; }\n    player.stage.active = stage;\n    stageCheck();\n\n    if (!player.events[1] && player.stage.active === 5) { playEvent(4, 1); }\n};\n\nexport const switchVacuum = () => {\n    const { milestones } = player;\n    let count = 0;\n\n    if (milestones[1][0] >= 5) { count++; }\n    if (milestones[2][1] >= 4) { count++; }\n    if (milestones[3][1] >= 5) { count++; }\n    if (milestones[4][1] >= 5) { count++; }\n    if (milestones[5][1] >= 8) { count++; }\n\n    if (count < 5) { return Alert(`Universe is still stable. Vacuum state is false. ${5 - count} more`); }\n    return Alert('Not yet in game');\n};\n\nexport const dischargeResetCheck = (auto = 'false' as 'false' | 'interval' | 'upgrade'): boolean => {\n    calculateStageInformation();\n\n    if (player.upgrades[1][3] === 1 && player.buildings[1][1].true > 0) {\n        if (auto !== 'false') {\n            if ((auto === 'interval' && player.discharge.energy < global.dischargeInfo.next) || player.strangeness[1][3] < 1) {\n                return false;\n            }\n            dischargeReset();\n        }\n        return true;\n    }\n    return false;\n};\n\nexport const dischargeAsyncReset = async() => {\n    if (!dischargeResetCheck() || !global.stageInfo.activeAll.includes(1)) { return; }\n\n    let ok = true;\n    if (player.toggles.normal[2]) {\n        if (player.discharge.energy < global.dischargeInfo.next) {\n            ok = await Confirm('This will reset all of your current structures and Energy. You will NOT gain production boost. Continue?');\n        } else {\n            ok = await Confirm('You have enough Energy to gain boost. Continue?');\n        }\n    } else if (player.stage.active !== 1) {\n        ok = await Confirm(`You are trying to Discarge while inside '${global.stageInfo.word[player.stage.active]}'.\\n${player.discharge.energy < global.dischargeInfo.next ? 'You haven\\'t reached next goal' : 'You will gain boost'}, continue?`);\n    }\n    if (ok) {\n        if (global.screenReader) {\n            getId('invisibleBought').textContent = player.discharge.energy >= global.dischargeInfo.next ?\n                'Structures and Energy were reset for some boost' :\n                'Structures and Energy were reset, no boost';\n        }\n        dischargeReset();\n    }\n};\n\nconst dischargeReset = () => {\n    if (player.discharge.energy >= global.dischargeInfo.next) {\n        player.discharge.current++;\n    }\n    milestoneCheck(0, 1);\n    reset('discharge', [1]);\n};\n\nexport const vaporizationResetCheck = (auto = false): boolean => {\n    calculateStageInformation();\n\n    if (player.upgrades[2][1] === 1 && global.vaporizationInfo.get >= 1) {\n        if (auto) {\n            if (global.vaporizationInfo.get <= player.vaporization.clouds * player.vaporization.input || player.strangeness[2][4] < 1) {\n                return false;\n            }\n            vaporizationReset();\n        }\n        return true;\n    }\n    return false;\n};\n\nexport const vaporizationAsyncReset = async() => {\n    if (!vaporizationResetCheck() || !global.stageInfo.activeAll.includes(2)) { return; }\n\n    let ok = true;\n    if (player.toggles.normal[3]) {\n        ok = await Confirm(`Do you wish to reset structures and upgrades for ${format(global.vaporizationInfo.get)} Clouds?`);\n    } else if (player.stage.active !== 2) {\n        ok = await Confirm(`You are trying to cause Vaporization while inside '${global.stageInfo.word[player.stage.active]}'.\\nYou will get ${format(global.vaporizationInfo.get)} Clouds, continue?`);\n    }\n    if (ok) {\n        if (global.screenReader) { getId('invisibleBought').textContent = `Progress were reset for ${format(global.vaporizationInfo.get)} Clouds`; }\n        vaporizationReset();\n    }\n};\n\nconst vaporizationReset = () => {\n    const { vaporization } = player;\n\n    vaporization.clouds += global.vaporizationInfo.get;\n    if (vaporization.cloudsMax < vaporization.clouds) { vaporization.cloudsMax = vaporization.clouds; }\n    milestoneCheck(0, 2);\n    reset('vaporization', [2]);\n};\n\nexport const rankResetCheck = (auto = false): boolean => {\n    //calculateStageInformation();\n\n    global.accretionInfo.rankCost[4] = player.events[0] ? 5e29 : 0;\n    const requirement = global.accretionInfo.rankCost[player.accretion.rank];\n\n    if (player.buildings[3][0].current >= requirement && requirement !== 0) {\n        if (auto) {\n            if (player.strangeness[3][4] < 1) {\n                return false;\n            }\n            rankReset();\n        }\n        return true;\n    }\n    return false;\n};\n\nexport const rankAsyncReset = async() => {\n    if (!rankResetCheck() || !global.stageInfo.activeAll.includes(3)) { return; }\n\n    let ok = true;\n    if (player.toggles.normal[4] && player.accretion.rank !== 0) {\n        ok = await Confirm('Increasing Rank will reset structures, upgrades, stage researches. But you will get closer to your goal');\n    } else if (player.stage.active !== 3) {\n        ok = await Confirm(`You are trying increase Rank while inside '${global.stageInfo.word[player.stage.active]}'. Continue?`);\n    }\n    if (ok) {\n        rankReset();\n        if (global.screenReader) { getId('invisibleBought').textContent = `Rank is now ${global.accretionInfo.rankName[player.accretion.rank]}`; }\n    }\n};\n\nconst rankReset = () => {\n    player.accretion.rank++;\n    reset('rank', [3]);\n    calculateMaxLevel(0, 3, 'researchesExtra');\n    updateRankInfo();\n};\n\nexport const collapseResetCheck = (auto = false): boolean => {\n    calculateStageInformation();\n\n    if (player.upgrades[4][0] === 1) {\n        const { collapseInfo } = global;\n        const { collapse, researchesExtra } = player;\n\n        if (auto) {\n            const canIncrease =\n                (researchesExtra[4][0] >= 1 && collapse.stars[0] < (collapse.stars[0] + collapseInfo.starCheck[0]) / collapse.inputS) ||\n                (researchesExtra[4][0] >= 2 && collapse.stars[1] < (collapse.stars[1] + collapseInfo.starCheck[1]) / collapse.inputS) ||\n                (researchesExtra[4][0] >= 3 && collapse.stars[2] < (collapse.stars[2] + collapseInfo.starCheck[2]) / collapse.inputS);\n            if ((collapseInfo.newMass < collapse.mass * collapse.inputM && !canIncrease) || player.strangeness[4][5] < 1) { return false; }\n            collapseReset();\n            return true;\n        }\n\n        return (\n            (researchesExtra[4][0] >= 1 && collapseInfo.starCheck[0] > 0) ||\n            (researchesExtra[4][0] >= 2 && collapseInfo.starCheck[1] > 0) ||\n            (researchesExtra[4][0] >= 3 && collapseInfo.starCheck[2] > 0) ||\n            collapseInfo.newMass > collapse.mass\n        );\n    }\n    return false;\n};\n\nexport const collapseAsyncReset = async() => {\n    if (!collapseResetCheck() || !global.stageInfo.activeAll.includes(4)) { return; }\n    const { collapse, researchesExtra } = player;\n\n    let ok = true;\n    if (player.toggles.normal[5] || player.stage.active !== 4) {\n        const { collapseInfo } = global;\n\n        let message = player.stage.active === 4 ?\n            `This will reset all non automization researches and upgrades. ${collapseInfo.newMass < collapse.mass ? 'Your total Mass won\\'t change' : `But your total Mass will be now ${format(collapseInfo.newMass)}`}` :\n            `You are trying to Collapse Stars while inside '${global.stageInfo.word[player.stage.active]}'.\\nSolar mass will increase by +${format(collapseInfo.newMass - collapse.mass)}`;\n        if (researchesExtra[4][0] >= 1) {\n            message += `, also you will get ${format(collapseInfo.starCheck[0])} Red giants`;\n            if (researchesExtra[4][0] >= 2) {\n                message += `, ${format(collapseInfo.starCheck[1])} Neutron stars`;\n                if (researchesExtra[4][0] >= 3) {\n                    message += ` and ${format(collapseInfo.starCheck[2])} Black holes`;\n                }\n            }\n        }\n        if (player.stage.active !== 4) { message += '.\\nContinue?'; }\n        ok = await Confirm(message);\n    }\n    if (ok) {\n        collapseReset();\n        if (global.screenReader) {\n            let message = `Your Mass has increased to ${format(collapse.mass)}`;\n            if (researchesExtra[4][0] >= 1) {\n                message += `, Red giants to ${format(collapse.stars[0])}`;\n                if (researchesExtra[4][0] >= 2) {\n                    message += `, Neutron stars - ${format(collapse.stars[1])}`;\n                    if (researchesExtra[4][0] >= 3) {\n                        message += ` and Black holes - ${format(collapse.stars[2])}`;\n                    }\n                }\n            }\n            getId('invisibleBought').textContent = message;\n        }\n    }\n};\n\nconst collapseReset = () => {\n    const { collapseInfo } = global;\n    const { collapse } = player;\n    const resetThese = [4];\n    if (player.strangeness[5][5] < 1 && global.stageInfo.activeAll.includes(5)) { resetThese.push(5); }\n\n    if (collapseInfo.newMass > collapse.mass) { collapse.mass = collapseInfo.newMass; }\n    for (let i = 0; i < player.researchesExtra[4][0]; i++) {\n        collapse.stars[i] += collapseInfo.starCheck[i];\n    }\n    if (collapse.massMax < collapse.mass) { collapse.massMax = collapse.mass; }\n    milestoneCheck(0, 4);\n    milestoneCheck(1, 4);\n    reset('collapse', resetThese);\n    calculateMaxLevel(0, 4, 'researches');\n    calculateMaxLevel(1, 4, 'researches');\n    calculateMaxLevel(2, 4, 'researches');\n};\n", "import { checkTab } from './Check';\nimport { getClass, getId } from './Main';\nimport { global, globalStart, player } from './Player';\nimport { playEvent, switchTheme } from './Special';\nimport { autoElements, autoUpgradesBuy, autoUpgradesSet, buyBuilding, calculateBuildingsCost, calculateGainedBuildings, calculateMaxLevel, calculateResearchCost, calculateStageInformation, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, toggleSwap, vaporizationResetCheck } from './Stage';\n\n//No tab checking, because if someone will use HTML to enable button, they can do same for insides\nexport const switchTab = (tab: string, subtab = null as null | string) => {\n    if (subtab === null) {\n        const oldTab = global.tab;\n        getId(`${oldTab}Tab`).style.display = 'none';\n        getId(`${oldTab}TabBtn`).classList.remove('tabActive');\n        if (Object.hasOwn(global.subtab, oldTab + 'Current')) {\n            for (const inside of global.tabList[oldTab + 'Subtabs' as 'settingsSubtabs']) {\n                getId(`${oldTab}SubtabBtn${inside}`).style.display = 'none';\n            }\n        }\n\n        global.tab = tab;\n        let subtabAmount = 0;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n        if (Object.hasOwn(global.subtab, tab + 'Current')) {\n            for (const inside of global.tabList[tab + 'Subtabs' as 'settingsSubtabs']) {\n                if (checkTab(tab, inside)) {\n                    getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                    subtabAmount++;\n                } else {\n                    if (global.subtab[tab + 'Current' as 'settingsCurrent'] === inside) {\n                        switchTab(tab, globalStart.subtab[tab + 'Current' as 'settingsCurrent']);\n                    }\n                }\n            }\n        }\n        getId('subtabs').style.display = subtabAmount > 1 ? '' : 'none';\n        getId('invisibleTab').textContent = `Current tab is ${tab} tab${subtabAmount > 1 ? ` and its subtab is ${global.subtab[tab + 'Current' as 'settingsCurrent']}` : ''}`; //Tell's screen reader current tab for easier navigation\n    } else {\n        const oldSubtab = global.subtab[tab + 'Current' as 'settingsCurrent'];\n        getId(`${tab}Subtab${oldSubtab}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${oldSubtab}`).classList.remove('tabActive');\n\n        global.subtab[tab + 'Current' as 'settingsCurrent'] = subtab;\n        getId(`${tab}Subtab${subtab}`).style.display = '';\n        getId(`${tab}SubtabBtn${subtab}`).classList.add('tabActive');\n        if (global.screenReader) { getId('invisibleTab').textContent = `Current subtab is ${subtab}, part of ${tab} tab`; }\n    }\n\n    visualUpdate();\n    numbersUpdate();\n};\n\n//In seconds\nexport const maxOfflineTime = (): number => (14400 + 14400 * player.researchesAuto[1]) * maxOfflineMultiplier();\nconst maxOfflineMultiplier = (): number => 1 + player.strangeness[2][7];\n\nconst maxExportTime = (): number => 86400 * (1 + player.strangeness[4][8]);\nexport const exportMultiplier = (): number => player.strangeness[4][7];\n\n//Only interval is allowed to call this function\nexport const invisibleUpdate = (timeLeft = 0) => { //This is only for important or time based info\n    const { time, toggles } = player;\n\n    let passedSeconds: number;\n    if (timeLeft === 0) {\n        const passedTime = Date.now() - time.updated;\n        time.updated = Date.now();\n        if (passedTime < 0) { return console.warn('Negative passed time detected.'); }\n        passedSeconds = passedTime / 1000;\n        global.timeSpecial.lastSave += passedTime;\n        player.stage.export = Math.min(player.stage.export + passedSeconds, maxExportTime());\n    } else {\n        passedSeconds = timeLeft;\n    }\n\n    if (passedSeconds > 60) { //Function will call itself until this condition is false\n        const offline = passedSeconds > 3600 ? 900 : 60;\n        const maxOffline = maxOfflineTime();\n        if (passedSeconds > maxOffline) {\n            passedSeconds = maxOffline;\n            console.log(`Offline time was reduced to it's max of ${maxOffline / 3600} hours.`);\n        }\n        timeLeft = passedSeconds - offline;\n        passedSeconds = offline;\n    } else if (timeLeft !== 0) {\n        timeLeft = 0;\n    }\n\n    const { buildingsInfo, automatization } = global;\n\n    for (const s of global.stageInfo.activeAll) {\n        if (toggles.auto[0]) { stageResetCheck(s, true); }\n\n        if (s === 4 && toggles.auto[4]) { collapseResetCheck(true); }\n        if (s === 3 && toggles.auto[3]) { rankResetCheck(true); }\n        if (s === 2 && toggles.auto[2]) { vaporizationResetCheck(true); }\n        if (s === 1 && toggles.auto[1]) { dischargeResetCheck('interval'); }\n\n        if (s === 4) { autoElements(); }\n        if (automatization.autoE[s].length !== 0) { autoUpgradesBuy('researchesExtra', s); }\n        if (automatization.autoR[s].length !== 0) { autoUpgradesBuy('researches', s); }\n        if (automatization.autoU[s].length !== 0) { autoUpgradesBuy('upgrades', s); }\n        calculateStageInformation();\n\n        for (let i = buildingsInfo.name[s].length - 1; i >= 1; i--) {\n            if (toggles.buildings[s][i] && player.ASR[s] >= i) { buyBuilding(i, s, true); }\n            if (buildingsInfo.type[s][i] === 'producing') {\n                calculateGainedBuildings(i - 1, s, passedSeconds);\n            }\n        }\n        if (s === 1 && player.upgrades[1][6] === 1) { calculateGainedBuildings(3, 1, passedSeconds); } //Stage 1 special producer (Molecules from Radiation)\n        if (s === 5) { //Stage 5 special producer (Stars from Nebulas)\n            if (player.researches[5][0] >= 1) { calculateGainedBuildings(1, 5, passedSeconds); }\n            if (player.researches[5][0] >= 2) { calculateGainedBuildings(2, 5, passedSeconds); }\n            if (player.researches[5][0] >= 3) { calculateGainedBuildings(3, 5, passedSeconds); }\n        }\n    }\n\n    if (timeLeft > 0) { invisibleUpdate(timeLeft); }\n};\n\nexport const numbersUpdate = () => { //This is for relevant visual info (can be done async)\n    const { buildings } = player;\n    const { tab, subtab } = global;\n    const active = player.stage.active;\n\n    if (global.footer) {\n        if (active === 1) {\n            getId('quarks').textContent = format(buildings[1][0].current);\n            getId('energy').textContent = format(player.discharge.energy, 0);\n        } else if (active === 2) {\n            getId('water').textContent = format(buildings[2][0].current);\n            getId('drops').textContent = format(buildings[2][1].current);\n            getId('clouds').textContent = format(player.vaporization.clouds);\n        } else if (active === 3) {\n            getId('mass').textContent = format(buildings[3][0].current);\n        } else if (active === 4 || active === 5) {\n            getId('elements').textContent = format(buildings[4][0].current);\n            getId('solarMass').textContent = format(player.collapse.mass);\n            if (active === 5) {\n                getId('stars').textContent = format(buildings[5][0].current);\n            }\n        }\n    }\n    if (tab === 'stage') {\n        const { buildingsInfo, collapseInfo } = global;\n        const { collapse } = player;\n        const { shop } = player.toggles;\n\n        for (let i = 1; i < buildingsInfo.name[active].length; i++) {\n            getId(`building${i}True`).textContent = `[${format(buildings[active][i].true, 0)}]`;\n            getId(`building${i}Cur`).textContent = format(buildings[active][i].current);\n            getId(`building${i}Prod`).textContent = format(buildingsInfo.producing[active][i]);\n\n            if ((active === 4 && collapse.mass < collapseInfo.unlockB[i]) ||\n                (active === 5 && collapse.mass < collapseInfo.unlockG[i])) {\n                getId(`building${i}`).classList.remove('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Unlocked at ${format(collapseInfo[active === 4 ? 'unlockB' : 'unlockG'][i])} Mass`;\n                getId(`building${i}BuyX`).textContent = 'Locked';\n                continue;\n            }\n\n            const galaxy = active === 5 && i === 3;\n\n            let e = i - 1;\n            if (active === 2 && i !== 1) {\n                e = 1; //Drops\n            } else if (active >= 3) { //3, 4, 5\n                e = 0; //Mass || Elements\n            }\n            const extra = active === 5 ? 4 : active;\n\n            let currency: number;\n            if (galaxy) {\n                currency = player.collapse.mass;\n            } else {\n                currency = buildings[extra][e].current;\n            }\n\n            let totalCost: number;\n            let totalBuy: number;\n            if (player.researchesAuto[0] === 0 || shop.howMany === 1 || (buildingsInfo.cost[active][i] > currency && (!shop.strict || shop.howMany === -1))) {\n                totalCost = buildingsInfo.cost[active][i];\n                totalBuy = 1;\n            } else {\n                const totalBefore = buildingsInfo.startCost[active][i] * ((buildingsInfo.increase[active][i] ** buildings[active][i].true - 1) / (buildingsInfo.increase[active][i] - 1));\n                const maxAfford = shop.strict && shop.howMany !== -1 ? 1 : Math.trunc(Math.log((totalBefore + currency) * (buildingsInfo.increase[active][i] - 1) / buildingsInfo.startCost[active][i] + 1) / Math.log(buildingsInfo.increase[active][i])) - buildings[active][i].true;\n                totalBuy = shop.howMany === -1 ? maxAfford : shop.strict ? shop.howMany : Math.min(maxAfford, shop.howMany);\n                totalCost = buildingsInfo.startCost[active][i] * ((buildingsInfo.increase[active][i] ** (totalBuy + buildings[active][i].true) - 1) / (buildingsInfo.increase[active][i] - 1)) - totalBefore;\n            }\n\n            if (totalCost <= currency) {\n                getId(`building${i}`).classList.add('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Make for: ${format(totalCost)} ${galaxy ? 'Mass' : buildingsInfo.name[extra][e]}`;\n                getId(`building${i}BuyX`).textContent = format(totalBuy);\n            } else {\n                getId(`building${i}`).classList.remove('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Need: ${format(totalCost)} ${galaxy ? 'Mass' : buildingsInfo.name[extra][e]}`;\n                getId(`building${i}BuyX`).textContent = format(totalBuy);\n            }\n        }\n        if (active === 1) {\n            getId('dischargeReset').textContent = `Next goal is ${format(global.dischargeInfo.next, 0)} Energy`;\n            getId('dischargeEffect').textContent = format(global.upgradesInfo[1].effect[3] as number, 0);\n        } else if (active === 2) {\n            getId('vaporizationReset').textContent = `Reset for ${format(global.vaporizationInfo.get)} Clouds`;\n        } else if (active === 4) {\n            getId('collapseReset').textContent = `Collapse to ${format(collapseInfo.newMass)} Mass`;\n            for (let i = 1; i <= player.researchesExtra[4][0]; i++) {\n                getId(`starSpecial${i}Cur`).textContent = format(collapse.stars[i - 1], 0);\n                getId(`starSpecial${i}Get`).textContent = format(collapseInfo.starCheck[i - 1], 0);\n            }\n        }\n\n        if (global.lastUpgrade[1]) { getUpgradeDescription(global.lastUpgrade[0], 'auto', 'upgrades'); }\n    } else if (tab === 'research') {\n        if (subtab.researchCurrent === 'Researches') {\n            if (global.lastResearch[1]) { getUpgradeDescription(global.lastResearch[0], 'auto', global.lastResearch[2]); }\n        } else if (subtab.researchCurrent === 'Elements') {\n            if (global.lastElement[1]) { getUpgradeDescription(global.lastElement[0], 4, 'elements'); }\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab.strangenessCurrent === 'Matter') {\n            getId('strange0Cur').textContent = format(player.strange[0].true, 0);\n            getId('strange0Prod').textContent = format(global.strangeInfo.stageBoost[Math.min(active)] ?? 'none');\n            getId('strange0Gain').textContent = format(global.strangeInfo.stageGain + (active >= 4 ? global.strangeInfo.extraGain : 0), 0);\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Settings') {\n            if (global.timeSpecial.lastSave >= 1000) { getId('isSaved').textContent = `${format(global.timeSpecial.lastSave, 0, 'time')} ago`; }\n            getId('exportGain').textContent = format(player.stage.export * exportMultiplier() / 86400);\n        } else if (subtab.settingsCurrent === 'Stats') {\n            const { strange } = player;\n\n            getId('firstPlay').textContent = `${format(Date.now() - player.time.started, 0, 'time')} ago`;\n            getId('stageResetsCount').textContent = format(player.stage.resets, 0);\n            getId('maxOfflineStat').textContent = `${format(maxOfflineTime() / 3600, 2)} hours`;\n            getId('maxExportStat').textContent = format(maxExportTime() * exportMultiplier() / 86400, 0);\n            for (let i = 0; i < buildings[active].length; i++) {\n                if (buildings[active][i].trueTotal === 0) { continue; }\n                getId(`building${i}StatTotal`).textContent = format(buildings[active][i].total);\n                getId(`building${i}StatTrueTotal`).textContent = format(buildings[active][i].trueTotal);\n                getId(`building${i}StatHighest`).textContent = format(buildings[active][i].highest);\n            }\n            for (let i = 0; i < strange.length; i++) {\n                if (strange[i].total === 0) { continue; }\n                getId(`strange${i}StatTotal`).textContent = format(strange[i].total);\n            }\n            if (active === 1) {\n                getId('maxEnergyStat').textContent = format(player.discharge.energyMax, 0);\n                getId('dischargeStat').textContent = format(player.discharge.current, 0);\n                getId('dischargeStatBonus').textContent = `[+${format(player.strangeness[1][2], 0)}]`;\n            } else if (active === 2) {\n                getId('maxCloudsStat').textContent = format(player.vaporization.cloudsMax);\n            } else if (active === 4 || active === 5) {\n                getId('maxSolarMassStat').textContent = format(player.collapse.massMax);\n                if (active === 5) {\n                    getId('starsStatTrue').textContent = format(global.collapseInfo.trueStars);\n                }\n            }\n        }\n    }\n};\n\nexport const visualUpdate = () => { //This is what can appear/disappear when inside Stage (can be done async)\n    const { stage, buildings, upgrades, researchesAuto, ASR, strangeness, milestones } = player;\n    const { tab, subtab } = global;\n    const activeAll = global.stageInfo.activeAll;\n    const active = stage.active;\n\n    /* I might clean it up later (only to read easier) */\n    if (activeAll.includes(1)) {\n        const { discharge } = player;\n\n        if (tab === 'settings') {\n            if (subtab.settingsCurrent === 'Settings') {\n                getId('toggleAuto1').style.display = strangeness[1][3] >= 1 ? '' : 'none';\n            }\n        }\n\n        if (active === 1) {\n            getId('energyStat').style.display = discharge.energyMax >= 9 ? '' : 'none';\n            if (discharge.current >= 4) { getId('researchTabBtn').style.display = ''; }\n            if (tab === 'stage') {\n                getId('building2').style.display = buildings[1][1].trueTotal >= 11 ? '' : 'none';\n                getId('building3').style.display = buildings[1][2].trueTotal >= 2 ? '' : 'none';\n                if (discharge.energyMax >= 9) { getId('upgrades').style.display = ''; }\n                getId('discharge').style.display = upgrades[1][3] === 1 ? '' : 'none';\n                for (let i = 5; i <= 8; i++) {\n                    getId(`upgrade${i}`).style.display = discharge.current >= 3 ? '' : 'none';\n                }\n                if (upgrades[1][7] === 1) { getId('stage').style.display = ''; }\n                getId('stageReset').textContent = buildings[1][3].current >= 1.67e21 ?\n                    active === stage.current ? 'Enter next Stage' : 'Reset this Stage' : 'You are not ready';\n            } else if (tab === 'settings') {\n                if (subtab.settingsCurrent === 'Settings') {\n                    if (discharge.current >= 1) { getId('resetToggles').style.display = ''; }\n                } else if (subtab.settingsCurrent === 'Stats') {\n                    getId('energyStats').style.display = discharge.energyMax >= 9 ? '' : 'none';\n                    getId('dischargeStats').style.display = discharge.current >= 1 || strangeness[1][2] >= 1 ? '' : 'none';\n                    getId('dischargeStatBonus').style.display = strangeness[1][2] >= 1 ? '' : 'none';\n                }\n            } else if (tab === 'special') {\n                getId('invisibleGetResource1').style.display = discharge.energyMax >= 9 ? '' : 'none';\n            }\n        }\n    }\n    if (activeAll.includes(2)) {\n        const { vaporization } = player;\n\n        if (tab === 'settings') {\n            if (subtab.settingsCurrent === 'Settings') {\n                getId('vaporizationToggleReset').style.display = stage.true > 2 || vaporization.clouds > 1 ? '' : 'none';\n                getId('toggleAuto2').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n                getId('toggleAuto2Mark').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n            }\n        }\n\n        if (active === 2) {\n            getId('cloudStat').style.display = upgrades[2][1] === 1 ? '' : 'none';\n            if (tab === 'stage') {\n                getId('vaporization').style.display = upgrades[2][1] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[2][1].trueTotal >= 300 ? '' : 'none';\n                getId('building3').style.display = buildings[2][1].trueTotal >= 5e6 ? '' : 'none';\n                getId('building4').style.display = buildings[2][1].trueTotal >= 5e17 ? '' : 'none';\n                getId('building5').style.display = buildings[2][1].trueTotal >= 5e22 ? '' : 'none';\n                getId('upgrade3').style.display = buildings[2][2].trueTotal >= 1 ? '' : 'none';\n                getId('upgrade4').style.display = buildings[2][2].trueTotal >= 1 ? '' : 'none';\n                getId('upgrade2').style.display = buildings[2][3].trueTotal >= 1 ? '' : 'none';\n                getId('upgrade5').style.display = buildings[2][3].trueTotal >= 1 ? '' : 'none';\n                getId('upgrade6').style.display = buildings[2][4].trueTotal >= 1 ? '' : 'none';\n                getId('upgrade7').style.display = buildings[2][5].trueTotal >= 1 && strangeness[2][2] >= 3 ? '' : 'none';\n                getId('stageReset').textContent = buildings[2][1].current >= 1.194e29 ?\n                    active === stage.current ? 'Enter next Stage' : 'Reset this Stage' : 'You are not ready';\n            } else if (tab === 'research') {\n                if (subtab.researchCurrent === 'Researches') {\n                    getId('extraResearch').style.display = vaporization.clouds > 1 ? '' : 'none';\n                    getId('research3').style.display = buildings[2][2].trueTotal >= 1 ? '' : 'none';\n                    getId('research4').style.display = buildings[2][2].trueTotal >= 1 ? '' : 'none';\n                    getId('research5').style.display = buildings[2][3].trueTotal >= 1 ? '' : 'none';\n                    getId('research6').style.display = buildings[2][4].trueTotal >= 1 ? '' : 'none';\n                    getId('researchExtra3').style.display = buildings[2][5].trueTotal >= 1 ? '' : 'none';\n                }\n            } else if (tab === 'settings') {\n                if (subtab.settingsCurrent === 'Stats') {\n                    getId('cloudsStats').style.display = upgrades[2][1] === 1 ? '' : 'none';\n                }\n            } else if (tab === 'special') {\n                getId('invisibleGetResource2').style.display = upgrades[2][1] === 1 ? '' : 'none';\n            }\n            if (!player.events[0] && global.vaporizationInfo.get + vaporization.clouds > 1e4) { playEvent(1, 0); }\n        }\n    }\n    if (activeAll.includes(3)) {\n        const { accretion } = player;\n\n        if (tab === 'settings') {\n            if (subtab.settingsCurrent === 'Settings') {\n                getId('rankToggleReset').style.display = stage.true > 3 || accretion.rank >= 2 ? '' : 'none';\n                getId('toggleAuto3').style.display = strangeness[3][4] >= 1 ? '' : 'none';\n            }\n        }\n\n        if (active === 3) {\n            if (tab === 'stage') {\n                getId('buildings').style.display = accretion.rank >= 1 ? '' : 'none';\n                getId('upgrades').style.display = accretion.rank >= 1 ? '' : 'none';\n                getId('upgrade3').style.display = accretion.rank >= 2 ? '' : 'none';\n                getId('upgrade5').style.display = accretion.rank >= 3 ? '' : 'none';\n                getId('upgrade6').style.display = accretion.rank >= 4 || upgrades[3][4] === 1 ? '' : 'none';\n                getId('upgrade7').style.display = accretion.rank >= 4 ? '' : 'none';\n                getId('upgrade8').style.display = accretion.rank >= 4 ? '' : 'none';\n                getId('upgrade9').style.display = accretion.rank >= 4 && strangeness[3][2] >= 3 ? '' : 'none';\n                getId('upgrade10').style.display = accretion.rank >= 4 ? '' : 'none';\n                getId('upgrade11').style.display = accretion.rank >= 5 ? '' : 'none';\n                getId('upgrade12').style.display = accretion.rank >= 5 ? '' : 'none';\n                getId('upgrade13').style.display = accretion.rank >= 5 ? '' : 'none';\n                getId('upgrade4').style.display = buildings[3][2].trueTotal >= 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[3][2] === 1 ? '' : 'none';\n                getId('building3').style.display = upgrades[3][4] === 1 ? '' : 'none';\n                getId('building4').style.display = upgrades[3][6] === 1 ? '' : 'none';\n                getId('stageReset').textContent = buildings[3][0].current >= 2.47e31 ?\n                    active === stage.current ? 'Enter next Stage' : 'Reset this Stage' : 'You are not ready';\n            } else if (tab === 'research') {\n                if (subtab.researchCurrent === 'Researches') {\n                    getId('stageResearch').style.display = accretion.rank >= 1 ? '' : 'none';\n                    getId('extraResearch').style.display = accretion.rank >= 2 ? '' : 'none';\n                    getId('researchExtra2').style.display = accretion.rank >= 3 ? '' : 'none';\n                    getId('research5').style.display = accretion.rank >= 3 ? '' : 'none';\n                    getId('research6').style.display = accretion.rank >= 4 || upgrades[3][4] === 1 ? '' : 'none';\n                    getId('research7').style.display = accretion.rank >= 4 ? '' : 'none';\n                    getId('researchExtra3').style.display = accretion.rank >= 4 ? '' : 'none';\n                    getId('research8').style.display = accretion.rank >= 5 ? '' : 'none';\n                    getId('researchExtra4').style.display = accretion.rank >= 5 ? '' : 'none';\n                    getId('research3').style.display = buildings[3][2].trueTotal >= 1 ? '' : 'none';\n                    getId('research4').style.display = buildings[3][2].trueTotal >= 1 ? '' : 'none';\n                }\n            } else if (tab === 'settings') {\n                if (subtab.settingsCurrent === 'Stats') {\n                    for (let i = 0; i < global.accretionInfo.rankImage.length; i++) {\n                        getId(`rankStat${i}`).style.display = accretion.rank >= i ? '' : 'none';\n                    }\n                }\n            }\n            if (!player.events[0] && buildings[3][0].current >= 5e29) { playEvent(2, 0); }\n        }\n    }\n    if (activeAll.includes(4)) {\n        const { collapse, researchesExtra } = player;\n\n        if (tab === 'stage') {\n            if (active >= 4) { getId('stageReset').textContent = player.events[1] && stage.current === 5 ? 'Return back to start' : 'You are not ready'; }\n        } else if (tab === 'research') {\n            if (subtab.researchCurrent === 'Elements') {\n                const grid = getId('elementsGrid') as HTMLDivElement;\n\n                grid.style.display = upgrades[4][2] === 1 ? '' : 'flex';\n                for (let i = 6; i <= 10; i++) {\n                    getId(`element${i}`).style.display = upgrades[4][2] === 1 ? '' : 'none';\n                }\n                upgrades[4][2] === 1 && collapse.mass < 10 ?\n                    grid.classList.add('Elements10App') :\n                    grid.classList.remove('Elements10App');\n                for (let i = 11; i <= 26; i++) {\n                    getId(`element${i}`).style.display = collapse.mass >= 10 ? '' : 'none';\n                }\n                getId('element27').style.display = upgrades[4][3] === 1 ? '' : 'none';\n                getId('element28').style.display = upgrades[4][3] === 1 ? '' : 'none';\n            }\n        } else if (tab === 'settings') {\n            if (subtab.settingsCurrent === 'Settings') {\n                getId('collapseToggleReset').style.display = stage.true > 4 || collapse.mass > 0.01235 ? '' : 'none';\n                getId('toggleAuto4').style.display = strangeness[4][5] >= 1 ? '' : 'none';\n                getId('toggleAuto4Mark').style.display = strangeness[4][5] >= 1 ? '' : 'none';\n            }\n        }\n\n        if (active === 4) {\n            if (tab === 'stage') {\n                getId('starsSpecial').style.display = researchesExtra[4][0] >= 1 ? '' : 'none';\n                getId('starSpecial2').style.display = researchesExtra[4][0] >= 2 ? '' : 'none';\n                getId('starSpecial3').style.display = researchesExtra[4][0] >= 3 ? '' : 'none';\n                getId('collapse').style.display = upgrades[4][0] === 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[4][1] === 1 ? '' : 'none';\n                getId('building3').style.display = upgrades[4][2] === 1 ? '' : 'none';\n                getId('building4').style.display = collapse.mass >= 10 ? '' : 'none';\n                getId('upgrade4').style.display = strangeness[4][2] >= 1 ? '' : 'none';\n            } else if (tab === 'research') {\n                if (subtab.researchCurrent === 'Researches') {\n                    getId('extraResearch').style.display = buildings[4][2].trueTotal > 0 ? '' : 'none';\n                    getId('research4').style.display = strangeness[4][2] >= 2 ? '' : 'none';\n                    getId('researchExtra2').style.display = strangeness[4][2] >= 3 ? '' : 'none';\n                }\n            } else if (tab === 'special') {\n                getId('invisibleGetResource4').style.display = upgrades[4][0] === 1 ? '' : 'none';\n            }\n            if (!player.events[0] && researchesExtra[4][0] >= 1) { playEvent(3, 0); }\n        }\n    }\n    if (activeAll.includes(5)) { //Not inside stage.true >= 5, just in case\n        if (active === 5) {\n            const nebula = milestones[2][0] >= 3;\n            const cluster = milestones[3][0] >= 3;\n\n            if (tab === 'stage') {\n                getId('buildings').style.display = nebula || cluster ? '' : 'none';\n                getId('building1').style.display = nebula ? '' : 'none';\n                getId('building2').style.display = cluster ? '' : 'none';\n                getId('building3').style.display = strangeness[5][6] >= 1 ? '' : 'none';\n                getId('upgrades').style.display = nebula || cluster ? '' : 'none';\n                getId('upgrade1').style.display = nebula ? '' : 'none';\n                getId('upgrade2').style.display = cluster ? '' : 'none';\n                getId('upgrade3').style.display = buildings[5][3].current >= 1 ? '' : 'none';\n            } else if (tab === 'research') {\n                if (subtab.researchCurrent === 'Researches') {\n                    getId('stageResearch').style.display = nebula || cluster ? '' : 'none';\n                    getId('research1').style.display = nebula ? '' : 'none';\n                    getId('research2').style.display = cluster ? '' : 'none';\n                }\n            }\n        }\n    }\n    if (stage.true >= 5) {\n        if (tab === 'stage') {\n            getId('toggleBuilding0').style.display = ASR[active] >= 1 && researchesAuto[0] >= 2 ? '' : 'none';\n        } else if (tab === 'research') {\n            if (subtab.researchCurrent === 'Researches') {\n                getId('researchAuto3').style.display = strangeness[3][6] >= 1 ? '' : 'none';\n            }\n        } else if (tab === 'strangeness') {\n            if (subtab.strangenessCurrent === 'Matter') {\n                const strange5 = milestones[4][0] >= 3;\n                const nebula = milestones[2][0] >= 3;\n                const cluster = milestones[3][0] >= 3;\n\n                getId('strange9Stage1').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange9Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange8Stage3').style.display = strange5 ? '' : 'none';\n                getId('strange9Stage4').style.display = strange5 ? '' : 'none';\n                getId('strange10Stage4').style.display = strange5 ? '' : 'none';\n                getId('strangenessSection5').style.display = strange5 ? '' : 'none';\n                getId('strange4Stage5').style.display = nebula ? '' : 'none';\n                getId('strange5Stage5').style.display = cluster ? '' : 'none';\n                getId('strange6Stage5').style.display = nebula || cluster ? '' : 'none';\n                getId('strange7Stage5').style.display = strangeness[5][5] >= 1 ? '' : 'none';\n            } else if (subtab.strangenessCurrent === 'Milestones') {\n                getId('milestone1Stage5Div').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n                getId('milestone2Stage5Div').style.display = strangeness[5][8] >= 1 && strangeness[5][6] >= 1 ? '' : 'none';\n            }\n        } else if (tab === 'settings') {\n            if (subtab.settingsCurrent === 'Settings') {\n                getId('toggleAuto0').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n                getId('toggleAuto0Mark').style.display = strangeness[5][2] >= 1 ? '' : 'none';\n                getId('autoTogglesUpgrades').style.display = researchesAuto[2] >= 1 ? '' : 'none';\n                getId('autoToggle6').style.display = researchesAuto[2] >= 2 ? '' : 'none';\n                getId('autoToggle7').style.display = researchesAuto[2] >= 3 ? '' : 'none';\n                getId('exportSpecial').style.display = strangeness[4][7] >= 1 ? '' : 'none';\n            } else if (subtab.settingsCurrent === 'Stats') {\n                getId('maxExportStats').style.display = strangeness[4][7] >= 1 ? '' : 'none';\n                getId('unknownStructures').style.display = milestones[1][0] >= 5 || milestones[2][1] >= 4 ||\n                    milestones[3][1] >= 5 || milestones[4][1] >= 5 || milestones[5][1] >= 8 ? '' : 'none';\n                getId('unknownStructure1').style.display = milestones[1][0] >= 5 ? '' : 'none';\n                getId('unknownStructure2').style.display = milestones[2][1] >= 4 ? '' : 'none';\n                getId('unknownStructure3').style.display = milestones[3][1] >= 5 ? '' : 'none';\n                getId('unknownStructure4').style.display = milestones[4][1] >= 5 ? '' : 'none';\n                getId('unknownStructure5').style.display = milestones[5][1] >= 8 ? '' : 'none';\n            }\n        }\n    }\n\n    if (tab === 'stage') {\n        getId('toggleBuy').style.display = researchesAuto[0] > 0 ? '' : 'none';\n        for (let i = 1; i < global.buildingsInfo.name[active].length; i++) {\n            getId(`building${i}True`).style.display = buildings[active][i].current !== buildings[active][i].true ? '' : 'none';\n            getId(`toggleBuilding${i}`).style.display = ASR[active] >= i ? '' : 'none';\n            getId(`building${i}BuyDiv`).style.display = researchesAuto[0] > 0 ? '' : 'none';\n        }\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'Stats') {\n            for (let i = 1; i < global.buildingsInfo.name[active].length; i++) {\n                getId(`building${i}Stats`).style.display = buildings[active][i].trueTotal > 0 ? '' : 'none';\n            }\n        }\n    } else if (tab === 'special') {\n        for (let i = 1; i < global.buildingsInfo.name[active].length; i++) {\n            getId(`invisibleGetBuilding${i}`).style.display = buildings[active][i].trueTotal > 0 ? '' : 'none';\n        }\n    }\n};\n\nexport const getUpgradeDescription = (index: number, stageIndex: 'auto' | number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness' | 'milestones') => {\n    //No auto return if stageIndex !== player.stage.active, because (!auto) should already be doing it\n    if (stageIndex === 'auto') { stageIndex = player.stage.active; }\n    const { stageInfo } = global;\n\n    if (type === 'researches' || type === 'researchesExtra') {\n        const typeInfo = type + 'Info' as 'researchesInfo';\n        if (global[typeInfo][stageIndex].effect[index] === undefined) { return; } //Just in case some issues with HTML not being hidden\n        global.lastResearch = [index, global[typeInfo][stageIndex].effect[index] !== null, type];\n\n        /* Special cases */\n        if (stageIndex === 4 && type === 'researchesExtra' && index === 0) {\n            const starIndex = Math.min(player.researchesExtra[4][0] + 2, 4);\n            global.researchesExtraInfo[4].effect[0] = player.buildings[4][starIndex].trueTotal !== 0 ? global.buildingsInfo.name[4][starIndex] : '(Unknown)';\n        } else if (stageIndex === 5 && type === 'researches') {\n            if (index === 0) {\n                const starIndex = Math.min(player.researches[5][0] + 2, 4);\n                global.researchesInfo[5].effect[0] = player.buildings[4][starIndex].trueTotal !== 0 ? global.buildingsInfo.name[4][starIndex] : '(unknown)';\n            } else if (index === 1) {\n                const starIndex = Math.max(3 - player.researches[5][1], 1);\n                global.researchesInfo[5].effect[1] = player.buildings[4][starIndex].trueTotal !== 0 ? global.buildingsInfo.name[4][starIndex] : '(unknown)';\n            }\n        }\n\n        getId('researchText').textContent = global[typeInfo][stageIndex].description[index];\n        getId('researchEffect').textContent = global[typeInfo][stageIndex].effect[index] === null ? global[typeInfo][stageIndex].effectText[index][0] :\n            global[typeInfo][stageIndex].effectText[index][0] + format(global[typeInfo][stageIndex].effect[index] as number | string) + global[typeInfo][stageIndex].effectText[index][1];\n        getId('researchCost').textContent = player[type][stageIndex][index] === global[typeInfo][stageIndex].max[index] ? 'Maxed.' :\n            stageIndex === 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.` :\n            `${format(global[typeInfo][stageIndex].cost[index])} ${stageInfo.priceName}.`;\n    } else if (type === 'researchesAuto') {\n        const typeInfo = 'researchesAutoInfo' as const;\n        global.lastResearch = [index, false, type];\n\n        getId('researchText').textContent = global[typeInfo].description[index];\n        getId('researchEffect').textContent = global[typeInfo].effectText[index][0]; //Right now all researchesAuto have null effect\n        getId('researchCost').textContent = player[type][index] === global[typeInfo].max[index] ? 'Maxed.' :\n            stageIndex !== global.researchesAutoInfo.autoStage[index] ? `Can't be created outside of ${stageInfo.word[global.researchesAutoInfo.autoStage[index]]} stage.` :\n            `${format(global[typeInfo].cost[index])} ${stageInfo.priceName}.`;\n    } else if (type === 'ASR') {\n        const autoIndex = Math.min(player.ASR[stageIndex] + 1, global.ASRInfo.max[stageIndex]);\n        global.lastResearch = [index, false, type];\n\n        getId('researchText').textContent = 'Automatization for making structures.';\n        getId('researchEffect').textContent = `Will automatically make ${format(player.buildings[stageIndex][autoIndex].trueTotal !== 0 ? global.buildingsInfo.name[stageIndex][autoIndex] : '(unknown)')}.\\n(Auto will make them, only when have 2 times of the Structure cost)`;\n        getId('researchCost').textContent = player.ASR[stageIndex] === global.ASRInfo.max[stageIndex] ? 'Maxed.' :\n            `${format(global.ASRInfo.cost[stageIndex])} ${stageInfo.priceName}.`;\n    } else if (type === 'elements') {\n        const { elementsInfo } = global;\n        global.lastElement = [index, elementsInfo.effect[index] !== null];\n\n        getId('elementText').textContent = elementsInfo.description[index] +\n            (global.automatization.elements.includes(index) ? ' (Disabled)' : '');\n        getId('elementEffect').textContent = !player.collapse.show.includes(index) ? 'Effect is not yet known.' :\n            elementsInfo.effect[index] === null ? elementsInfo.effectText[index][0] :\n            elementsInfo.effectText[index][0] + format(elementsInfo.effect[index] as number | string) + elementsInfo.effectText[index][1];\n        getId('elementCost').textContent = player.elements[index] === 1 ? 'Obtained.' : `${format(elementsInfo.cost[index])} ${stageInfo.priceName}.`;\n    } else if (type === 'upgrades') {\n        const typeInfo = 'upgradesInfo' as const;\n        if (global[typeInfo][stageIndex].effect[index] === undefined) { return; }\n        global.lastUpgrade = [index, global[typeInfo][stageIndex].effect[index] !== null];\n\n        getId('upgradeText').textContent = global[typeInfo][stageIndex].description[index];\n        getId('upgradeEffect').textContent = global[typeInfo][stageIndex].effect[index] === null ? global[typeInfo][stageIndex].effectText[index][0] :\n            global[typeInfo][stageIndex].effectText[index][0] + format(global[typeInfo][stageIndex].effect[index] as number | string) + global[typeInfo][stageIndex].effectText[index][1];\n        getId('upgradeCost').textContent = player[type][stageIndex][index] === 1 ? 'Created.' :\n            stageIndex === 4 && global.collapseInfo.unlockU[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n            `${format(global[typeInfo][stageIndex].cost[index])} ${stageInfo.priceName}.`;\n    } else /*if (type === 'strangeness' || type === 'milestones')*/ {\n        const typeInfo = type + 'Info' as 'strangenessInfo';\n\n        /* Special cases */\n        if (type === 'strangeness') {\n            if (((stageIndex === 1 || stageIndex === 4) && index === 6) || ((stageIndex === 2 || stageIndex === 3) && index === 5)) {\n                global.strangenessInfo[stageIndex].effect[index] = global.buildingsInfo.name[stageIndex][Math.min(player.strangeness[stageIndex][index] + 1, global.ASRInfo.max[stageIndex])];\n            } else if (stageIndex === 5 && index === 0) {\n                global.strangenessInfo[stageIndex].effect[index] = global.stageInfo.word[Math.min(player.strangeness[stageIndex][index] + 1, global.stageInfo.word.length - 1)];\n            }\n        }\n\n        const stageText = getId(`${type}Stage`) as HTMLSpanElement;\n        stageText.style.color = stageInfo.textColor[stageIndex];\n        stageText.textContent = `${stageInfo.word[stageIndex]}. `;\n        getId(`${type}Text`).textContent = `${global[typeInfo][stageIndex].description[index]}`;\n        if (type === 'strangeness') {\n            getId('strangenessEffect').textContent = global[typeInfo][stageIndex].effect[index] === null ? global[typeInfo][stageIndex].effectText[index][0] :\n                global[typeInfo][stageIndex].effectText[index][0] + format(global[typeInfo][stageIndex].effect[index] as number | string) + global[typeInfo][stageIndex].effectText[index][1];\n            getId('strangenessCost').textContent = player[type][stageIndex][index] === global[typeInfo][stageIndex].max[index] ? 'Maxed.' : `${format(global[typeInfo][stageIndex].cost[index])} Strange quarks.`;\n        } else {\n            const level = player[type][stageIndex][index];\n\n            if (level < global[typeInfo as 'milestonesInfo'][stageIndex].need[index].length) {\n                getId('milestonesCost').textContent = global[typeInfo as 'milestonesInfo'][stageIndex].needText[index][0] + format(global[typeInfo as 'milestonesInfo'][stageIndex].need[index][player[type][stageIndex][index]]) + global[typeInfo as 'milestonesInfo'][stageIndex].needText[index][1];\n                getId('milestonesReward').textContent = `You will gain ${format(global[typeInfo as 'milestonesInfo'][stageIndex].quarks[index][level], 0)} Strange quarks for reaching this milestone.`;\n                getId('milestonesCostMain').style.display = '';\n                getId('milestonesRewardMain').style.display = '';\n            } else {\n                getId('milestonesCostMain').style.display = 'none';\n                getId('milestonesRewardMain').style.display = 'none';\n            }\n\n            getId('milestonesEffect').textContent = level >= global[typeInfo as 'milestonesInfo'][stageIndex].unlock[index] ?\n                global[typeInfo as 'milestonesInfo'][stageIndex].rewardText[index] :\n                `Next reward unlocked after ${global[typeInfo as 'milestonesInfo'][stageIndex].unlock[index] - level} more completions.`;\n        }\n    }\n};\n\nexport const visualUpdateUpgrades = (index: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness') => {\n    if ((type === 'upgrades' || type === 'researches' || type === 'researchesExtra' || type === 'ASR') && stageIndex !== player.stage.active) { return; }\n\n    let maxHTML = undefined as undefined | HTMLElement;\n    let progress: boolean | number[];\n    let upgradeHTML: HTMLElement;\n    const typeInfo = type + 'Info' as 'researchesInfo';\n    if (type === 'upgrades') {\n        progress = player[type][stageIndex][index] === 1;\n\n        upgradeHTML = getId(`upgrade${index + 1}`);\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        progress = [player[type][stageIndex][index], global[typeInfo][stageIndex].max[index]];\n\n        const extra = type === 'researchesExtra' ? 'Extra' : '';\n        upgradeHTML = getId(`research${extra}${index + 1}Level`);\n        maxHTML = getId(`research${extra}${index + 1}Max`);\n    } else if (type === 'researchesAuto') {\n        progress = [player[type][index], global[typeInfo as 'researchesAutoInfo'].max[index]];\n\n        upgradeHTML = getId(`researchAuto${index + 1}Level`);\n        maxHTML = getId(`researchAuto${index + 1}Max`);\n    } else if (type === 'ASR') {\n        progress = [player[type][stageIndex], global[typeInfo as 'ASRInfo'].max[stageIndex]];\n\n        upgradeHTML = getId('ASRLevel');\n        maxHTML = getId('ASRMax');\n    } else if (type === 'elements') {\n        progress = player[type][index] === 1;\n\n        upgradeHTML = getId(`element${index}`);\n    } else {\n        progress = [player[type][stageIndex][index], global[typeInfo][stageIndex].max[index]];\n\n        upgradeHTML = getId(`strange${index + 1}Stage${stageIndex}Level`);\n        //maxHTML = getId(`strange${index + 1}Stage${stageIndex}Max`);\n    }\n\n    if (type === 'upgrades' || type === 'elements') {\n        let color = 'green';\n        if (type === 'elements') {\n            if ([1, 2, 3, 4, 11, 12, 19, 20].includes(index)) {\n                color = '#780000'; //Darker darkred\n            } else if ([5, 6, 7, 8, 9, 10, 13, 14, 15, 16, 17, 18].includes(index)) {\n                color = '#a55900'; //Darker darkorange\n            } else {\n                color = '#0000c1'; //Darker mediumblue\n            }\n        } else {\n            if (stageIndex === 2) {\n                color = 'darkgreen';\n            } else if (stageIndex === 3) {\n                color = '#0000b1'; //Darker blue\n            } else if (stageIndex === 4) {\n                color = '#1f1f8f'; //Brigher midnightblue\n            }\n        }\n        upgradeHTML.style.backgroundColor = progress as boolean ? color : '';\n    } else {\n        const max = (progress as number[])[1];\n        const level = (progress as number[])[0];\n\n        if (maxHTML !== undefined) { maxHTML.textContent = `${max}`; }\n        upgradeHTML.textContent = `${level}`;\n        if (level === max) {\n            upgradeHTML.style.color = 'var(--green-text-color)';\n        } else if (level === 0) {\n            upgradeHTML.style.color = ''; //Red\n        } else {\n            upgradeHTML.style.color = 'var(--orchid-text-color)';\n        }\n    }\n};\n\nexport const updateRankInfo = () => {\n    if (player.stage.active !== 3) { return; }\n    const { accretion } = player;\n    const { accretionInfo } = global;\n    const image = getId('rankImage') as HTMLImageElement;\n    const name = getId('rankName') as HTMLSpanElement;\n\n    //Visuals\n    accretionInfo.rankCost[4] = player.events[0] ? 5e29 : 0; //Calculated before Rank reset (here it's only for visual)\n    getId('rankMessage').textContent = accretion.rank === 0 ?\n        'Might need more than just water... You can increase rank with Mass.' :\n        'Increase it with Mass. (Return back to Dust, but unlock something new)';\n    getId('rankReset').textContent = accretionInfo.rankCost[accretion.rank] === 0 ?\n        'Max rank achieved' : `Next rank is ${format(accretionInfo.rankCost[accretion.rank])} Mass`;\n    image.src = `Used_art/${accretionInfo.rankImage[accretion.rank]}.png`;\n    image.alt = accretionInfo.rankName[accretion.rank];\n    name.textContent = accretionInfo.rankName[accretion.rank];\n    if (accretion.rank === 0) {\n        name.style.color = ''; //Blue\n    } else if (accretion.rank === 1) {\n        name.style.color = 'var(--cyan-text-color)';\n    } else if (accretion.rank === 5) {\n        name.style.color = 'var(--darkviolet-text-color)';\n    } else {\n        name.style.color = 'var(--gray-text-color)';\n    }\n};\n\nexport const format = (input: number | string, precision = 'auto' as 'auto' | number, type = 'number' as 'number' | 'input' | 'time'): string => {\n    if (typeof input !== 'number') { return input; } //String's are being send here (for a reason)\n    const inputAbs = Math.abs(input);\n    if (precision === 'auto') { precision = inputAbs < 1e3 ? (inputAbs < 1 ? 4 : 2) : 0; }\n\n    switch (type) { //toLocaleString() is banned, I don't want that slowness and weird behavior\n        case 'input':\n        case 'number':\n            if (!isFinite(input)) { return 'Infinity'; }\n            if (inputAbs >= 1e6 || (inputAbs < 1e-3 && inputAbs > 0)) { //Format for these cases\n                let digits = Math.floor(Math.log10(inputAbs));\n                let endValue = Math.round(input / 10 ** (digits - 2)) / 100;\n                if (Math.abs(endValue) >= 10) {\n                    endValue /= 10;\n                    digits++;\n                }\n                if (type === 'input') { return `${endValue}e${digits}`; }\n                return `${(`${endValue}`).replace('.', player.separator[1])}e${digits}`;\n            } else { //Regex will fail if input >= 1e6 (add g to regex to fix it) or input <= 1000 while precision >= 3 (split('.') string in that case)\n                if (precision > 0) {\n                    const endValue = Math.round(input * (10 ** precision)) / (10 ** precision);\n                    if (type === 'input') { return `${endValue}`; }\n                    return endValue >= 1000 ?\n                        (`${endValue}`).replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]).replace('.', player.separator[1]) :\n                        (`${endValue}`).replace('.', player.separator[1]);\n                } else {\n                    if (type === 'input') { return `${Math.round(input)}`; }\n                    return (`${Math.round(input)}`).replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]);\n                }\n            }\n        case 'time':\n            if (input >= 172800000) {\n                return `${Math.trunc(input / 86400000)} days`;\n            } else if (input >= 7200000) {\n                return `${Math.trunc(input / 3600000)} hours`;\n            } else if (input >= 600000) {\n                return `${Math.trunc(input / 60000)} minutes`;\n            } else {\n                return `${Math.trunc(input / 1000)} seconds`;\n            }\n    }\n};\n\nexport const stageCheck = (extra = '' as 'soft' | 'reload') => {\n    const { stage } = player;\n    const { stageInfo, HTMLSpecial, buildingsInfo } = global;\n\n    stageInfo.activeAll = [stage.current];\n    if (stage.current === 4) {\n        if (player.milestones[5][0] >= 4) { stageInfo.activeAll.push(5); }\n    } else if (stage.current === 5) { stageInfo.activeAll.unshift(4); }\n    for (let i = player.strangeness[5][0]; i >= 1; i--) {\n        if (stage.current !== i) { stageInfo.activeAll.unshift(i); }\n    }\n    const active = stage.active;\n\n    if (extra !== 'soft') {\n        for (const text of ['upgrade', 'research', 'element']) {\n            getId(`${text}Text`).textContent = 'Hover to see.';\n            getId(`${text}Effect`).textContent = 'Hover to see.';\n            getId(`${text}Cost`).textContent = 'Resource.';\n        }\n        if (extra === 'reload') {\n            for (const text of ['strangeness', 'milestones']) {\n                getId(`${text}Stage`).textContent = '';\n                getId(`${text}Text`).textContent = 'Hover to see.';\n                getId(`${text}Effect`).textContent = 'Hover to see.';\n            }\n            getId('strangenessCost').textContent = 'Strange quarks.';\n            getId('milestonesCost').textContent = 'Hover to see.';\n            getId('milestonesReward').textContent = 'Strange quarks.';\n            getId('milestonesCostMain').style.display = '';\n            getId('milestonesRewardMain').style.display = '';\n\n            calculateStageInformation();\n            for (let s = 1; s < global.strangenessInfo.length; s++) {\n                for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n                    calculateResearchCost(i, s, 'strangeness'); //Can be changed into calculateMaxLevel();\n                    visualUpdateUpgrades(i, s, 'strangeness'); //If max level will dynamicly change\n                }\n            }\n            autoUpgradesSet('upgrades');\n            autoUpgradesSet('researches');\n            autoUpgradesSet('researchesExtra');\n            autoElements(true);\n            for (const s of stageInfo.activeAll) { //Does useless visualUpdateUpgrades();\n                calculateMaxLevel(0, s, 'ASR');\n                for (let i = 1; i < buildingsInfo.name[s].length; i++) { calculateBuildingsCost(i, s); }\n                for (let i = 0; i < global.researchesInfo[s].cost.length; i++) { calculateMaxLevel(i, s, 'researches'); }\n                for (let i = 0; i < global.researchesExtraInfo[s].cost.length; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n            }\n            for (let i = 0; i < global.researchesAutoInfo.cost.length; i++) { calculateMaxLevel(i, global.researchesAutoInfo.autoStage[i], 'researchesAuto'); }\n        }\n        global.lastUpgrade[1] = false;\n        global.lastResearch[0] = -1;\n        global.lastResearch[1] = false;\n        global.lastElement[1] = false;\n    }\n\n    //Hide | show what is required\n    for (let i = buildingsInfo.name[active].length; i < HTMLSpecial.longestBuilding; i++) {\n        getId(`building${i}Stats`).style.display = 'none';\n        getId(`building${i}`).style.display = 'none';\n    }\n    for (let i = global.upgradesInfo[active].cost.length; i < HTMLSpecial.longestUpgrade; i++) {\n        getId(`upgrade${i + 1}`).style.display = 'none';\n    }\n    for (let i = global.researchesInfo[active].cost.length; i < HTMLSpecial.longestResearch; i++) {\n        getId(`research${i + 1}`).style.display = 'none';\n    }\n    for (let i = global.researchesExtraInfo[active].cost.length; i < HTMLSpecial.longestResearchExtra; i++) {\n        getId(`researchExtra${i + 1}`).style.display = 'none';\n    }\n\n    for (let s = 1; s <= 5; s++) {\n        for (const i of getClass(`stage${s}Only`)) {\n            i.style.display = active === s ? '' : 'none';\n        }\n        for (const i of getClass(`stage${s}Include`)) {\n            i.style.display = stageInfo.activeAll.includes(s) ? '' : 'none';\n        }\n        for (const i of getClass(`stage${s}Unlock`)) {\n            i.style.display = stage.true >= s ? '' : 'none';\n        }\n    }\n\n    //Special cases (mostly against errors with visualUpdate() being interupted)\n    getId('buildings').style.display = '';\n    getId('building1').style.display = '';\n    getId('stageResearch').style.display = '';\n    getId('extraResearch').style.display = 'none';\n    if (active === 5) {\n        getId('solarMassStat').style.display = '';\n        getId('elementStat').style.display = '';\n        getId('solarMassStats').style.display = '';\n    }\n    if (localStorage.getItem('theme') !== null) { getId('themeArea').style.display = ''; }\n\n    if (stage.true >= 5) {\n        for (let i = 2; i <= 4; i++) {\n            getId(`strangenessSection${i}`).style.display = stage.resets >= i + 3 ? '' : 'none';\n        }\n        if (player.strange[0].total < 1) { getId('strangenessTabBtn').style.display = 'none'; }\n        if (stageInfo.activeAll.length === 1) { getId('stageSelect').style.display = 'none'; }\n    }\n\n    //Prepare new stage information\n    stageInfo.priceName = ['Energy', 'Drops', 'Mass', 'Elements'][Math.min(active - 1, 3)];\n    updateRankInfo();\n\n    for (let i = 1; i < buildingsInfo.name[active].length; i++) {\n        getId(`building${i}StatName`).textContent = buildingsInfo.name[active][i];\n        getId(`building${i}Name`).textContent = buildingsInfo.name[active][i];\n        getId(`building${i}Type`).textContent = buildingsInfo.type[active][i];\n        const image = getId(`building${i}Image`) as HTMLImageElement;\n        image.src = `Used_art/${HTMLSpecial.buildingHTML[active][i - 1][0]}.png`;\n        image.alt = HTMLSpecial.buildingHTML[active][i - 1][1];\n        toggleSwap(i, 'buildings');\n    }\n    getId('building0StatName').textContent = buildingsInfo.name[active][0];\n    toggleSwap(0, 'buildings');\n    for (let i = 0; i < global.upgradesInfo[active].cost.length; i++) {\n        getId(`upgrade${i + 1}`).style.display = '';\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        image.src = `Used_art/${HTMLSpecial.upgradeHTML[active][i][0]}.png`;\n        image.alt = HTMLSpecial.upgradeHTML[active][i][1];\n        visualUpdateUpgrades(i, active, 'upgrades');\n    }\n    for (let i = 0; i < global.researchesInfo[active].cost.length; i++) {\n        const main = getId(`research${i + 1}`) as HTMLDivElement;\n        main.style.display = '';\n        main.className = HTMLSpecial.researchHTML[active][i][2];\n        const image = getId(`research${i + 1}Image`) as HTMLInputElement;\n        image.src = `Used_art/${HTMLSpecial.researchHTML[active][i][0]}.png`;\n        image.alt = HTMLSpecial.researchHTML[active][i][1];\n        visualUpdateUpgrades(i, active, 'researches');\n    }\n    if (active !== 1 && active !== 5) {\n        for (let i = 0; i < global.researchesExtraInfo[active].cost.length; i++) {\n            const main = getId(`researchExtra${i + 1}`) as HTMLDivElement;\n            main.style.display = '';\n            main.className = HTMLSpecial.researchExtraHTML[active][i][2];\n            const image = getId(`researchExtra${i + 1}Image`) as HTMLInputElement;\n            image.src = `Used_art/${HTMLSpecial.researchExtraHTML[active][i][0]}.png`;\n            image.alt = HTMLSpecial.researchExtraHTML[active][i][1];\n            visualUpdateUpgrades(i, active, 'researchesExtra');\n        }\n        const image = document.querySelector('#extraResearch > img') as HTMLImageElement;\n        image.src = `Used_art/${HTMLSpecial.researchExtraDivHTML[active][0]}.png`;\n        image.alt = HTMLSpecial.researchExtraDivHTML[active][1];\n        (document.querySelector('#extraResearch > div') as HTMLDivElement).className = HTMLSpecial.researchExtraDivHTML[active][2];\n    }\n    visualUpdateUpgrades(0, active, 'ASR');\n\n    if (active >= 4) {\n        for (let i = 1; i < global.elementsInfo.cost.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n    }\n\n    const body = document.body.style;\n    const stageWord = getId('stageWord') as HTMLSpanElement;\n    stageWord.textContent = stageInfo.word[stage.current];\n    stageWord.style.color = stageInfo.textColor[stage.current];\n    if (stage.current === 1) {\n        body.removeProperty('--stage-text-color');\n        body.removeProperty('--stage-button-color');\n        body.removeProperty('--stage-button-border');\n        body.removeProperty('--image-border-main');\n        body.removeProperty('--image-stage-outer');\n    } else {\n        body.setProperty('--stage-text-color', stageInfo.textColor[active]);\n        body.setProperty('--stage-button-color', stageInfo.buttonBackgroundColor[active]);\n        body.setProperty('--stage-button-border', stageInfo.buttonBorderColor[active]);\n        body.setProperty('--image-border-main', `url(Used_art/Stage${active}%20border.png)`);\n        body.setProperty('--image-stage-outer', stageInfo.imageBorderColor[active]);\n    }\n    getId('currentSwitch').textContent = stageInfo.word[active];\n    if (global.screenReader) {\n        getId('invisibleBought').textContent = `Current Active Stage is '${stageInfo.word[active]}'`;\n        for (let i = buildingsInfo.name[active].length; i < HTMLSpecial.longestBuilding; i++) {\n            getId(`invisibleGetBuilding${i}`).style.display = 'none';\n        }\n        for (let i = 0; i < buildingsInfo.name[active].length; i++) {\n            getId(`invisibleGetBuilding${i}`).textContent = `Get information for ${buildingsInfo.name[active][i]}`;\n        }\n        getId('invisibleGetResource0').style.display = player.strange[0].total > 0 ? '' : 'none';\n        getId('invisibleGetResource1').style.display = active === 1 ? '' : 'none';\n        getId('invisibleGetResource2').style.display = active === 2 ? '' : 'none';\n        getId('invisibleGetResource4').style.display = active === 4 ? '' : 'none';\n        getId('invisibleInformation0').style.display = stage.true >= 5 ? '' : 'none';\n    }\n\n    //Includes visualUpdate();\n    switchTab(checkTab(global.tab) ? global.tab : 'stage'); //Cheap way to deal with unallowed tabs/subtabs\n    if (global.theme.default || extra === 'reload') { switchTheme(); }\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { switchTab } from './Update';\nimport { buyBuilding, collapseAsyncReset, dischargeAsyncReset, rankAsyncReset, stageAsyncReset, switchStage, vaporizationAsyncReset } from './Stage';\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    const checkEl = document.activeElement as HTMLInputElement;\n    if (checkEl.type === 'text' || checkEl.type === 'number') {\n        return; //Return if any inputs are focused\n    } else {\n        check.code === 'Tab' ? //I just want to remove outline when hitting buttons that is not a tab...\n            document.body.classList.add('outlineOnFocus') :\n            document.body.classList.remove('outlineOnFocus');\n    }\n\n    if (check.ctrlKey || check.altKey) { return; } //No buttons are using it\n\n    const shift = check.shiftKey;\n    const isNumber = !isNaN(Number(check.code.slice(-1)));\n    const key = !player.toggles.normal[6] || (isNumber && shift) ?\n        check.code : check.key;\n\n    //These one's can be holded down\n    if (isNumber) {\n        if (check.code[0] === 'F') { return; }\n        const numberKey = Number(key.slice(-1));\n\n        //Buildings\n        if (numberKey > 0 && numberKey < player.buildings[player.stage.active].length && !shift) {\n            buyBuilding(numberKey); //Check is already inside\n        }\n        return;\n    } else if (check.key.length === 1) { //Maybe this could work same as a-z regex\n        const stringKey = key.replace('Key', '').toLowerCase();\n\n        //Resets\n        if (!shift) {\n            if (stringKey === 's') {\n                void stageAsyncReset();\n            } else if (stringKey === 'd') {\n                void dischargeAsyncReset();\n            } else if (stringKey === 'v') {\n                void vaporizationAsyncReset();\n            } else if (stringKey === 'r') {\n                void rankAsyncReset();\n            } else if (stringKey === 'c') {\n                void collapseAsyncReset();\n            }\n        }\n        return;\n    }\n\n    if (!check.repeat) {\n        if (shift) {\n            if (key === 'ArrowLeft' || key === 'ArrowRight') {\n                const { activeAll } = global.stageInfo;\n                if (activeAll.length === 1) { return; }\n                let index = activeAll.indexOf(player.stage.active);\n\n                if (key === 'ArrowLeft') {\n                    if (index === 0) {\n                        index = activeAll.length - 1;\n                    } else {\n                        index--;\n                    }\n                    switchStage(activeAll[index]);\n                } else {\n                    if (index === activeAll.length - 1) {\n                        index = 0;\n                    } else {\n                        index++;\n                    }\n                    switchStage(activeAll[index]);\n                }\n            }\n        } else {\n            if (key === 'ArrowLeft' || key === 'ArrowRight') {\n                const { tabs } = global.tabList;\n                let index = tabs.indexOf(global.tab);\n                if (index === -1) { return console.error(`Tab '${global.tab}' wasn't found in the list`); }\n\n                if (key === 'ArrowLeft') {\n                    do {\n                        if (index === 0) {\n                            index = tabs.length - 1;\n                        } else {\n                            index--;\n                        }\n                    } while (!checkTab(tabs[index]));\n                    switchTab(tabs[index]);\n                } else {\n                    do {\n                        if (index === tabs.length - 1) {\n                            index = 0;\n                        } else {\n                            index++;\n                        }\n                    } while (!checkTab(tabs[index]));\n                    switchTab(tabs[index]);\n                }\n            } else if (key === 'ArrowDown' || key === 'ArrowUp') {\n                if (!Object.hasOwn(global.subtab, global.tab + 'Current')) { return; }\n                const subtabs = global.tabList[global.tab + 'Subtabs' as 'settingsSubtabs'];\n                let index = subtabs.indexOf(global.subtab[global.tab + 'Current' as 'settingsCurrent']);\n                if (index === -1) { return console.error(`Subtab '${global.subtab[global.tab + 'Current' as 'settingsCurrent']}' wasn't found in the list`); }\n\n                if (key === 'ArrowDown') {\n                    do {\n                        if (index === 0) {\n                            index = subtabs.length - 1;\n                        } else {\n                            index--;\n                        }\n                    } while (!checkTab(global.tab, subtabs[index]));\n                    switchTab(global.tab, subtabs[index]);\n                } else {\n                    do {\n                        if (index === subtabs.length - 1) {\n                            index = 0;\n                        } else {\n                            index++;\n                        }\n                    } while (!checkTab(global.tab, subtabs[index]));\n                    switchTab(global.tab, subtabs[index]);\n                }\n            }\n        }\n    }\n};\n", "/* Some JS rules are altered:\n    '1 ** Infinity', '1 ** NaN' now returns 1 instead of NaN\n    '0 * Infinity', '0 * NaN' now returns 0 instead of NaN\n    'Infinity / 0' now returns NaN instead of Infinity\n    '0 / NaN' now returns 0 instead of NaN\n    'NaN ** (-Infinity)' now returns 0 instead of NaN (I allow X ** (-Infinity) to be 0 because floating points)\n    'log-A(-X)', 'log-A(X)' can return actual value instead of NaN (because vanila JS doesn't have negative base)\n    'log0(X)', 'log1(X)' returns NaN (JS doesn't have that rule)\n    Because there is 2 numbers, bigNumber can be at same time NaN and Infinity. Or even -Infinity and Infinity\n*/\n\nimport { getId } from './Main';\nimport { player } from './Player';\nimport { format } from './Update';\n\n/* Planned features:\n    TS: Add proper type to an object (probably no, too much pain)\n    power: Allow power to be bigger than 2**1024, if there ever will be a need for it\n    log: Allow base to be bigger than 2**1024, if someone actually need it\n    Infinity: Some of 'Infinity's at really big numbers >1e1e308, are turned into NaN, should be 'easy' to fix if there is a need\n    NaN: Option to replace detected NaN of Infinity into any number (I removed it, but can be re added)\n    format: Allow digits to be more than 2, when power is more than 6 (will slow down format)\n    format: Add padding setting: 1ee2 > 1.00ee2\n    convert: Allow sent string '1e1e2' to look like '1ee2'\n    NonChainableFunctions: special setting to return array instead of string\n*/\n\n/* This is version has all settings removed (for better speed) */\nexport const overlimit = {\n    Limit: (number: string | number | [number, number]) => {\n        const { technical } = overlimit;\n        let result = technical.convert(number);\n\n        return {\n            plus: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.add(result, array[i]);\n                }\n\n                return this;\n            },\n            minus: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.sub(result, array[i]);\n                }\n\n                return this;\n            },\n            multiply: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.mult(result, array[i]);\n                }\n\n                return this;\n            },\n            divide: function(...numbers: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(numbers);\n\n                for (let i = 0; i < array.length; i++) {\n                    result = technical.div(result, array[i]);\n                }\n\n                return this;\n            },\n            power: function(power: number) {\n                result = technical.pow(result, power);\n                return this;\n            },\n            log: function(base = 2.718281828459045) {\n                result = technical.log(result, base);\n                return this;\n            },\n            abs: function() {\n                result[0] = Math.abs(result[0]);\n                return this;\n            },\n            trunc: function() {\n                result = technical.trunc(result);\n                return this;\n            },\n            floor: function() {\n                result = technical.floor(result);\n                return this;\n            },\n            ceil: function() {\n                result = technical.ceil(result);\n                return this;\n            },\n            round: function() {\n                result = technical.round(result);\n                return this;\n            },\n            isNaN: (): boolean => isNaN(result[0]) || isNaN(result[1]),\n            isFinite: (): boolean => isFinite(result[0]) && isFinite(result[1]),\n            less: (compare: string | number | [number, number]): boolean => technical.less(result, technical.convert(compare)),\n            lessOrEqual: (compare: string | number | [number, number]): boolean => technical.lessOrEqual(result, technical.convert(compare)),\n            more: (compare: string | number | [number, number]): boolean => technical.more(result, technical.convert(compare)),\n            moreOrEqual: (compare: string | number | [number, number]): boolean => technical.moreOrEqual(result, technical.convert(compare)),\n            notEqual: (compare: string | number | [number, number]): boolean => technical.notEqual(result, technical.convert(compare)),\n            equal: (...compare: Array<string | number | [number, number]>): boolean => {\n                const array = technical.convertAll(compare);\n\n                let allEqual = technical.equal(result, array[0]);\n                for (let i = 1; i < array.length; i++) {\n                    allEqual &&= technical.equal(array[i - 1], array[i]);\n                }\n\n                return allEqual;\n            },\n            max: function(...compare: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(compare);\n\n                for (let i = 0; i < array.length; i++) {\n                    if (technical.less(result, array[i])) { result = array[i]; }\n                }\n\n                return this;\n            },\n            min: function(...compare: Array<string | number | [number, number]>) {\n                const array = technical.convertAll(compare);\n\n                for (let i = 0; i < array.length; i++) {\n                    if (technical.more(result, array[i])) { result = array[i]; }\n                }\n\n                return this;\n            },\n            format: (digits = null as null | number, type = 'number' as 'number' | 'input'): string => technical.format(result, digits, type),\n            get: (): string => technical.convertBack(result),\n            noConvert: (): [number, number] => technical.fixFloats(result)\n        };\n    },\n    LimitAlt: {\n        plus: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            //Fastest loop is not doing a loop\n            let result = technical.add(array[0], array[1]);\n            for (let i = 2; i < array.length; i++) {\n                result = technical.add(result, array[i]);\n            }\n\n            return technical.convertBack(result);\n        },\n        minus: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.sub(array[0], array[1]);\n            for (let i = 2; i < array.length; i++) {\n                result = technical.sub(result, array[i]);\n            }\n\n            return technical.convertBack(result);\n        },\n        multiply: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.mult(array[0], array[1]);\n            for (let i = 2; i < array.length; i++) {\n                result = technical.mult(result, array[i]);\n            }\n\n            return technical.convertBack(result);\n        },\n        divide: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.div(array[0], array[1]);\n            for (let i = 2; i < array.length; i++) {\n                result = technical.div(result, array[i]);\n            }\n\n            return technical.convertBack(result);\n        },\n        power: (number: string | number | [number, number], power: number): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.pow(technical.convert(number), power));\n        },\n        log: (number: string | number | [number, number], base = 2.718281828459045): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.log(technical.convert(number), base));\n        },\n        //Fastest method (?), because no need to convert in both directions\n        abs: (number: string): string => number[0] === '-' ? number.substring(1) : number,\n        isNaN: (number: string): boolean => number.includes('NaN'),\n        isFinite: (number: string): boolean => number.includes('Infinity'),\n        less: (first: string | number | [number, number], second: string | number | [number, number]): boolean => {\n            const { technical } = overlimit;\n            return technical.less(technical.convert(first), technical.convert(second));\n        },\n        lessOrEqual: (first: string | number | [number, number], second: string | number | [number, number]): boolean => {\n            const { technical } = overlimit;\n            return technical.lessOrEqual(technical.convert(first), technical.convert(second));\n        },\n        more: (first: string | number | [number, number], second: string | number | [number, number]): boolean => {\n            const { technical } = overlimit;\n            return technical.more(technical.convert(first), technical.convert(second));\n        },\n        moreOrEqual: (first: string | number | [number, number], second: string | number | [number, number]): boolean => {\n            const { technical } = overlimit;\n            return technical.moreOrEqual(technical.convert(first), technical.convert(second));\n        },\n        notEqual: (first: string | number | [number, number], second: string | number | [number, number]): boolean => {\n            const { technical } = overlimit;\n            return technical.notEqual(technical.convert(first), technical.convert(second));\n        },\n        equal: (...numbers: Array<string | number | [number, number]>): boolean => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.equal(array[0], array[1]);\n            for (let i = 2; i < array.length; i++) {\n                result &&= technical.equal(array[i - 1], array[i]);\n            }\n\n            return result;\n        },\n        max: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.more(array[0], array[1]) ? array[0] : array[1];\n            for (let i = 2; i < array.length; i++) {\n                if (technical.less(result, array[i])) { result = array[i]; }\n            }\n\n            return technical.convertBack(result);\n        },\n        min: (...numbers: Array<string | number | [number, number]>): string => {\n            const { technical } = overlimit;\n            const array = technical.convertAll(numbers);\n\n            let result = technical.less(array[0], array[1]) ? array[0] : array[1];\n            for (let i = 2; i < array.length; i++) {\n                if (technical.more(result, array[i])) { result = array[i]; }\n            }\n\n            return technical.convertBack(result);\n        },\n        trunc: (number: string | number | [number, number]): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.trunc(technical.convert(number)));\n        },\n        floor: (number: string | number | [number, number]): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.floor(technical.convert(number)));\n        },\n        ceil: (number: string | number | [number, number]): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.ceil(technical.convert(number)));\n        },\n        round: (number: string | number | [number, number]): string => {\n            const { technical } = overlimit;\n            return technical.convertBack(technical.round(technical.convert(number)));\n        },\n        format: (number: string | number | [number, number], digits = null as null | number, type = 'number' as 'number' | 'input'): string => {\n            const { technical } = overlimit;\n            return technical.format(technical.convert(number), digits, type);\n        }\n    },\n    /* Private functions */\n    technical: {\n        //Main calculations\n        add: (left: [number, number], right: [number, number]): [number, number] => {\n            const difference = left[1] - right[1];\n            if (Math.abs(difference) >= 12) {\n                return difference > 0 ? left : right; //NaN will go into block bellow\n            } else {\n                if (difference === 0) {\n                    left[0] += right[0];\n                } else if (difference > 0) {\n                    left[0] += right[0] / 10 ** difference;\n                } else {\n                    right[0] += left[0] / 10 ** (-difference);\n                    left = right;\n                }\n\n                const after = Math.abs(left[0]);\n                if (after === 0) {\n                    left[1] = 0;\n                } else if (after >= 10) {\n                    left[0] /= 10;\n                    left[1]++;\n                } else if (after < 1) {\n                    left[0] *= 10;\n                    left[1]--;\n                }\n\n                return left;\n            }\n        },\n        sub: (left: [number, number], right: [number, number]): [number, number] => {\n            right[0] *= -1; //Easier this way\n            return overlimit.technical.add(left, right);\n        },\n        mult: (left: [number, number], right: [number, number]): [number, number] => {\n            if (left[0] === 0 || right[0] === 0) {\n                return [0, 0];\n            }\n\n            left[1] += right[1];\n            left[0] *= right[0];\n\n            if (Math.abs(left[0]) >= 10) {\n                left[0] /= 10;\n                left[1]++;\n            }\n\n            return left;\n        },\n        div: (left: [number, number], right: [number, number]): [number, number] => {\n            if (right[0] === 0) {\n                return [NaN, 0];\n            } else if (left[0] === 0) {\n                return [0, 0];\n            }\n\n            left[1] -= right[1];\n            left[0] /= right[0];\n\n            if (Math.abs(left[0]) < 1) {\n                left[0] *= 10;\n                left[1]--;\n            }\n\n            return left;\n        },\n        pow: (left: [number, number], power: number): [number, number] => {\n            if (power === 0) {\n                return [1, 0];\n            } else if (left[0] === 0) {\n                return [0, 0];\n            } else {\n                const negative = left[0] < 0 ? Math.abs(power) % 2 : null;\n                if (negative !== null) { //Complex numbers are not supported\n                    if (Math.floor(power) !== power) {\n                        return [NaN, 0];\n                    }\n                    left[0] *= -1;\n                }\n\n                if (!isFinite(power)) {\n                    if (power < 0) { return [0, 0]; }\n                    if (isNaN(power)) { return [NaN, 0]; }\n                    return [negative === 1 ? -Infinity : Infinity, 0];\n                }\n\n                const base10 = power * (Math.log10(left[0]) + left[1]);\n                const target = Math.floor(base10);\n                left[0] = 10 ** (base10 - target); //Infinity - Infinity === NaN\n                left[1] = target;\n\n                /* Safety, but it never happened during testing */\n                //const after = Math.abs(left[0]);\n                //if (after < 1 || after >= 10) { }\n                if (negative === 1) { left[0] *= -1; }\n                return left;\n            }\n        },\n        log: (left: [number, number], base: number): [number, number] => {\n            const negative = left[0] < 0; //Because it will be positive afterwards\n            if (!isFinite(base)) {\n                return [isNaN(base) ? NaN : 0, 0];\n            } else if (base === 0 || base === 1) {\n                return [NaN, 0];\n            } else if (left[0] <= 0) { //Complex numbers are not supported\n                if (left[0] === 0) { return [-Infinity, 0]; }\n                if (base > 0) { return [NaN, 0]; }\n                left[0] *= -1;\n            } else if (left[0] === 1 && left[1] === 0) {\n                return [0, 0];\n            }\n\n            //This is bigger version for safety when to close to 1e1e308\n            const tooSmall = left[1] < 0; //Minor issue with negative power\n            const base10 = Math.log10(Math.abs(Math.log10(left[0]) + left[1]));\n            const target = Math.floor(base10);\n            left[0] = (10 ** (base10 - target)); //Infinity - Infinity === NaN\n            left[1] = target;\n\n            if (tooSmall) { left[0] *= -1; } //Doing it now, because there is more ways than 1 to have it negative\n            if (base !== 10) {\n                left[0] /= Math.log10(Math.abs(base));\n\n                const after = Math.abs(left[0]);\n                if (after < 1 || after >= 10) {\n                    const digits = Math.floor(Math.log10(after));\n                    left[0] /= 10 ** digits; //Infinity / Infinity === NaN\n                    left[1] += digits;\n\n                    /* Safety, but it never happened during testing */\n                    //const check = Math.abs(left[0]);\n                    //if (check < 1 || check >= 10) { console.log(check) }\n                }\n            }\n\n            //Special test for negative numbers, if they were sent here\n            if (base < 0 || negative) {\n                if (left[1] < 0) { return [NaN, 0]; }\n                const test = left[1] < 16 ?\n                    (Math.round(left[0] * 10 ** 14) / 10 ** (14 - left[1])) % 2 : //First remove error from floats (while keeping floats) then find if even\n                    0; //Assuming that big numbers never uneven\n                if (base < 0 && !negative) {\n                    if (test !== 0) { return [NaN, 0]; } //Answer must be even\n                } else { //base < 0 && negative\n                    if (test !== 1) { return [NaN, 0]; } //Answer must be uneven\n                }\n            }\n            return left;\n        },\n        //abs, isNaN, isFinite are not there because used version is way too different\n        less: (left: [number, number], right: [number, number]): boolean => {\n            if (left[1] === right[1] || !isFinite(left[0]) || !isFinite(right[0])) { return left[0] < right[0]; }\n            if (left[0] >= 0 && right[0] >= 0) { return left[1] < right[1]; }\n            if (left[0] < 0 && right[0] >= 0) { return true; }\n            if (right[0] < 0 && left[0] >= 0) { return false; }\n            return left[1] > right[1];\n        },\n        lessOrEqual: (left: [number, number], right: [number, number]): boolean => {\n            if (left[1] === right[1] || !isFinite(left[0]) || !isFinite(right[0])) { return left[0] <= right[0]; }\n            if (left[0] >= 0 && right[0] >= 0) { return left[1] < right[1]; }\n            if (left[0] < 0 && right[0] >= 0) { return true; }\n            if (right[0] < 0 && left[0] >= 0) { return false; }\n            return left[1] > right[1];\n        },\n        more: (left: [number, number], right: [number, number]): boolean => {\n            if (left[1] === right[1] || !isFinite(left[0]) || !isFinite(right[0])) { return left[0] > right[0]; }\n            if (left[0] >= 0 && right[0] >= 0) { return left[1] > right[1]; }\n            if (left[0] < 0 && right[0] >= 0) { return false; }\n            if (right[0] < 0 && left[0] >= 0) { return true; }\n            return left[1] < right[1];\n        },\n        moreOrEqual: (left: [number, number], right: [number, number]): boolean => {\n            if (left[1] === right[1] || !isFinite(left[0]) || !isFinite(right[0])) { return left[0] >= right[0]; }\n            if (left[0] >= 0 && right[0] >= 0) { return left[1] > right[1]; }\n            if (left[0] < 0 && right[0] >= 0) { return false; }\n            if (right[0] < 0 && left[0] >= 0) { return true; }\n            return left[1] > right[1];\n        },\n        equal: (left: [number, number], right: [number, number]): boolean => {\n            if (!isFinite(left[0]) || !isFinite(right[0])) { return left[0] === right[0]; }\n            return left[1] === right[1] ? left[0] === right[0] : false;\n        },\n        notEqual: (left: [number, number], right: [number, number]): boolean => {\n            if (!isFinite(left[0]) || !isFinite(right[0])) { return left[0] !== right[0]; }\n            return left[1] !== right[1] ? true : left[0] !== right[0];\n        },\n        //No max, min instead on spot it will call comparison function (.more())\n        trunc: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.trunc(left[0]);\n            } else if (left[1] <= 14) {\n                //Most of it is just getting rid of floating error\n                left[0] = Math.trunc(Math.round(left[0] * 10 ** 14) / 10 ** (14 - left[1])) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        floor: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[0] < 0 ? -1 : 0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.floor(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.floor(Math.round(left[0] * 10 ** 14) / 10 ** (14 - left[1])) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        ceil: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[0] < 0 ? 0 : 1, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.ceil(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.ceil(Math.round(left[0] * 10 ** 14) / 10 ** (14 - left[1])) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        round: (left: [number, number]): [number, number] => {\n            if (left[1] < 0) {\n                return [left[1] === -1 ? Math.round(left[0] / 10) : 0, 0];\n            } else if (left[1] === 0) {\n                left[0] = Math.round(left[0]);\n            } else if (left[1] <= 14) {\n                left[0] = Math.round(Math.round(left[0] * 10 ** 14) / 10 ** (14 - left[1])) / 10 ** left[1];\n            }\n\n            return left;\n        },\n        format: (left: [number, number], digits: number | null, type: 'number' | 'input'): string => {\n            const [base, power] = left;\n            if (!isFinite(base) || !isFinite(power)) { return overlimit.technical.convertBack(left); }\n\n            //1.23ee123 (-1.23e-e123)\n            if ((power >= 1e3 || power < -1e3) && type !== 'input') {\n                if (digits === null) { digits = 2; }\n                let exponent = Math.floor(Math.log10(Math.abs(power)));\n                let result = Math.abs(Math.round(power / 10 ** (exponent - digits)) / 10 ** digits);\n                if (result >= 10) {\n                    result /= 10;\n                    exponent++;\n                }\n                if (base < 0) { result *= -1; }\n                const formated = `${result}`.replace('.', player.separator[1]);\n\n                return `${formated}e${power < 0 ? '-' : ''}e${exponent}`;\n            }\n\n            //1.23e123\n            if (power >= 6 || power < -3) {\n                if (digits === null) { digits = 2; }\n                let formated = `${Math.round(base * 10 ** digits) / 10 ** digits}`;\n                if (type !== 'input') { formated = formated.replace('.', player.separator[1]); }\n\n                return `${formated}e${power}`;\n            }\n\n            //12345\n            if (digits === null) { digits = 4; }\n            if (power >= 3) {\n                digits = 0;\n            } else if (power >= 0) {\n                digits = 2;\n            }\n\n            let formated = `${Math.round(base * 10 ** (digits + power)) / 10 ** digits}`;\n            if (type !== 'input') {\n                formated = formated.replace('.', player.separator[1]);\n                if (power >= 3) { formated = formated.replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]); }\n            }\n\n            return formated;\n        },\n        //Special functions\n        convert: (number: string | number | [number, number]): [number, number] => { //Turns string into usable parts [base, power]\n            let result: [number, number];\n            if (typeof number !== 'object') { //Not an Array\n                if (typeof number !== 'string') { number = `${number}`; } //Using log10 could cause floating point error\n                const index = number.indexOf('e'); //About 5+ times quicker than regex\n                result = index === -1 ? [Number(number), 0] : [Number(number.slice(0, index)), Number(number.slice(index + 1))];\n            } else {\n                result = number; //Not instant return, because might need a fix\n            }\n\n            if (Math.floor(result[1]) !== result[1]) { //Fix non trunc exponent ([2, 10.1] > [2.5, 10])\n                result[0] *= 10 ** (result[1] - Math.floor(result[1]));\n                result[1] = Math.floor(result[1]);\n            }\n\n            const after = Math.abs(result[0]);\n            if (after === 0) {\n                result[1] = 0; //Just in case\n            } else if (after < 1 || (after >= 10 && isFinite(after))) { //isFinite here to allow Infinity\n                const digits = Math.floor(Math.log10(after)); //Can fail, but mostly should be fine (?)\n                result[0] /= 10 ** digits;\n                result[1] += digits;\n\n                //Safety, since it's really important for functions like trunc(), less() to have a correct exponent\n                if (Math.abs(result[0]) < 1) { //Can happen\n                    result[0] *= 10;\n                    result[1]--;\n                }\n            }\n\n            return result;\n        },\n        convertAll: (numbers: Array<string | number | [number, number]>): Array<[number, number]> => { //Quality of life (string instead of ..., for optimization (?))\n            const result = [];\n            const { convert } = overlimit.technical;\n            for (let i = 0; i < numbers.length; i++) {\n                result[i] = convert(numbers[i]);\n            }\n            return result;\n        },\n        fixFloats: (number: [number, number]): [number, number] => { //Decreases string length (removes extra information), also will try to fix any issues\n            if (!isFinite(number[0]) || !isFinite(number[1])) { //NaN is not finite\n                if (number[0] === 0 || (number[1] < 0 && !isFinite(number[1]))) { return [0, 0]; }\n                return [isNaN(number[0]) || isNaN(number[1]) ? NaN : number[0] < 0 ? -Infinity : Infinity, 0];\n            }\n\n            const digits = number[1] >= 0 ?\n                (number[1] >= 1e3 ? 0 : 12) :\n                (number[1] <= 1e-3 ? 0 : 12);\n            number[0] = Math.round(number[0] * 10 ** digits) / 10 ** digits;\n\n            return number; //number[0] can become >= 10, but convert will fix it before being used again\n        },\n        convertBack: (number: [number, number]): string => {\n            number = overlimit.technical.fixFloats(number);\n            if (Math.abs(number[1]) < 1e16) { return number[1] === 0 ? `${number[0]}` : `${number[0]}e${number[1]}`; }\n\n            const exponent = Math.floor(Math.log10(number[1]));\n            const result = Math.round(number[1] / 10 ** (exponent - 15)) / 1e15;\n\n            return `${number[0]}e${result}e${exponent}`;\n        }\n    }\n};\n\nexport const { Limit, LimitAlt } = overlimit;\nexport default Limit;\n\n/* Remove once tested */\n\nconst created = false;\nexport const createCalculator = () => {\n    if (created) { return; }\n\n    getId('settingsSubtabDebug').innerHTML =\n    `<div class=\"insideTab\" style=\"flex-flow: column;\">\n        <div style=\"display: flex; flex-direction: column; align-items: center;\">\n            <p class=\"bigWord redText\">This is testing area for break infinity calculator</p>\n            <span class=\"greenText\">Since I created it myself there might be a lot of bugs</span>\n            <span class=\"greenText\">If you have time you can test it, while I'm work on main game</span>\n        </div>\n        <div style=\"align-self: center;\">\n            <div class=\"darkorchidText\" style=\"display: flex; column-gap: 0.6em;\">\n                <p>Current Math answer</p>\n                <span id=\"oldMath\" style=\"border: 2px solid; width: 7em; text-align: center;\"></span>\n            </div>\n            <div class=\"darkvioletText\" style=\"display: flex; column-gap: 0.6em; margin-top: 0.2em;\">\n                <p>New Math answer</p>\n                <span id=\"newMath\" style=\"border: 2px solid; width: 7em; text-align: center;\"></span>\n            </div>\n        </div>\n        <div style=\"align-self: center;\">\n            <div>\n                <label for=\"firstNumber\" class=\"cyanText\">First Number</label>\n                <input type=\"text\" id=\"firstNumber\" style=\"margin-left: 1em; width: 10em;\">\n            </div>\n            <div>\n                <label for=\"secondNumber\" class=\"cyanText\">Second number</label>\n                <input type=\"text\" id=\"secondNumber\" style=\"margin-left: 1em; margin-top: 0.2em; width: 10em;\">\n            </div>\n        </div>\n        <div>\n            <p class=\"orchidText\">Choose what to do with numbers</p>\n            <div style=\"display: flex; flex-wrap: wrap; column-gap: 0.25em;\">\n                <button id=\"plus\" style=\"width: 1.5em;\">+</button>\n                <button id=\"minus\" style=\"width: 1.5em;\">-</button>\n                <button id=\"mult\" style=\"width: 1.5em;\">*</button>\n                <button id=\"div\" style=\"width: 1.5em;\">/</button>\n                <button id=\"pow\" style=\"width: 1.5em;\" title=\"Second number must be bellow 2^1024\">^</button>\n                <button id=\"log\" style=\"width: 2.5em;\" title=\"Second number is base, also must be bellow 2^1024\">log</button>\n                <button id=\"abs\" style=\"width: 2em;\" title=\"Removes minus. First number only\">|x|</button>\n                <button id=\"Inf\" style=\"width: 5.5em;\" title=\"Check if number is finite (not Infinity or NaN). First number only\">Is Finite</button>\n                <button id=\"NaN\" style=\"width: 4em;\" title=\"Check if number is NaN (Not a Number). First number only\">Is NaN</button>\n                <button id=\"more\" style=\"width: 1.5em;\">&gt</button>\n                <button id=\"moreEqual\" style=\"width: 2em;\">&gt=</button>\n                <button id=\"less\" style=\"width: 1.5em;\">&lt</button>\n                <button id=\"lessEqual\" style=\"width: 2em;\">&lt=</button>\n                <button id=\"equal\" style=\"width: 2em;\">==</button>\n                <button id=\"notEqual\" style=\"width: 2em;\">!=</button>\n                <button id=\"trunc\" style=\"width: 3.5em;\" title=\"Remove all digits past point. First number only\">Trunc</button>\n                <button id=\"floor\" style=\"width: 3.5em;\" title=\"Bring number to closest smallest integer. First number only\">Floor</button>\n                <button id=\"ceil\" style=\"width: 4em;\" title=\"Bring number to biggest smallest integer. First number only\">Ceiling</button>\n                <button id=\"round\" style=\"width: 4em;\" title=\"Bring number to closest integer. First number only\">Round</button>\n            </div>\n        </div>\n    </div>`;\n    getId('plus').addEventListener('click', doPlus);\n    getId('minus').addEventListener('click', doMinus);\n    getId('mult').addEventListener('click', doMult);\n    getId('div').addEventListener('click', doDiv);\n    getId('pow').addEventListener('click', doPow);\n    getId('log').addEventListener('click', doLog);\n    getId('abs').addEventListener('click', doAbs);\n    getId('Inf').addEventListener('click', doInf);\n    getId('NaN').addEventListener('click', doNaN);\n    getId('more').addEventListener('click', doMore);\n    getId('moreEqual').addEventListener('click', doMoreEqual);\n    getId('less').addEventListener('click', doLess);\n    getId('lessEqual').addEventListener('click', doLessEqual);\n    getId('equal').addEventListener('click', doEqual);\n    getId('notEqual').addEventListener('click', doNotEqual);\n    getId('trunc').addEventListener('click', doTrunc);\n    getId('floor').addEventListener('click', doFloor);\n    getId('ceil').addEventListener('click', doCeil);\n    getId('round').addEventListener('click', doRound);\n};\n\nconst doPlus = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Number(inputFirst) + Number(inputSecond));\n    newMath.textContent = Limit(inputFirst).plus(inputSecond).format();\n};\nconst doMinus = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Number(inputFirst) - Number(inputSecond));\n    newMath.textContent = Limit(inputFirst).minus(inputSecond).format();\n};\nconst doMult = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Number(inputFirst) * Number(inputSecond));\n    newMath.textContent = Limit(inputFirst).multiply(inputSecond).format();\n};\nconst doDiv = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Number(inputFirst) / Number(inputSecond));\n    newMath.textContent = Limit(inputFirst).divide(inputSecond).format();\n};\nconst doPow = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Number(inputFirst) ** Number(inputSecond));\n    newMath.textContent = Limit(inputFirst).power(Number(inputSecond)).format();\n};\nconst doLog = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n    oldMath.textContent = format(logAny(Number(inputFirst), Number(inputSecond)));\n    newMath.textContent = Limit(inputFirst).log(Number(inputSecond)).format();\n};\nconst doAbs = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Math.abs(Number(inputFirst)));\n    newMath.textContent = Limit(inputFirst).abs().format();\n};\nconst doInf = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${isFinite(Number(inputFirst))}`;\n    newMath.textContent = `${Limit(inputFirst).isFinite()}`;\n};\nconst doNaN = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${isNaN(Number(inputFirst))}`;\n    newMath.textContent = `${Limit(inputFirst).isNaN()}`;\n};\nconst doMore = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) > Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).more(inputSecond)}`;\n};\nconst doMoreEqual = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) >= Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).moreOrEqual(inputSecond)}`;\n};\nconst doLess = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) < Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).less(inputSecond)}`;\n};\nconst doLessEqual = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) <= Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).lessOrEqual(inputSecond)}`;\n};\nconst doEqual = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) === Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).equal(inputSecond)}`;\n};\nconst doNotEqual = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const inputSecond = (getId('secondNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = `${Number(inputFirst) !== Number(inputSecond)}`;\n    newMath.textContent = `${Limit(inputFirst).notEqual(inputSecond)}`;\n};\nconst doTrunc = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Math.trunc(Number(inputFirst)));\n    newMath.textContent = Limit(inputFirst).trunc().format();\n};\nconst doFloor = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Math.floor(Number(inputFirst)));\n    newMath.textContent = Limit(inputFirst).floor().format();\n};\nconst doCeil = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Math.ceil(Number(inputFirst)));\n    newMath.textContent = Limit(inputFirst).ceil().format();\n};\nconst doRound = () => {\n    const inputFirst = (getId('firstNumber') as HTMLInputElement).value;\n    const oldMath = getId('oldMath');\n    const newMath = getId('newMath');\n    oldMath.textContent = format(Math.round(Number(inputFirst)));\n    newMath.textContent = Limit(inputFirst).round().format();\n};\n", "import { player, global, playerStart, updatePlayer, checkPlayerValues } from './Player';\nimport { getUpgradeDescription, invisibleUpdate, switchTab, numbersUpdate, visualUpdate, format, stageCheck, maxOfflineTime, exportMultiplier } from './Update';\nimport { autoUpgradesSet, buyBuilding, buyUpgrades, collapseAsyncReset, dischargeAsyncReset, rankAsyncReset, stageAsyncReset, switchStage, switchVacuum, toggleBuy, toggleSwap, vaporizationAsyncReset } from './Stage';\nimport { Alert, Confirm, hideFooter, Prompt, setTheme, changeFontSize, screenReaderSupport, mobileDeviceSupport, removeTextMovement, changeFormat } from './Special';\nimport { detectHotkey } from './Hotkeys';\nimport { createCalculator } from './Limit';\n/* There can be a problem with incorrect build, imports can be called in a wrong order */\n/* Small notes for myself: (tested with many, many loops) */\n//Optimizing visualUpdate() by using if...else... won't change anything (using a = b = c, will slow it down)\n//Removing decostructing ({ a } = b), in most cases will slow down code\n\nexport const getId = (id: string): HTMLElement => { //To type less and check if ID exist\n    const i = document.getElementById(id);\n    if (i !== null) { return i; }\n    Alert(`ID of HTML element (${id}), failed to load, game will not work properly, please refresh. If this happens more than once, then please report it`);\n    throw new ReferenceError(`ID \"${id}\" not found.`);\n};\n\nexport const getClass = (idCollection: string) => [...document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>];\n\nexport const reLoad = async(firstLoad = false) => {\n    if (firstLoad) {\n        const save = localStorage.getItem('save');\n        const theme = localStorage.getItem('theme');\n        if (save !== null) {\n            const load = JSON.parse(atob(save));\n            updatePlayer(load);\n            if (player.toggles.normal[0]) {\n                const offlineTime = Date.now() - player.time.updated;\n                const maxOffline = maxOfflineTime();\n                Alert(`Welcome back, you were away for ${format(offlineTime, 0, 'time')}.${offlineTime > maxOffline * 1000 ? ` (Max offline time is ${maxOffline / 3600} hours)` : ''}${global.versionInfo.changed ? ` Game has been updated to ${player.version}, ${global.versionInfo.log}` : `\\nCurrent version is ${player.version}`}`);\n            }\n        } else {\n            Alert(`Welcome to 'Fundamental'.\\nThis is a test-project made by awWhy. Should be supported by modern browsers, phones and screen readers (need to turn support ON in settings).\\nWas inspired by 'Synergism', 'Antimatter Dimensions' and others.\\nCurrent version is ${player.version}`);\n        }\n        if (theme !== null) {\n            global.theme.default = false;\n            global.theme.stage = Number(theme);\n        }\n\n        /* These one's better to do only on page reload */\n        mobileDeviceSupport();\n        screenReaderSupport(false, 'toggle', 'reload');\n        changeFontSize();\n        if (localStorage.getItem('textMove') !== null) { removeTextMovement(); }\n    }\n\n    stageCheck('reload'); //All related stage information and visualUpdate(), also calculateStageInformation();\n    if (firstLoad) { //Prevent spoilers\n        getId('body').style.display = '';\n        getId('loading').style.display = 'none';\n    }\n    checkPlayerValues(); //Has to be done after stageCheck();\n\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('thousandSeparator') as HTMLInputElement).value = player.separator[0];\n    (getId('decimalPoint') as HTMLInputElement).value = player.separator[1];\n    (getId('stageInput') as HTMLInputElement).value = `${player.stage.input}`;\n    (getId('vaporizationInput') as HTMLInputElement).value = `${player.vaporization.input}`;\n    (getId('collapseMassInput') as HTMLInputElement).value = `${player.collapse.inputM}`;\n    (getId('collapseStarsInput') as HTMLInputElement).value = `${player.collapse.inputS}`;\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) { toggleSwap(i, 'normal'); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    toggleBuy(); //Also numbersUpdate();\n\n    createCalculator(); //Remove once done\n\n    if (firstLoad && !player.toggles.normal[0]) {\n        const offlineTime = Date.now() - player.time.updated;\n        const maxOffline = maxOfflineTime();\n        const noOffline = await Confirm(`Welcome back, you were away for ${format(offlineTime, 0, 'time')}${offlineTime > maxOffline * 1000 ? ` (max offline time is ${maxOffline / 3600} hours)` : ''}. Game was set to have offline time disabled. Press confirm to NOT to gain offline time.${global.versionInfo.changed ? ` Also game has been updated to ${player.version}, ${global.versionInfo.log}` : `\\nCurrent version is ${player.version}`}`);\n        if (noOffline) {\n            global.timeSpecial.lastSave += offlineTime;\n            player.time.updated = Date.now();\n        }\n    }\n    changeIntervals(false, 'all'); //Will 'unpause' game, also set all of inputs values\n};\n\nvoid reLoad(true); //This will start the game\n\n/* Global */\n{\n    const { mobileDevice, screenReader } = global;\n    document.addEventListener('keydown', (key: KeyboardEvent) => detectHotkey(key));\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) {\n        getId(`toggle${i}`).addEventListener('click', () => toggleSwap(i, 'normal', true));\n    }\n    for (let i = 0; i < global.HTMLSpecial.longestBuilding; i++) {\n        getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n    }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) {\n        getId(`toggleAuto${i}`).addEventListener('click', () => toggleSwap(i, 'auto', true));\n    }\n\n    /* Stage tab */\n    for (let i = 1; i < global.HTMLSpecial.longestBuilding; i++) {\n        getId(`building${i}Btn`).addEventListener('click', () => buyBuilding(i));\n    }\n    for (let i = 0; i < global.HTMLSpecial.longestUpgrade; i++) {\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(i, 'auto', 'upgrades'));\n            image.addEventListener('click', () => buyUpgrades(i, 'auto', 'upgrades'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(i, 'auto', 'upgrades'));\n            image.addEventListener('touchend', () => buyUpgrades(i, 'auto', 'upgrades'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, 'auto', 'upgrades')); }\n    }\n    getId('dischargeReset').addEventListener('click', () => { void dischargeAsyncReset(); });\n    getId('vaporizationReset').addEventListener('click', () => { void vaporizationAsyncReset(); });\n    getId('rankReset').addEventListener('click', () => { void rankAsyncReset(); });\n    getId('stageReset').addEventListener('click', () => { void stageAsyncReset(); });\n    getId('collapseReset').addEventListener('click', () => { void collapseAsyncReset(); });\n    getId('buy1x').addEventListener('click', () => toggleBuy('1'));\n    getId('buyAny').addEventListener('click', () => toggleBuy('any'));\n    getId('buyAnyInput').addEventListener('blur', () => toggleBuy('any'));\n    getId('buyMax').addEventListener('click', () => toggleBuy('max'));\n    getId('buyStrict').addEventListener('click', () => toggleBuy('strict'));\n\n    getId('vacuumSwitch').addEventListener('click', switchVacuum);\n\n    /* Research tab */\n    for (let i = 0; i < global.HTMLSpecial.longestResearch; i++) {\n        const image = getId(`research${i + 1}Image`) as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(i, 'auto', 'researches'));\n            image.addEventListener('click', () => buyUpgrades(i, 'auto', 'researches'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(i, 'auto', 'researches'));\n            image.addEventListener('touchend', () => buyUpgrades(i, 'auto', 'researches'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, 'auto', 'researches')); }\n    }\n    for (let i = 0; i < global.HTMLSpecial.longestResearchExtra; i++) {\n        const image = getId(`researchExtra${i + 1}Image`) as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(i, 'auto', 'researchesExtra'));\n            image.addEventListener('click', () => buyUpgrades(i, 'auto', 'researchesExtra'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(i, 'auto', 'researchesExtra'));\n            image.addEventListener('touchend', () => buyUpgrades(i, 'auto', 'researchesExtra'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, 'auto', 'researchesExtra')); }\n    }\n    for (let i = 0; i < global.researchesAutoInfo.cost.length; i++) {\n        const image = getId(`researchAuto${i + 1}Image`) as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(i, 'auto', 'researchesAuto'));\n            image.addEventListener('click', () => buyUpgrades(i, 'auto', 'researchesAuto'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(i, 'auto', 'researchesAuto'));\n            image.addEventListener('touchend', () => buyUpgrades(i, 'auto', 'researchesAuto'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, 'auto', 'researchesAuto')); }\n    }\n    { //Part of researchesAuto\n        const image = getId('ASRImage') as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(0, 'auto', 'ASR'));\n            image.addEventListener('click', () => buyUpgrades(0, 'auto', 'ASR'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(0, 'auto', 'ASR'));\n            image.addEventListener('touchend', () => buyUpgrades(0, 'auto', 'ASR'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(0, 'auto', 'ASR')); }\n    }\n\n    for (let i = 1; i < global.elementsInfo.cost.length; i++) {\n        const image = getId(`element${i}`) as HTMLInputElement;\n        if (!mobileDevice) {\n            image.addEventListener('mouseover', () => getUpgradeDescription(i, 4, 'elements'));\n            image.addEventListener('click', () => buyUpgrades(i, 4, 'elements'));\n        } else {\n            image.addEventListener('touchstart', () => getUpgradeDescription(i, 4, 'elements'));\n            image.addEventListener('touchend', () => buyUpgrades(i, 4, 'elements'));\n        }\n        if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, 4, 'elements')); }\n    }\n\n    /* Strangeness tab */\n    for (let s = 1; s < global.strangenessInfo.length; s++) {\n        for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n            const image = getId(`strange${i + 1}Stage${s}Image`) as HTMLInputElement;\n            if (!mobileDevice) {\n                image.addEventListener('mouseover', () => getUpgradeDescription(i, s, 'strangeness'));\n                image.addEventListener('click', () => buyUpgrades(i, s, 'strangeness'));\n            } else {\n                image.addEventListener('touchstart', () => getUpgradeDescription(i, s, 'strangeness'));\n                image.addEventListener('touchend', () => buyUpgrades(i, s, 'strangeness'));\n            }\n            if (screenReader) { image.addEventListener('focus', () => getUpgradeDescription(i, s, 'strangeness')); }\n        }\n    }\n    for (let s = 1; s < global.milestonesInfo.length; s++) {\n        for (let i = 0; i < global.milestonesInfo[s].need.length; i++) {\n            getId(`milestone${i + 1}Stage${s}`).addEventListener('mouseover', () => getUpgradeDescription(i, s, 'milestones'));\n            if (screenReader) { getId(`milestone${i + 1}Stage${s}`).addEventListener('focus', () => getUpgradeDescription(i, s, 'milestones')); }\n        }\n    }\n\n    /* Settings tab */\n    getId('vaporizationInput').addEventListener('blur', () => {\n        const input = getId('vaporizationInput') as HTMLInputElement;\n        input.value = format(Math.max(Number(input.value), 0), 'auto', 'input');\n        player.vaporization.input = Number(input.value);\n    });\n    getId('collapseMassInput').addEventListener('blur', () => {\n        const input = getId('collapseMassInput') as HTMLInputElement;\n        input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n        player.collapse.inputM = Number(input.value);\n    });\n    getId('collapseStarsInput').addEventListener('blur', () => {\n        const input = getId('collapseStarsInput') as HTMLInputElement;\n        input.value = format(Math.max(Number(input.value), 0), 'auto', 'input');\n        player.collapse.inputS = Number(input.value);\n    });\n    getId('stageInput').addEventListener('blur', () => {\n        const input = getId('stageInput') as HTMLInputElement;\n        input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n        player.stage.input = Number(input.value);\n    });\n    getId('save').addEventListener('click', () => { void saveLoad('save'); });\n    getId('file').addEventListener('change', () => { void saveLoad('load'); });\n    getId('export').addEventListener('click', () => { void saveLoad('export'); });\n    getId('delete').addEventListener('click', () => { void saveLoad('delete'); });\n    getId('switchTheme0').addEventListener('click', () => setTheme(0, true));\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n    }\n    getId('toggleAuto5').addEventListener('click', () => {\n        if (player.toggles.auto[5]) { autoUpgradesSet('upgrades'); }\n    });\n    getId('toggleAuto6').addEventListener('click', () => {\n        if (player.toggles.auto[6]) { autoUpgradesSet('researches'); }\n    });\n    getId('toggleAuto7').addEventListener('click', () => {\n        if (player.toggles.auto[7]) { autoUpgradesSet('researchesExtra'); }\n    });\n    getId('saveFileNameInput').addEventListener('blur', () => changeSaveFileName());\n    getId('saveFileHoverButton').addEventListener('mouseover', () => {\n        getId('saveFileNamePreview').textContent = replaceSaveFileSpecials();\n    });\n    getId('saveFileHoverButton').addEventListener('focus', () => {\n        getId('saveFileNamePreview').textContent = replaceSaveFileSpecials();\n    });\n    getId('mainInterval').addEventListener('blur', () => changeIntervals(false, 'main'));\n    getId('numbersInterval').addEventListener('blur', () => changeIntervals(false, 'numbers'));\n    getId('visualInterval').addEventListener('blur', () => changeIntervals(false, 'visual'));\n    getId('autoSaveInterval').addEventListener('blur', () => changeIntervals(false, 'autoSave'));\n    getId('thousandSeparator').addEventListener('blur', () => changeFormat(false));\n    getId('decimalPoint').addEventListener('blur', () => changeFormat(true));\n    getId('pauseGame').addEventListener('click', () => { void pauseGame(); });\n    getId('noMovement').addEventListener('click', () => removeTextMovement(true));\n    getId('fontSizeToggle').addEventListener('click', () => changeFontSize(true));\n    getId('customFontSize').addEventListener('blur', () => changeFontSize(false, true));\n\n    /* Only for phones */\n    getId('mobileDeviceToggle').addEventListener('click', () => mobileDeviceSupport(true));\n\n    /* Only for screen readers */\n    getId('screenReaderToggle').addEventListener('click', () => screenReaderSupport(true));\n    if (screenReader) {\n        for (let i = 0; i < global.HTMLSpecial.longestBuilding; i++) {\n            getId(`invisibleGetBuilding${i}`).addEventListener('click', () => screenReaderSupport(i, 'button', 'building'));\n        }\n        getId('invisibleGetResource0').addEventListener('click', () => screenReaderSupport(0, 'button', 'resource'));\n        getId('invisibleGetResource1').addEventListener('click', () => screenReaderSupport(1, 'button', 'resource'));\n        getId('invisibleGetResource2').addEventListener('click', () => screenReaderSupport(2, 'button', 'resource'));\n        getId('invisibleGetResource4').addEventListener('click', () => screenReaderSupport(4, 'button', 'resource'));\n        getId('invisibleInformation0').addEventListener('click', () => screenReaderSupport(0, 'button', 'information'));\n    }\n\n    /* Footer */\n    getId('hideToggle').addEventListener('click', hideFooter);\n    const tabList = global.tabList.tabs.slice(0, -1);\n    for (const tabText of tabList) {\n        getId(`${tabText}TabBtn`).addEventListener('click', () => switchTab(tabText));\n        for (const subtabText of global.tabList[tabText + 'Subtabs' as 'stageSubtabs']) {\n            getId(`${tabText}SubtabBtn${subtabText}`).addEventListener('click', () => switchTab(tabText, subtabText));\n        }\n    }\n\n    /* Stages */\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`${global.stageInfo.word[i]}Switch`).addEventListener('click', () => switchStage(i));\n    }\n}\n\nconsole.timeEnd('Game loaded in'); //Started in Player.ts\n\n/* Intervals */\nfunction changeIntervals(pause = false, input = '') {\n    const { intervals } = player;\n    const { intervalsId } = global;\n    if (input !== '') {\n        const mainInput = getId('mainInterval') as HTMLInputElement;\n        const numberInput = getId('numbersInterval') as HTMLInputElement;\n        const visualInput = getId('visualInterval') as HTMLInputElement;\n        const autoSaveInput = getId('autoSaveInterval') as HTMLInputElement;\n        if (input === 'main') {\n            intervals.main = Math.min(Math.max(Math.trunc(Number(mainInput.value)), 20), 1000);\n            if (intervals.main > intervals.numbers) { intervals.numbers = intervals.main; }\n        } else if (input === 'numbers') {\n            intervals.numbers = Math.min(Math.max(Math.trunc(Number(numberInput.value)), 20), 1000);\n            if (intervals.numbers < intervals.main) { intervals.main = intervals.numbers; }\n        } else if (input === 'visual') {\n            intervals.visual = Math.min(Math.max(Math.trunc(Number(visualInput.value) * 10) / 10, 0.2), 10);\n        } else if (input === 'autoSave') {\n            intervals.autoSave = Math.min(Math.max(Math.trunc(Number(autoSaveInput.value)), 10), 1800);\n        }\n        mainInput.value = `${intervals.main}`;\n        numberInput.value = `${intervals.numbers}`;\n        visualInput.value = `${intervals.visual}`;\n        autoSaveInput.value = `${intervals.autoSave}`;\n    }\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    clearInterval(intervalsId.autoSave);\n    if (!pause) {\n        intervalsId.main = setInterval(invisibleUpdate, intervals.main);\n        intervalsId.numbers = setInterval(numbersUpdate, intervals.numbers);\n        intervalsId.visual = setInterval(visualUpdate, intervals.visual * 1000);\n        intervalsId.autoSave = setInterval(saveLoad, intervals.autoSave * 1000, 'save');\n    }\n}\n\n/* Promise returned in function argument where a void return was expected.\n   I have no idea what does that even mean... I have to use async since 'await saveFile[0].text()' must have await in it.*/\nasync function saveLoad(type: string) {\n    switch (type) {\n        case 'load': {\n            const id = getId('file') as HTMLInputElement;\n            const saveFile = id.files;\n            if (saveFile === null) { return Alert('Loaded file wasn\\'t found, somehow'); }\n            const text = await saveFile[0].text();\n\n            try {\n                const load = JSON.parse(atob(text));\n                const versionCheck = Object.hasOwn(load, 'player') ? load.player.version : load.version;\n                changeIntervals(true);\n                updatePlayer(load);\n                const offlineTime = Date.now() - player.time.updated;\n                const maxOffline = maxOfflineTime();\n                getId('isSaved').textContent = 'Imported';\n                global.timeSpecial.lastSave = 0;\n                if (!player.toggles.normal[0]) {\n                    const noOffline = await Confirm(`This save file was set to have offline progress disabled (currently ${format(offlineTime, 0, 'time')}${offlineTime > maxOffline * 1000 ? `, max is ${maxOffline / 3600} hours` : ''}). Press confirm to NOT to gain offline time.${versionCheck !== player.version ? `\\nAlso save file version is ${versionCheck}, while game version is ${player.version}, ${global.versionInfo.log}` : `\\nSave file version is ${player.version}`}`);\n                    if (noOffline) {\n                        global.timeSpecial.lastSave += offlineTime;\n                        player.time.updated = Date.now();\n                    }\n                } else {\n                    Alert(`This save is ${format(offlineTime, 0, 'time')} old${offlineTime > maxOffline * 1000 ? `, max offline time is ${maxOffline / 3600} hours` : ''}.${versionCheck !== player.version ? `\\nAlso save file version is ${versionCheck}, while game version is ${player.version}, ${global.versionInfo.log}` : `\\nSave file version is ${player.version}`}`);\n                }\n                void reLoad();\n            } catch (error) {\n                changeIntervals(); //Unpause game, in case there was an issue;\n                Alert(`Incorrect save file format.\\nFull error is: '${error}'`);\n            } finally {\n                id.value = ''; //Remove inputed file\n            }\n            return;\n        }\n        case 'save': {\n            try {\n                const save = btoa(JSON.stringify(player));\n                //If Infinity will be needed inside, then can anything alike 'btoa(JSON.stringify(player), (k, v) => v === Infinity ? `${v}` : v)'\n                localStorage.setItem('save', save);\n                clearInterval(global.intervalsId.autoSave);\n                global.intervalsId.autoSave = setInterval(saveLoad, player.intervals.autoSave * 1000, 'save');\n                getId('isSaved').textContent = 'Saved';\n                global.timeSpecial.lastSave = 0;\n            } catch (error) {\n                Alert(`Failed to save file.\\nFull error is: '${error}'`);\n            }\n            return;\n        }\n        case 'export': {\n            if (player.strangeness[4][7] >= 1) {\n                const multiplier = exportMultiplier();\n                const strangeGain = Math.trunc(player.stage.export * multiplier / 86400);\n                player.strange[0].true += strangeGain;\n                player.strange[0].total += strangeGain;\n                player.stage.export -= strangeGain * 86400 / multiplier;\n            }\n\n            const save = btoa(JSON.stringify(player)); //It doesn't use one from localStorage in case of errors\n            const a = document.createElement('a');\n            a.href = 'data:text/plain;charset=utf-8,' + save;\n            a.download = replaceSaveFileSpecials();\n            a.click();\n            return;\n        }\n        case 'delete': {\n            const ok = await Prompt(\"This will truly delete your save file and clear local storage!\\nType 'delete' to confirm.\");\n            if (ok?.toLowerCase() === 'delete') {\n                changeIntervals(true);\n                localStorage.clear();\n                Alert('Game will auto refresh. If not then do it manually');\n                window.location.reload();\n            } else if (ok !== null && ok !== '') {\n                Alert(`You wrote '${ok}', so save file wasn't deleted`);\n            }\n        }\n    }\n}\n\nconst changeSaveFileName = () => {\n    const input = getId('saveFileNameInput') as HTMLInputElement;\n\n    let newValue: string; //Max allowed string length is 255 (35) (?)\n    if (input.value.length > 4) {\n        newValue = input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n    } else {\n        const check = input.value.replace(/[1-9]/, '').toLowerCase(); //No idea if I should check for these\n        if (input.value.length < 4 || (input.value.length === 4 && (check === 'com' || check === 'lpt'))) {\n            newValue = playerStart.fileName;\n        } else {\n            newValue = input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n        }\n    }\n\n    try {\n        btoa(newValue); //Test for any illegal characters\n        player.fileName = newValue;\n        input.value = newValue;\n    } catch (error) {\n        Alert(`Save file name is not allowed.\\nFull error is: '${error}'`);\n    }\n};\n\nconst replaceSaveFileSpecials = (): string => {\n    let realName = player.fileName;\n    const special = [\n        '[stage]',\n        '[true]',\n        '[date]',\n        '[time]'\n    ];\n    const replaceWith = [\n        global.stageInfo.word[player.stage.current],\n        global.stageInfo.word[player.stage.true],\n        getDate('dateDMY'),\n        getDate('timeHMS')\n    ];\n    for (let i = 0; i < special.length; i++) {\n        realName = realName.replaceAll(special[i], replaceWith[i]);\n    }\n    return realName + '.txt';\n};\n\nconst getDate = (type: 'dateDMY' | 'timeHMS'): string => {\n    const current = new Date();\n    let result: string;\n    switch (type) {\n        case 'dateDMY':\n            result = `${current.getDate()}.${current.getMonth() + 1}.${current.getFullYear()}`;\n            break;\n        case 'timeHMS': {\n            let minutes = `${current.getMinutes()}`;\n            if (minutes.length === 1) { minutes = '0' + minutes; }\n            let seconds = `${current.getSeconds()}`;\n            if (seconds.length === 1) { seconds = '0' + seconds; }\n            result = `${current.getHours()}-${minutes}-${seconds}`;\n        }\n    }\n    return result;\n};\n\nconst pauseGame = async() => {\n    changeIntervals(true);\n    const offline = await Prompt(`Game is currently paused. Press any button bellow to unpause it. Can enter 'NoOffline' to NOT to gain offline time. (Max offline time is ${maxOfflineTime() / 3600} hours)`);\n    //Maybe to add when game was paused (if I can figure out how later)\n    if (offline?.toLowerCase() === 'nooffline') {\n        player.time.updated = Date.now();\n    } else if (offline !== null && offline !== '') {\n        Alert(`You wrote '${offline}', so offline time was gained`);\n    }\n    changeIntervals();\n};\n"],
  "mappings": "yXACA,QAAQ,KAAK,gBAAgB,EAEtB,IAAMA,EAAqB,CAC9B,QAAS,SACT,SAAU,sCACV,UAAW,CAAC,GAAI,GAAG,EACnB,MAAO,CACH,KAAM,EACN,QAAS,EACT,OAAQ,EACR,OAAQ,EACR,OAAQ,MACR,MAAO,CACX,EACA,UAAW,CACP,OAAQ,EACR,UAAW,EACX,QAAS,CACb,EACA,aAAc,CACV,OAAQ,EACR,UAAW,EACX,MAAO,EACX,EACA,UAAW,CACP,KAAM,CACV,EACA,SAAU,CACN,KAAM,OACN,QAAS,OACT,YAAa,EACb,MAAO,CAAC,EAAG,EAAG,CAAC,EACf,KAAM,CAAC,EACP,SAAU,GACV,OAAQ,EACR,OAAQ,CACZ,EACA,UAAW,CACP,KAAM,IACN,QAAS,IACT,OAAQ,EACR,SAAU,EACd,EACA,KAAM,CACF,QAAS,KAAK,IAAI,EAClB,QAAS,KAAK,IAAI,CACtB,EACA,UAAW,CACP,CAAC,EACD,CACI,CACI,QAAS,EACT,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,CACJ,EAAG,CACC,CACI,QAAS,MACT,MAAO,MACP,UAAW,MACX,QAAS,KACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,EACA,CACI,QAAS,EACT,KAAM,EACN,MAAO,EACP,UAAW,EACX,QAAS,CACb,CACJ,EAAG,CACC,CACI,QAAS,MACT,MAAO,MACP,UAAW,MACX,QAAS,KACb,EACA,CACI,QAAS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",
  "names": ["player", "global", "createArray", "amount", "special", "array", "i", "playerStart", "globalStart", "checkPlayerValues", "stageInfo", "s", "updatePlayer", "load", "check", "versionInfo", "a", "oldB", "oldU", "oldR", "oldE", "__spreadValues", "checkTab", "tab", "subtab", "tabUnl", "subUnl", "player", "global", "checkBuilding", "index", "stageIndex", "checkUpgrade", "upgrade", "type", "allowedToBeReset", "check", "milestoneCheck", "need", "award", "getUpgradeDescription", "setTheme", "themeNumber", "initial", "theme", "global", "switchTheme", "stage", "player", "stageInfo", "body", "getId", "text", "Alert", "AlertWait", "resolve", "blocker", "confirm", "key", "button", "close", "Confirm", "cancel", "yes", "no", "result", "Prompt", "input", "hideFooter", "footer", "hide", "toggle", "arrow", "mobileDeviceSupport", "change", "_a", "turnOn", "screenReaderSupport", "info", "type", "special", "stageCheck", "index", "invText", "buildings", "buildingsInfo", "active", "extra", "format", "activeStages", "i", "changeFontSize", "inputChange", "enable", "size", "changeFormat", "point", "htmlInput", "removeTextMovement", "add", "getClass", "playEvent", "event", "reset", "type", "stageIndex", "buildings", "player", "i", "visualUpdateUpgrades", "s", "noCostReset", "playerStart", "allowedToBeReset", "calculateBuildingsCost", "autoUpgradesSet", "calculateResearchCost", "visualUpdate", "autoElements", "calculateMaxLevel", "calculateStageInformation", "numbersUpdate", "calculateStageInformation", "stage", "buildings", "strange", "upgrades", "researches", "researchesExtra", "strangeness", "player", "buildingsInfo", "strangeInfo", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "global", "activeAll", "dischargeInfo", "discharge", "totalMultiplier", "vaporizationInfo", "vaporization", "calculateBuildingsCost", "check", "calculate", "accretion", "collapse", "elements", "collapseInfo", "redGiantEffect", "neutronStarEffect", "blackHoleEffect", "massGain", "clusterBoost", "elementsInfo", "buyBuilding", "index", "stageIndex", "auto", "checkBuilding", "getId", "galaxy", "extra", "stageExtra", "currency", "keep", "shop", "howMany", "microworld", "globalStart", "canAfford", "total", "budget", "totalBefore", "maxAfford", "cost", "format", "reset", "numbersUpdate", "milestoneCheck", "playEvent", "_a", "calculateGainedBuildings", "get", "time", "add", "stageGet", "buyUpgrades", "upgrade", "type", "checkUpgrade", "typeInfo", "i", "calculateMaxLevel", "calculateResearchCost", "stageNoReset", "stageCheck", "getUpgradeDescription", "visualUpdateUpgrades", "dischargeResetCheck", "research", "digits", "autoUpgradesSet", "autoUpgradesType", "which", "automatization", "s", "a", "b", "autoUpgradesBuy", "sort", "bought", "autoElements", "toggleSwap", "number", "change", "_b", "_c", "_d", "toggles", "toggle", "active", "status", "toggleBuy", "input", "strict", "stageResetCheck", "allowed", "stageReset", "stageAsyncReset", "ok", "Confirm", "Alert", "researchesAuto", "resetThese", "gain", "switchStage", "switchVacuum", "milestones", "count", "dischargeReset", "dischargeAsyncReset", "vaporizationResetCheck", "vaporizationReset", "vaporizationAsyncReset", "rankResetCheck", "requirement", "rankReset", "rankAsyncReset", "updateRankInfo", "collapseResetCheck", "canIncrease", "collapseReset", "collapseAsyncReset", "message", "switchTab", "tab", "subtab", "oldTab", "global", "getId", "inside", "subtabAmount", "checkTab", "globalStart", "oldSubtab", "visualUpdate", "numbersUpdate", "maxOfflineTime", "player", "maxOfflineMultiplier", "maxExportTime", "exportMultiplier", "invisibleUpdate", "timeLeft", "time", "toggles", "passedSeconds", "passedTime", "offline", "maxOffline", "buildingsInfo", "automatization", "s", "stageResetCheck", "collapseResetCheck", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "autoElements", "autoUpgradesBuy", "calculateStageInformation", "i", "buyBuilding", "calculateGainedBuildings", "_a", "buildings", "active", "format", "collapseInfo", "collapse", "shop", "galaxy", "e", "extra", "currency", "totalCost", "totalBuy", "totalBefore", "maxAfford", "getUpgradeDescription", "strange", "stage", "upgrades", "researchesAuto", "ASR", "strangeness", "milestones", "activeAll", "discharge", "vaporization", "playEvent", "accretion", "researchesExtra", "grid", "nebula", "cluster", "strange5", "index", "stageIndex", "type", "stageInfo", "typeInfo", "starIndex", "autoIndex", "elementsInfo", "stageText", "level", "visualUpdateUpgrades", "maxHTML", "progress", "upgradeHTML", "color", "max", "updateRankInfo", "accretionInfo", "image", "name", "input", "precision", "inputAbs", "digits", "endValue", "stageCheck", "HTMLSpecial", "text", "calculateResearchCost", "autoUpgradesSet", "calculateMaxLevel", "calculateBuildingsCost", "getClass", "toggleSwap", "main", "body", "stageWord", "switchTheme", "detectHotkey", "check", "checkEl", "shift", "isNumber", "key", "player", "numberKey", "buyBuilding", "stringKey", "stageAsyncReset", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "collapseAsyncReset", "activeAll", "global", "index", "switchStage", "tabs", "checkTab", "switchTab", "subtabs", "overlimit", "number", "technical", "result", "numbers", "array", "i", "power", "base", "compare", "allEqual", "digits", "type", "first", "second", "left", "right", "difference", "after", "negative", "base10", "target", "tooSmall", "test", "exponent", "player", "formated", "index", "convert", "Limit", "LimitAlt", "created", "createCalculator", "getId", "doPlus", "doMinus", "doMult", "doDiv", "doPow", "doLog", "doAbs", "doInf", "doNaN", "doMore", "doMoreEqual", "doLess", "doLessEqual", "doEqual", "doNotEqual", "doTrunc", "doFloor", "doCeil", "doRound", "inputFirst", "inputSecond", "oldMath", "newMath", "format", "Limit", "logAny", "number", "base", "getId", "id", "i", "Alert", "getClass", "idCollection", "reLoad", "firstLoad", "save", "theme", "load", "updatePlayer", "player", "offlineTime", "maxOffline", "maxOfflineTime", "format", "global", "mobileDeviceSupport", "screenReaderSupport", "changeFontSize", "removeTextMovement", "stageCheck", "checkPlayerValues", "playerStart", "toggleSwap", "toggleBuy", "createCalculator", "Confirm", "changeIntervals", "mobileDevice", "screenReader", "key", "detectHotkey", "buyBuilding", "image", "getUpgradeDescription", "buyUpgrades", "dischargeAsyncReset", "vaporizationAsyncReset", "rankAsyncReset", "stageAsyncReset", "collapseAsyncReset", "switchVacuum", "s", "input", "saveLoad", "setTheme", "autoUpgradesSet", "changeSaveFileName", "replaceSaveFileSpecials", "changeFormat", "pauseGame", "hideFooter", "tabList", "tabText", "switchTab", "subtabText", "switchStage", "pause", "intervals", "intervalsId", "mainInput", "numberInput", "visualInput", "autoSaveInput", "invisibleUpdate", "numbersUpdate", "visualUpdate", "type", "saveFile", "text", "versionCheck", "error", "multiplier", "exportMultiplier", "strangeGain", "a", "ok", "Prompt", "newValue", "check", "realName", "special", "replaceWith", "getDate", "current", "result", "minutes", "seconds", "offline"]
}
