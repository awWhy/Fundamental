{
  "version": 3,
  "sources": ["Source_TS/Player.ts", "Source_TS/Check.ts", "Source_TS/Special.ts", "Source_TS/Reset.ts", "Source_TS/Stage.ts", "Source_TS/Update.ts", "Source_TS/Hotkeys.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import { globalType, playerType } from './Types';\n\nexport const player: playerType = { //Only for information that need to be saved (cannot be calculated)\n    version: 'v0.0.8',\n    fileName: 'Fundamental, [stage], [date] [time]',\n    separator: ['', '.'], //[0] every 3 numbers, [1] point\n    stage: {\n        true: 1,\n        current: 1,\n        resets: 0,\n        export: 0,\n        input: 1\n    },\n    discharge: { //Stage 1\n        energyCur: 0,\n        energyMax: 0,\n        current: 0\n    },\n    vaporization: { //Stage 2\n        clouds: 1,\n        input: 10\n    },\n    accretion: { //Stage 3\n        rank: 0\n    },\n    collapse: { //Stage 4\n        mass: 0.01235,\n        stars: [0, 0, 0],\n        show: -1,\n        inputM: 4,\n        inputS: 2\n    },\n    intervals: {\n        main: 100,\n        numbers: 100,\n        visual: 1,\n        autoSave: 60\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now()\n    },\n    buildings: [ //If new building to be added, then also add extra's to 'global.buildingsInfo.producing' (only visual importance)\n        { //Quarks[0]\n            current: 3,\n            total: 3,\n            trueTotal: 3\n        },\n        { //Particles[1]\n            current: 0, //On hands\n            true: 0, //How many were bought\n            total: 0, //How many were gained this reset\n            trueTotal: 0 //How many were gained this stage, can be moved elsewhere for history if something\n        },\n        { //Atoms[2]\n            current: 0,\n            true: 0,\n            total: 0,\n            trueTotal: 0\n        },\n        { //Molecules[3]\n            current: 0,\n            true: 0,\n            total: 0,\n            trueTotal: 0\n        },\n        { //(First appears in stage 2)[4]\n            current: 0,\n            true: 0,\n            total: 0,\n            trueTotal: 0\n        },\n        { //(First appears in stage 2)[5]\n            current: 0,\n            true: 0,\n            total: 0,\n            trueTotal: 0\n        }\n    ],\n    strange: [ //Stage 5 special\n        { //Quarks[0]\n            true: 0, //For [0] its gained through reset\n            total: 0\n        }\n    ],\n    /* They are dynamically changed in reset('stage'); Only 1 array used across all stage's */\n    upgrades: [0, 0, 0, 0, 0, 0, 0, 0],\n    elements: [], //Stage 4 special\n    researches: [0, 0, 0, 0, 0, 0],\n    researchesExtra: [], //First appears in Stage 2\n    researchesAuto: [0, 0, 0, 0],\n    strangeness: [ //Stage 5 special\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0]\n    ],\n    toggles: { //Not all toggles are here, some are saved in local storage instead (support type and font size)\n        normal: [], //Auto added for every element with a class 'toggle'\n        /* Offline progress[0]; Stage confirm[1]; Discharge confirm[2]; Vaporization confirm[3]; Rank confirm[4]; Collapse confirm[5]\n           Hotkeys type[6] */\n        buildings: [], //Class 'toggleBuilding' ([0] is toggle all)\n        auto: [], //Class 'toggleAuto'\n        /* Stage[0], Discharge[1], Vaporization[2], Rank[3], Collapse[4],\n           Upgrades[5], Researches[6], ResearchesExtra[7] */\n        shop: {\n            howMany: 1,\n            input: 10,\n            strict: true\n        }\n    },\n    events: [false] //One time events, can be seen in playEvent();\n};\n\nexport const global: globalType = { //For information that doesn't need to be saved\n    tab: 'stage', //Tabs and subtabs have same name as buttons (for easier screen reader support)\n    subtab: {\n        /* Subtab format must be: [subtabName] + 'Current' */\n        settingsCurrent: 'settings',\n        researchCurrent: 'researches'\n        //Starting subtab name must be unlocked at same time as tab its part of (or change switchTab() logic)\n    },\n    tabList: { //Tabs and subtab need to be in same order as in footer\n        /* Subtabs format must be: [subtabName] + 'Subtabs' */\n        tabs: ['stage', 'research', 'strangeness', 'settings', 'special'],\n        settingsSubtabs: ['settings', 'stats'],\n        researchSubtabs: ['researches', 'elements']\n    },\n    footer: true,\n    mobileDevice: false,\n    screenReader: false,\n    versionInfo: {\n        changed: false,\n        log: 'Change log:'\n    },\n    timeSpecial: {\n        lastSave: 0,\n        maxOffline: 7200\n    },\n    stageInfo: {\n        word: ['Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic'], //Stage amount is based on lenght\n        textColor: ['var(--cyan-text-color)', 'var(--blue-text-color)', 'var(--gray-text-color)', 'var(--orange-text-color)', 'var(--darkorchid-text-color)'],\n        borderColor: ['#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2'],\n        priceName: 'Energy', //On what you buy upgrades and etc.\n        resourceName: 'Energy', //Special stage resource (only used for SR, as of now)\n        autoStage: [1, 0, 2, 3] //Stage at which you can buy auto research (All 0's need to be manually added into checkUpgrade)\n    },\n    automatization: { //It's [[upgradeIndex, upgradeCost]] sorted cheapest first\n        autoU: [], //Upgrades\n        autoR: [], //Researches\n        autoE: [] //Researches Extra\n    },\n    theme: {\n        stage: 1,\n        default: true\n    },\n    dischargeInfo: {\n        energyType: [0, 1, 5, 20],\n        base: 4,\n        step: 10,\n        next: 1\n    },\n    vaporizationInfo: {\n        get: 0\n    },\n    accretionInfo: {\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 5, 5, 5], //Upgrades\n        rankR: [1, 1, 2, 2, 3, 3, 4, 5], //Researches\n        rankE: [2, 3, 4, 5], //Researches Extra\n        rankCost: [5.97e27, 1e-7, 1e10, 1e24, 0, 0], //[4] is 5e29\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet'], //Name of rank (also alt attribute)\n        rankImage: ['Ocean%20world', 'Dust', 'Meteoroids', 'Asteroid', 'Planet', 'Giant'] //Source of image (file name and .png auto added)\n    },\n    collapseInfo: {\n        unlockB: [0, 0.01235, 0.23, 10, 40], //Buildings\n        unlockU: [0.01235, 0.076, 1.3, 10], //Upgrades\n        unlockR: [0.18, 0.3, 0.8, 2], //Researches\n        newMass: 0,\n        starCheck: [0, 0, 0]\n    },\n    intervalsId: {\n        main: 0,\n        numbers: 0,\n        visual: 0,\n        autoSave: 0\n    },\n    buildingsInfo: { //stageCheck(); will automatically change name and startCost\n        name: ['Quarks', 'Particles', 'Atoms', 'Molecules'],\n        type: ['producing', 'producing', 'producing', 'producing'],\n        cost: [0, 3, 24, 3],\n        startCost: [0, 3, 24, 3],\n        increase: [1.4, 1.4, 1.4, 1.4],\n        producing: [0, 0, 0, 0, 0, 0] //Extra's here, only for visual on load (not having NaN)\n    },\n    strangeInfo: {\n        stageGain: 0,\n        producing: [0, 0, 0]\n    },\n    /* Every stage using its own array (because I think its better this way) */\n    //Also effect text = '[0]', effect[n], '[1]'; Unless effect[n] === null, then text = '[0]'\n    //Research cost below 1 is rounded to first 2 digits after a dot (example: 0.123 = 0.12)\n    //Also effective upgrade amount is based on cost length\n    upgradesInfo: {\n        description: [\n            'Bigger electrons. Particles cost decreased.',\n            'Stronger protons. Particles produce more.',\n            'More neutrons. Increased gain of Particles.',\n            'Superposition. Unlocks a new reset tier.',\n            'Protium. Basic.',\n            'Deuterium. Heavy.',\n            'Tritium. Radioactive.',\n            'Nuclear fusion. More Energy.'\n        ],\n        effectText: [\n            ['Particle cost is ', ' times cheaper.'],\n            ['Particles produce ', ' times more Quarks.'],\n            ['Atoms produce ', ' times more Particles.'],\n            ['Ability to reset at any time, and if you had enough Energy, production for all buildings will be boosted by ', ' times.'],\n            ['Cost scaling is decreased by ', '.'],\n            ['Buildings (only self-made one\\'s) boost themselves by ', ' times.'],\n            ['Molecules produce Molecules. At a reduced rate. (', ' per second)'],\n            ['Unspent Energy boost Molecules production of themselves 1 to 1.']\n        ],\n        effect: [10, 10, 5, 4, 0.2, 1.01, 0, null],\n        cost: [9, 12, 36, 300, 800, 2000, 8000, 30000]\n    },\n    researchesInfo: {\n        description: [\n            \"Effect of 'Protium' upgrade is stronger.\",\n            \"Effect of 'Deuterium' upgrade is bigger.\",\n            \"Effect of 'Tritium' upgrade is better.\",\n            'Discharge goal requirements decreased.',\n            'Discharge bonus improved.',\n            'Radioactive Discharge.'\n        ],\n        effectText: [\n            ['Cost scaling is ', ' smaller for each level.'],\n            ['Each self-made building, boost each other by additional ', '.'],\n            ['Molecules now produce themselves ', ' times quicker.'],\n            ['Next goal for Discharge bonus scales by -', ' less'],\n            ['Discharge is now gives ', ' times bigger bonus per reached goal.'],\n            [\"Discharge will boost 'Tritium' upgrade for every reached goal + 1.\"]\n        ],\n        effect: [0.01, 0.01, 12, 1, 2, null],\n        cost: [1000, 3000, 12000, 6000, 10000, 20000],\n        scaling: [500, 2000, 2000, 26000, 0, 5000],\n        max: [9, 3, 9, 2, 1, 3]\n    },\n    upgradesS2Info: {\n        description: [\n            'Molecules to Moles. Even more Moles.',\n            'Vaporization. Unlock a new reset tier.',\n            'Surface tension. Allows for bigger Puddles.',\n            'Surface stress. Even bigger Puddles.',\n            'Stream. Spreads water around.',\n            'River. Spreads even more water.',\n            'Tsunami. Spreads water too fast.'\n        ],\n        effectText: [\n            ['Drops produce Moles, based on how many self-made Drops you have.\\n(Self-made amount will decrease, if less than overall amount)'],\n            ['Gain ability to convert Drops into Clouds. (Puddles get a boost equal to Cloud amount)'],\n            ['Puddles get boost based on Moles. (Equal to Moles ^ ', ')'],\n            ['Puddles get boost based on Drops. (Equal to Drops ^ ', ')'],\n            ['Ponds do not produce Puddles, instead they give direct bonus to them.\\nThis upgrade will give extra Puddles for every Pond you have. (', ' extra Puddles per Pond)'],\n            ['Lakes now give extra Ponds. (', ' extra Ponds per Lake)'],\n            ['Each Sea gives ', ' extra Lake.']\n        ],\n        effect: [null, null, 0.02, 0.02, 1, 1, 1],\n        cost: [1e4, 1e10, 1000, 10000, 2e9, 5e20, 1e28]\n    },\n    researchesS2Info: {\n        description: [\n            'Better Mole production.',\n            'All of it, is still around.',\n            'Stronger surface tension.',\n            'Stronger surface stress.',\n            'More streams.',\n            'Distributary channel.'\n        ],\n        effectText: [\n            ['Drops produce ', ' times more Moles.'],\n            ['Bonus to buildings is now based on total produced, rather than on hands. Level 1 for Drops, level 2 for Moles.'],\n            ['Surface tension upgrade is now +', ' stronger.'],\n            ['Surface stress upgrade is now +', ' stronger.'],\n            ['With more streams, you can have even more extra Puddles. (+', ' extra Puddles per Pond)'],\n            ['Rivers can split now, that allows even more Ponds per Lake. (+', ' per)']\n        ],\n        effect: [3, null, 0.02, 0.03, 1, 1],\n        cost: [20, 1e12, 1e5, 1e6, 1e14, 1e22],\n        scaling: [1.2, 1000, 1000, 10000, 1000, 100],\n        max: [9, 2, 3, 3, 2, 2]\n    },\n    researchesExtraS2Info: {\n        description: [\n            'Natural vaporization.',\n            'Rain Clouds.',\n            'Storm Clouds.'\n        ],\n        effectText: [\n            ['Clouds will now use total produced Drops instead, when formed.'],\n            ['Some Clouds will start pouring Drops themselves. (', ' per second)'],\n            ['Seas get a boost based on amount of Clouds. (Equal to ', ')']\n        ],\n        effect: [null, 0, 0],\n        cost: [1e16, 1e13, 1e26],\n        scaling: [0, 100, 0],\n        max: [1, 4, 1]\n    },\n    upgradesS3Info: { //Stage 3 upgrades also need to be added into accretionInfo.rankU\n        description: [\n            'Brownian motion.',\n            'Gas. New substance for Accretion.',\n            'Micrometeoroid. Unlock a new building.',\n            'Streaming instability.',\n            'Gravitational field. Unlock a new building.',\n            'Rubble pile.',\n            'Satellite system.',\n            'Magma ocean.',\n            'Atmosphere.',\n            'Pebble accretion.',\n            'Tidal force.',\n            'Ring system.'\n        ],\n        effectText: [\n            ['Through random collisions every self-made Dust speeds up Accretion speed. (By ', ')'],\n            ['Accretion speed is now quicker based on current Dust amount. (', ' boost)'],\n            ['Just a small meteoroid, but it will be a good base for what to come. (Also ', 'x boost to Dust)'],\n            ['Small bodies spontaneously concentrate into clumps. (Self-made Planetesimals boost each other by ', ')'],\n            ['Bodies are now massive enough to affect each other with gravity. (', 'x boost to Planetesimals)'],\n            ['Shattered pieces fall back together. Mass production is now even bigger. (By ', 'x)'],\n            ['Unlocks yet another building.'],\n            ['Core melted, Accretion speed increased. (Mass production increased by ', ')'],\n            ['Accretion speed increased again (because of drag and escape velocity), by ', '.'],\n            ['Accretion speed greatly increased by ', '.'],\n            ['Satellites scaling cost is now ', ' times smaller.'],\n            ['Satellites effect is increased.']\n        ],\n        effect: [1.01, 0, 2, 1.02, 4, 3, null, 2, 2, 10, 2, null],\n        cost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e22, 1e11, 1e23, 1e9, 1e26, 1e29]\n    },\n    researchesS3Info: { //Stage 3 researches also need to be added into accretionInfo.rankR\n        description: [\n            'More massive bodies.',\n            'Adhesion.',\n            'Space weathering.',\n            'Inelastic collisions.',\n            'Contact binary.',\n            'Gravity.',\n            'Planetary differentiation.',\n            'Aerodynamic drag.'\n        ],\n        effectText: [\n            ['Dust production is increased by ', '.'],\n            ['Dust particles cling to each other. (+', \" to 'Brownian motion')\"],\n            ['Planetesimals produce more Dust. (', ' times more)'],\n            ['Slow encounter velocities will result in a more efficient growth, so this research will make bodies lose more energy with each deflection. Mass production increased by ', '.'],\n            ['Some Planetesimals instead of shattering form a contact binary or even trinary. Planetesimals production boosted by ', 'x.'],\n            ['Planetesimals attract other bodies with own gravity. Planetesimals get boost to production based on unspent Mass.\\n(Total boost: ', ')'],\n            [\"'Magma Ocean' upgrade is stronger now. (\", 'x times)'],\n            [\"Accretion speed for 'Pebble accretion' increased again, by \", '.']\n        ],\n        effect: [3, 0.01, 3, 2, 5, 0, 1.5, 3],\n        cost: [1e-14, 1e-15, 1e-5, 1e5, 1e10, 1e15, 1e13, 1e12],\n        scaling: [11, 111, 22, 10, 100, 10, 100000, 1000],\n        max: [7, 3, 9, 4, 2, 5, 3, 3]\n    },\n    researchesExtraS3Info: { //Stage 3 researches also need to be added into accretionInfo.rankE\n        description: [\n            'Rank, can now boost Dust production.',\n            'Efficient growth.',\n            'Weight.',\n            'Viscosity.'\n        ],\n        effectText: [\n            ['Dust production is increased by another ', '.'],\n            ['Accretion speed is even quicker. Multiplied by current rank. (Total boost to Dust: ', ')'],\n            [\"'Gravitational field' upgrade will boost Protoplanets now as well. (Only half of effect)\"],\n            [\"'Gas' upgrade is now stronger.\"]\n        ],\n        effect: [0, 0, null, null],\n        cost: [1e-18, 1e-16, 1e26, 1e-12],\n        scaling: [10, 100, 0, 100],\n        max: [12, 5, 1, 20]\n    },\n    upgradesS4Info: { //Stage 4 upgrades also need to be added into collapseInfo.unlockU\n        description: [\n            'Gravitational collapse.',\n            'Proton-proton chain.',\n            'Carbon\u2013Nitrogen\u2013Oxygen cycle.',\n            'Helium fusion.'\n        ],\n        effectText: [\n            ['As fuel runs out, each star will boost production in its own special way.'],\n            ['Fuse with Protium instead of Deuterium. Unlocks a new building and something else.'],\n            ['CNO cycle is now a better source of Helium and Energy. Unlocks a new building and more of something else.'],\n            ['Through Triple-alpha and then Alpha process, yes, unlock a few more elements.']\n        ],\n        effect: [null, null, null, null],\n        cost: [100, 1000, 1e9, 1e50]\n    },\n    elementsInfo: {\n        description: [\n            '[0] Placeholder.',\n            '[1] Hydrogen.',\n            '[2] Helium.',\n            '[3] Lithium.',\n            '[4] Beryllium.',\n            '[5] Boron.',\n            '[6] Carbon.',\n            '[7] Nitrogen.',\n            '[8] Oxygen.',\n            '[9] Fluorine.',\n            '[10] Neon.',\n            '[11] Sodium.',\n            '[12] Magnesium.',\n            '[13] Aluminium.',\n            '[14] Silicon.',\n            '[15] Phosphorus.',\n            '[16] Sulfur.',\n            '[17] Chlorine.',\n            '[18] Argon.',\n            '[19] Potassium.',\n            '[20] Calcium.',\n            '[21] Scandium.',\n            '[22] Titanium.',\n            '[23] Vanadium.',\n            '[24] Chromium.',\n            '[25] Manganese.',\n            '[26] Iron.',\n            '[27] Cobalt.',\n            '[28] Nickel.'\n        ],\n        effectText: [\n            ['Placeholder'],\n            ['Most basic element, increases Brown dwarf production by ', '.'],\n            ['Fusion reaction by product, makes everything scale ', ' less.'],\n            ['First metal, Mass per Brown dwarf lightly increased.'],\n            ['Brittle earth metal, so is brittle increase to production. (', 'x to all Stars)'],\n            ['A new color, and a new boost to Mass gain that is based on current Dwarf Stars.'],\n            ['Base for organics, boost to Main-sequence stars through Red giants is now increased to power of ', '.'],\n            ['Most abundant uncombined Element in atmosphere of some Planets, also gives you ', \" extra levels to 'Star system'.\"],\n            ['An oxidizing agent, that will make everything scale even slower. (', ' less)'],\n            ['Highly toxic and reactive, +', \" to max level of 'Planetary system'.\"],\n            ['A noble ', 'x boost to Mass gain.'],\n            ['Through leaching, you can get ', \" extra level of 'Protoplanetary disk'.\"],\n            ['Stars are inside you, as well Neutrons stars boost to all Stars is now increased to the decimal logarithm.'],\n            ['Has a great affinity towards oxygen and to decrease cost of all Stars by ', '.'],\n            ['Number is 14, group is 14, also 1414\u00B0C and so is Mass gain increased by ', '.'],\n            ['One of the fundamentals of life and to make all of your Stars boost Mass.'],\n            ['From hot area, to give you +', \" max level to 'Star system'.\\nResearch softcapped past 1e10.\"],\n            [\"Extremely reactive to extend max level of 'Planetary system', by another \", ' levels.'],\n            ['Less noble boost, but bonus to Mass gain from Black holes scales a little better.'],\n            ['Don\\'t forget about it and get a ', 'x boost to all Stars.'],\n            ['Make yourself stronger with ', \" extra level of 'Star system'.\\nEffect is weaker, after 5 levels.\"],\n            ['A new color and a rare bonus of ^', ' to Mass effect.'],\n            ['New alloy allowing Red giants to be added into effective amount of Neutron stars.'],\n            ['Catalyst for your production of Elements. Black holes boost all Stars to the decimal logarithm.'],\n            ['No corrosion, only ^', ' boost to all Stars based on unspent Elements.'],\n            ['Brittle element, but not the bonus - ', \" more level in 'Star system'.\"],\n            ['Any further fusion will be an endothermic process. Gain ', 'x boost to all Stars, but what next?'],\n            ['While new Elements do not give much Energy, they still can give ', ' Strange quark during this Stage reset.'],\n            ['Slow to react, but gain +', ' Strange quarks for every 5 new digits anyway.']\n        ],\n        effect: [\n            null, 2, 0.1, null, 1.1, null, 1.5, 2, 0.05, 12,\n            2, 1, null, 1e3, 1.4, null, 1, 27, null, 3,\n            1, 1.1, null, null, 0.01, 1, 2, 1, 2\n        ],\n        cost: [ //player.collapse.show uses highest bought element to tell if you ever had it (so cost of all next one's has to be higher)\n            1e308, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 2e13, 1e14,\n            1e16, 1e20, 1e24, 1e25, 1.4e27, 1e30, 1e31, 5e31, 5e33, 1e35,\n            1e36, 1e38, 2e39, 3e41, 4e42, 1e45, 1e50, 1e55, 1e60\n        ]\n    },\n    researchesS4Info: { //Stage 4 researches also need to be added into collapseInfo.unlockR\n        description: [\n            'Planetary system.',\n            'Star system.',\n            'Protoplanetary disk.',\n            'Planetary nebula.'\n        ],\n        effectText: [\n            ['From Planetesimals to Planets, you get ', 'x boost to all Stars.'],\n            ['Each Star boost another Star. (Total to each Star is ', 'x)'],\n            [\"Improve effect of 'Planetary system', as well increases its max level by +\", '.'],\n            ['Matter expelled from Red giants, but you get ', 'x boost to Main-sequence stars anyway.']\n        ],\n        effect: [1.1, 1, 3, 10],\n        cost: [1000, 50000, 1e8, 1e12],\n        scaling: [10, 200, 1e12, 0],\n        max: [3, 2, 1, 1]\n    },\n    researchesExtraS4Info: {\n        description: [\n            'At the end of Star life.',\n            'White dwarfs.'\n        ],\n        effectText: [\n            ['', ' building now gives something new, upon collapse reset.'],\n            ['Red giants started to turn into White dwarfs. Main-sequence stars production increased based on amount of Red giants again.']\n        ],\n        effect: ['Main sequence', null],\n        cost: [1e6, 1e30],\n        scaling: [1e12, 0],\n        max: [3, 1]\n    },\n    researchesAutoInfo: { //If new one added, need to add it into player.researchesAuto and stageInfo.autoStage\n        description: [\n            'Make toggles.',\n            'Automatization for making buildings.',\n            'Increased max offline time.',\n            'Automatic upgrades.'\n        ],\n        effectText: [\n            ['Unlock ability to make multiple buildings at same time.'],\n            ['Will automatically make ', ' for you.'],\n            ['Research this to make max offline timer +', ' hours longer.'],\n            ['This is going to create all upgrades for you automatically. Each level increases highest type of upgrades to create.']\n        ],\n        effect: [null, 'Particles', 2, null],\n        cost: [300, 4000, 1e9, 1], //Price and scalling for [1] is auto changed in stageCheck();\n        scaling: [29700, 8000, 2e6, 1e10],\n        max: [1, 3, 1, 0]\n    },\n    strangenessInfo: [{ //If new one's added then better, just in case, add them into player.strangeness\n        description: [\n            'Stronger Discharge.',\n            'Cheaper Discharge.',\n            'Free Discharge.',\n            'Automatic Discarge.',\n            'More Particle Energy.',\n            \"Better 'Tritium' effect.\",\n            'Keep auto buildings on Stage reset.',\n            'More toggles.'\n        ],\n        effectText: [\n            ['Base Discharge effect is now +', '.'],\n            ['Discharge goal scales slower. (-', ')'],\n            ['You always have +', ' Discharge.'],\n            ['Automatically Discharge upon spending upgrades or if reached next goal.'],\n            ['Gain more Energy from creating Particles, +', '.'],\n            [\"Research for improved 'Tritium' upgrade is now better. (+\", ')'],\n            ['You start with auto for ', '.'],\n            ['Unlock a new toggle. Also keep them on Stage reset.']\n        ],\n        effect: [1, 1, 1, null, 1, 0.3, 'Particles', null],\n        cost: [1, 1, 2, 3, 4, 1, 2, 2],\n        scaling: [1.5, 1, 3, 0, 2, 0.25, 2, 3], //Right now only 2 digits allowed past point\n        max: [6, 4, 2, 1, 2, 10, 3, 1]\n    }, {\n        description: [\n            'More Moles.',\n            'Bigger Puddles.',\n            'More spread.',\n            'Cloud density.',\n            'Automatic Vaporization.',\n            'Keep auto buildings on Stage reset.',\n            'Longer max offline.'\n        ],\n        effectText: [\n            ['Mole production increased by ', 'x.'],\n            ['Puddles produce ', ' times more.'],\n            ['Increase max level of some researches by +', '.'],\n            ['Gain more Clouds from Vaporization. (Affected by softcap)'],\n            ['Automatically Vaporize when reach certain amount.'],\n            ['You start with auto for ', '.'],\n            ['Increase max offline time research level. Also keep them on Stage reset.']\n        ],\n        effect: [2, 2, 1, null, null, 'Drops', null],\n        cost: [1, 2, 2, 1, 3, 2, 1],\n        scaling: [0.2, 0.5, 1.5, 2, 0, 1, 1.25],\n        max: [9, 6, 3, 3, 1, 5, 10]\n    }, {\n        description: [\n            'Accretion speed increase.',\n            'Intense weathering.',\n            'More levels for Rank researches.',\n            'Improved Satellites.',\n            'Automatic Rank.',\n            'Keep auto buildings on Stage reset.',\n            'Automatization for Upgrades.'\n        ],\n        effectText: [\n            ['Accretion speed is, ', ' times faster. (Affected by softcap)'],\n            ['All Accretion buildings that produce another buildings now do it ', ' times faster.'],\n            ['Some Rank researches receive extra Max level.'],\n            ['Satellites now improve all Accretion buildings.'],\n            ['Automatically increase Rank when available.'],\n            ['You start with auto for ', '.'],\n            ['Unlock automatization for Upgrades / Researches. Also keep them on Stage reset.']\n        ],\n        effect: [2, 2, null, null, null, 'Cosmic dust', null],\n        cost: [1, 1, 3, 5, 3, 2, 5],\n        scaling: [0.75, 1.5, 1, 0, 0, 1, 1.5],\n        max: [8, 4, 2, 1, 1, 4, 3]\n    }, {\n        description: [\n            'Hotter Stars.',\n            'Cheaper Stars.',\n            'New Upgrade.',\n            'Main giants.',\n            'Remnants of past.',\n            'Automatic Collapse.',\n            'Keep auto buildings on Stage reset.',\n            'Daily gain.'\n        ],\n        effectText: [\n            ['All stars produce more Elements ', ' times that is.'],\n            ['Stars are ', ' times cheaper.'],\n            ['Unlock a new Upgrade.'],\n            ['', '% of Brown dwarf will turn into Red giants now.'],\n            ['Elements will be preserved through Collapse reset.'],\n            ['Stars will Collapse automatically.'],\n            ['You start with auto for ', '.'],\n            ['You get ', ' Strange quarks per day if you export save file.\\n(Can only claim full numbers)']\n        ],\n        effect: [1.5, 2, null, 25, null, null, 'Brown dwarfs', 1],\n        cost: [1, 1, 2, 2, 5, 3, 3, 4],\n        scaling: [1, 1.5, 1.5, 2, 0, 0, 1, 2.5],\n        max: [8, 4, 3, 2, 1, 1, 4, 1]\n    }],\n    lastUpgrade: [null, 'upgrades', false], //Allows to auto update last looked upgrade description\n    lastResearch: [null, 'researches', false]\n};\n\nconst createArray = (amount: number, special: 'toggle' | 'toggleAuto') => {\n    const array = [];\n    for (let i = 0; i < amount; i++) {\n        if (special === 'toggle') {\n            array.push(true);\n        } else if (special === 'toggleAuto') {\n            array.push(false);\n        }\n    }\n    return array;\n};\n\nconst togglesNL = document.getElementsByClassName('toggle').length;\nconst togglesBL = document.getElementsByClassName('toggleBuilding').length;\nconst togglesAL = document.getElementsByClassName('toggleAuto').length;\nObject.assign(player.toggles, { normal: createArray(togglesNL, 'toggle') });\nObject.assign(player.toggles, { buildings: createArray(togglesBL, 'toggleAuto') });\nObject.assign(player.toggles, { auto: createArray(togglesAL, 'toggleAuto') });\nexport const playerStart = structuredClone(player) as playerType;\nexport const globalStart = structuredClone(global) as globalType;\n/* For cases when ID of starting values can get changed */\nexport const startValue = (which: 'p' | 'g') => {\n    if (which === 'p') {\n        return structuredClone(playerStart);\n    } else { //Because TS can't see that \"startValue('p') type !== globalType\", there will be no return types\n        return structuredClone(globalStart);\n    }\n};\n\n/* Easier to change this way */\nexport const getUpgradeType = (type: 'upgrades' | 'researches' | 'researchesExtra', stageCur = player.stage.current) => {\n    if (stageCur === 1) {\n        //Stage 1 doesn't have researchesExtra\n        //Strangeness isn't allowed here, because it's array of array\n        return type + 'Info' as 'upgradesInfo' | 'researchesInfo';\n    } else {\n        return `${type}S${Math.min(stageCur, 4)}Info` as 'upgradesS2Info' | 'researchesS2Info' | 'researchesExtraS2Info';\n    }\n};\n\nexport const checkPlayerValues = () => {\n    const { stage } = player;\n    const upgradeType = getUpgradeType('upgrades') as 'upgradesS2Info';\n    const researchType = getUpgradeType('researches') as 'researchesS2Info';\n    const researchExtraType = getUpgradeType('researchesExtra') as 'researchesExtraS2Info';\n\n    //No visual update, until it can happen naturally\n    for (let i = 0; i < global[upgradeType].cost.length; i++) {\n        if (player.upgrades[i] > 1) {\n            player.upgrades[i] = 1;\n            console.warn(`Upgrade (${i + 1}) had an illegal value`);\n        }\n    }\n    if (stage.current >= 4) {\n        for (let i = 1; i < global.elementsInfo.cost.length; i++) {\n            if (player.elements[i] > 1) {\n                player.elements[i] = 1;\n                console.warn(`Element (${i}) had an illegal value`);\n            }\n        }\n    }\n    for (let i = 0; i < global[researchType].cost.length; i++) {\n        if (player.researches[i] > global[researchType].max[i]) {\n            player.researches[i] = global[researchType].max[i];\n            console.warn(`Research (${i + 1}) had level above maxium`);\n        }\n    }\n    if (stage.current !== 1) {\n        for (let i = 0; i < global[researchExtraType].cost.length; i++) {\n            if (player.researchesExtra[i] > global[researchExtraType].max[i]) {\n                player.researchesExtra[i] = global[researchExtraType].max[i];\n                console.warn(`Extra research (${i + 1}) had level above maxium`);\n            }\n        }\n    }\n    for (let i = 0; i < global.researchesAutoInfo.cost.length; i++) {\n        if (player.researchesAuto[i] > global.researchesAutoInfo.max[i]) {\n            player.researchesAuto[i] = global.researchesAutoInfo.max[i];\n            console.warn(`Research (${i + 1}) for automatization had level above maxium`);\n        }\n    }\n    if (stage.true >= 5) {\n        for (let s = 0; s < global.strangenessInfo.length; s++) {\n            for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n                if (player.strangeness[s][i] > global.strangenessInfo[s].max[i]) {\n                    player.strangeness[s][i] = global.strangenessInfo[s].max[i];\n                    console.warn(`Strangeness research (${i + 1}) had level above maxium`);\n                }\n            }\n        }\n    }\n};\n\nexport const updatePlayer = (load: playerType) => {\n    const playerCheck = startValue('p') as playerType;\n\n    //@ts-expect-error //Old save file format had player in it\n    if (Object.hasOwn(load, 'player')) { load = load.player; }\n    if (!Object.hasOwn(load, 'discharge')) {\n        throw new ReferenceError('This save file is missing important information and is most likely not from this game');\n    }\n\n    for (const i in playerStart) { //This should auto add missing information\n        if (!Object.hasOwn(load, i)) {\n            if (i === 'version') {\n                load.version = '0.0.0';\n            } else {\n                load[i as 'version'] = playerCheck[i as 'version']; //TS can't tell that player[i] of same type as player[i]\n            }\n        }\n    }\n    for (const i in load) { //This should remove old save file's object properties\n        if (!Object.hasOwn(playerStart, i)) {\n            delete load[i as keyof playerType];\n        }\n    }\n    /* Next one's will auto add missing part of already existing information */\n    const stageCur = load.stage.current;\n    const upgradeType = getUpgradeType('upgrades', stageCur) as 'upgradesS2Info';\n    const researchType = getUpgradeType('researches', stageCur) as 'researchesS2Info';\n    const researchExtraType = getUpgradeType('researchesExtra', stageCur) as 'researchesExtraS2Info';\n\n    if (playerStart.buildings.length > load.buildings.length) {\n        for (let i = load.buildings.length; i < playerStart.buildings.length; i++) {\n            load.buildings[i] = playerCheck.buildings[i];\n        }\n    }\n    if (global[upgradeType].cost.length > load.upgrades.length) {\n        for (let i = load.upgrades.length; i < global[upgradeType].cost.length; i++) {\n            load.upgrades[i] = 0;\n        }\n    }\n    if (global[researchType].cost.length > load.researches.length) {\n        for (let i = load.researches.length; i < global[researchType].cost.length; i++) {\n            load.researches[i] = 0;\n        }\n    }\n    if (stageCur !== 1) { //It's possible to put inside next one, but just want to be safe (against reference error's)\n        if (global[researchExtraType].cost.length > load.researchesExtra.length) {\n            for (let i = load.researchesExtra.length; i < global[researchExtraType].cost.length; i++) {\n                load.researchesExtra[i] = 0;\n            }\n        }\n    }\n    if (global.researchesAutoInfo.cost.length > load.researchesAuto.length) {\n        for (let i = load.researchesAuto.length; i < global.researchesAutoInfo.cost.length; i++) {\n            load.researchesAuto[i] = 0;\n        }\n    }\n    if (global.elementsInfo.cost.length > load.elements.length) {\n        for (let i = load.elements.length; i < global.elementsInfo.cost.length; i++) {\n            load.elements[i] = 0;\n        }\n    }\n    for (let s = 0; s < global.strangenessInfo.length; s++) {\n        if (!Array.isArray(load.strangeness[s])) {\n            load.strangeness[s] = [];\n        }\n        for (let i = load.strangeness[s]?.length; i < global.strangenessInfo[s].cost.length; i++) {\n            load.strangeness[s][i] = 0;\n        }\n    }\n    if (Object.hasOwn(load.toggles, 'normal')) {\n        if (playerStart.toggles.normal.length > load.toggles.normal.length) {\n            for (let i = load.toggles.normal.length; i < playerStart.toggles.normal.length; i++) {\n                load.toggles.normal[i] = playerCheck.toggles.normal[i];\n            }\n        }\n        if (playerStart.toggles.buildings.length > load.toggles.buildings.length) {\n            for (let i = load.toggles.buildings.length; i < playerStart.toggles.buildings.length; i++) {\n                load.toggles.buildings[i] = playerCheck.toggles.buildings[i];\n            }\n        }\n        if (playerStart.toggles.auto.length > load.toggles.auto.length) {\n            for (let i = load.toggles.auto.length; i < playerStart.toggles.auto.length; i++) {\n                load.toggles.auto[i] = playerCheck.toggles.auto[i];\n            }\n        }\n    } else { load.toggles = playerCheck.toggles; } //At some point all toggles were split\n\n    Object.assign(player, load);\n    /* Version changes (and change log's) */\n    const { versionInfo } = global;\n    const oldVersion = player.version;\n    versionInfo.changed = false;\n    versionInfo.log = 'Change log:';\n    if (player.version === '0.0.0') {\n        player.version = 'v0.0.1';\n        versionInfo.log += `\\n${player.version} - Stage 2 has properly came out; Buildings and Energy has been reset to prevent save file corruption, sorry`;\n        for (let i = 1; i <= 3; i++) { player.buildings[i].true = 0; }\n        player.discharge.energyCur = 0;\n        player.discharge.energyMax = 0;\n    }\n    if (player.version === 'v0.0.1') {\n        player.version = 'v0.0.2';\n        versionInfo.log += `\\n${player.version} - Added dynamic descriptions for upgrades, stats subtab, early Mobile device support`;\n        player.stage.resets = stageCur === 2 ? 1 : 0;\n    }\n    if (player.version === 'v0.0.2') {\n        player.version = 'v0.0.3';\n        versionInfo.log += `\\n${player.version} - Stage 3 is out, Stage 2 extended. Dynamic update for researches, new stats, full reset of toggles (sorry). Also max offline time is now 2 times bigger...`;\n    }\n    if (player.version === 'v0.0.3') {\n        player.version = 'v0.0.4';\n        versionInfo.log += `\\n${player.version} - All Stage's are now quicker (because too many people complain, but there isn't much of a content currently...), save file size decreased, small visual changes`;\n    }\n    if (player.version === 'v0.0.4') {\n        player.version = 'v0.0.5';\n        versionInfo.log += `\\n${player.version} - First part of Stage 4 is out, also small visual changes. Screen reader support updated (I forgot about it since stage 2...). Also testing new formula for making buildings and other minor stuff`;\n    }\n    if (player.version === 'v0.0.5') {\n        player.version = 'v0.0.6';\n        versionInfo.log += `\\n${player.version} - Minor bug fixes, also transition for theme change fixed. Minor QoL, hotkeys, event system reworked, save file names and others`;\n        player.events = stageCur === 1 && player.discharge.current > 4 ? [true] : [false];\n        player.collapse.show = -1;\n    }\n    if (player.version === 'v0.0.6') {\n        player.version = 'v0.0.7';\n        versionInfo.log += `\\n${player.version} - Stage 1 full rework, Stage 4 finished and early Stage 5 (it will be really slow, until next versions). Mobile device support updated. More hotkeys. Self-made buildings are now displayed outside of stat subtab`;\n        if (stageCur === 4) { player.elements[26] = 0; }\n        player.vaporization.input = 10;\n        player.collapse.inputM = 4;\n        player.collapse.inputS = 2;\n        player.stage.export = 0;\n        player.stage.input = 1;\n        //player.events[1] = false;\n    }\n    if (player.version === 'v0.0.7') {\n        player.version = 'v0.0.8';\n        versionInfo.log += `\\n${player.version} - Minor speed up to other Stage's, also new save file name options (I would recommend 'Fundamental, [stage], [date] [time]')`;\n    }\n    if (oldVersion !== player.version) { versionInfo.changed = true; }\n};\n", "import { global, player } from './Player';\n\n//Only checks if Tab/Subtab is unlocked\nexport const checkTab = (tab: string, subtab = 'none'): boolean => {\n    let tabUnl = false;\n    let subUnl = false;\n\n    switch (tab) {\n        case 'settings':\n            subUnl = true; //Falls through, just for lint\n        case 'stage':\n            tabUnl = true;\n            break;\n        case 'research':\n            if (player.stage.true > 1 || player.discharge.current >= 4) {\n                tabUnl = true;\n                if (subtab === 'researches') {\n                    subUnl = true;\n                } else if (subtab === 'elements') {\n                    if (player.stage.current >= 4 && player.upgrades[1] === 1) { subUnl = true; }\n                }\n            }\n            break;\n        case 'strangeness':\n            if (player.strange[0].total > 0) {\n                tabUnl = true;\n            }\n            break;\n        case 'special':\n            tabUnl = global.screenReader;\n    }\n\n    return subtab !== 'none' ? subUnl : tabUnl;\n};\n\n//Only checks if Building is unlocked\nexport const checkBuilding = (index: number): boolean => {\n    const { stage } = player;\n\n    if (index >= 1) {\n        if (stage.current === 1 || stage.current === 2) {\n            return true;\n        } else if (stage.current === 3) {\n            if (player.accretion.rank === 0) { return false; }\n            if (index === 1 || player.upgrades[(index - 1) * 2] === 1) { //Lazy\n                return true;\n            }\n        } else if (stage.current >= 4) {\n            if (player.collapse.mass < global.collapseInfo.unlockB[index]) { return false; }\n            if (index === 1 || index === 4 || player.upgrades[index - 1] === 1) { //Lazy\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n//Only checks if Upgrade is unlocked\nexport const checkUpgrade = (upgrade: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto'): boolean => {\n    const { stage } = player;\n\n    if (stage.current === 1 && type !== 'researchesAuto') { return true; }\n    if (stage.current === 3 && player.accretion.rank === 0) { return false; }\n\n    switch (type) {\n        case 'upgrades':\n            if (stage.current === 2) {\n                if (upgrade === 6 && player.strangeness[1][2] < 3) { return false; }\n                return true;\n            } else if (stage.current === 3) {\n                if (player.accretion.rank >= global.accretionInfo.rankU[upgrade]) { return true; }\n            } else if (stage.current >= 4) {\n                if (upgrade === 3 && player.strangeness[3][2] < 2) { return false; }\n                if (player.collapse.mass >= global.collapseInfo.unlockU[upgrade]) { return true; }\n            }\n            break;\n        case 'researches':\n            if (stage.current === 2) {\n                return true;\n            } else if (stage.current === 3) {\n                if (player.accretion.rank >= global.accretionInfo.rankR[upgrade]) { return true; }\n            } else if (stage.current >= 4) {\n                if (upgrade === 3 && player.strangeness[3][2] < 1) { return false; }\n                if (player.collapse.mass >= global.collapseInfo.unlockR[upgrade]) { return true; }\n            }\n            break;\n        case 'researchesExtra':\n            if (stage.current === 2) {\n                return true;\n            } else if (stage.current === 3) {\n                if (player.accretion.rank >= global.accretionInfo.rankE[upgrade]) { return true; }\n            } else if (stage.current >= 4) {\n                if (upgrade === 1 && player.strangeness[3][2] < 3) { return false; }\n                return true;\n            }\n            break;\n        case 'researchesAuto': //Auto should never buy these\n            if (upgrade === 1) { return true; }\n            if (stage.current === global.stageInfo.autoStage[upgrade]) {\n                return true;\n            }\n    }\n\n    return false;\n};\n", "import { getClass, getId } from './Main';\nimport { global, player } from './Player';\nimport { format, stageCheck } from './Update';\n\nexport const setTheme = (themeNumber: number, initial = false) => {\n    const { theme } = global;\n\n    if (initial) {\n        theme.default = true;\n        localStorage.removeItem('theme');\n    } else {\n        theme.default = false;\n        theme.stage = themeNumber;\n        localStorage.setItem('theme', `${themeNumber}`);\n    }\n    switchTheme();\n};\n\n//While most of it can be set with CSS, I think it's better not, because it might slow down page load\nexport const switchTheme = () => {\n    const { stage } = player;\n    const { stageInfo, theme } = global;\n    const body = document.body.style;\n\n    if (theme.default) {\n        theme.stage = stage.current;\n        getId('currentTheme').textContent = 'Default';\n    } else {\n        getId('currentTheme').textContent = stageInfo.word[theme.stage - 1];\n    }\n\n    /* Full reset, for easier out of order theme change */\n    body.setProperty('--transition-all', '1s');\n    body.setProperty('--transition-buttons', '700ms');\n    for (const text of ['upgrade', 'research', 'element']) {\n        getId(`${text}Effect`).style.color = '';\n        getId(`${text}Cost`).style.color = '';\n        if (text === 'upgrade') { continue; } //Not changed anywhere\n        getId(`${text}Text`).style.color = '';\n    }\n    body.removeProperty('--background-color');\n    body.removeProperty('--window-color');\n    body.removeProperty('--window-border');\n    body.removeProperty('--footer-color');\n    body.removeProperty('--button-main-color');\n    body.removeProperty('--button-main-border');\n    body.removeProperty('--button-main-hover');\n    body.removeProperty('--building-can-buy');\n    body.removeProperty('--button-tab-border');\n    body.removeProperty('--button-tab-active');\n    body.removeProperty('--button-extra-hover');\n    body.removeProperty('--button-delete-color');\n    body.removeProperty('--button-delete-hover');\n    body.removeProperty('--input-border-color');\n    body.removeProperty('--input-text-color');\n    body.removeProperty('--button-text-color');\n    body.removeProperty('--main-text-color');\n    body.removeProperty('--white-text-color');\n    //body.removeProperty('--cyan-text-color');\n    body.removeProperty('--blue-text-color');\n    body.removeProperty('--orange-text-color');\n    body.removeProperty('--gray-text-color');\n    body.removeProperty('--orchid-text-color');\n    body.removeProperty('--darkorchid-text-color');\n    body.removeProperty('--darkviolet-text-color');\n    body.removeProperty('--red-text-color');\n    body.removeProperty('--green-text-color');\n    body.removeProperty('--yellow-text-color');\n    getId('dropStat').style.color = '';\n    getId('waterStat').style.color = '';\n    /* And set new colors */\n    switch (theme.stage) {\n        case 2:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n            }\n            body.setProperty('--background-color', '#070026');\n            body.setProperty('--window-color', '#000052');\n            body.setProperty('--window-border', 'blue');\n            body.setProperty('--footer-color', '#0000db');\n            body.setProperty('--button-main-color', 'blue');\n            body.setProperty('--button-main-border', '#427be1');\n            body.setProperty('--button-main-hover', '#1515cf');\n            body.setProperty('--button-tab-border', '#376ac5');\n            body.setProperty('--button-tab-active', '#990000');\n            body.setProperty('--button-extra-hover', '#2400d7');\n            body.setProperty('--input-border-color', '#4747ff');\n            body.setProperty('--input-text-color', 'dodgerblue');\n            body.setProperty('--main-text-color', 'dodgerblue');\n            body.setProperty('--gray-text-color', '#9b9b9b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#a973ff');\n            body.setProperty('--green-text-color', '#82cb3b');\n            body.setProperty('--red-text-color', '#f70000');\n            getId('dropStat').style.color = '#3099ff';\n            getId('waterStat').style.color = '#3099ff';\n            break;\n        case 3:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Cost`).style.color = 'var(--green-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#000804');\n            body.setProperty('--window-color', '#2e1200');\n            body.setProperty('--window-border', '#31373e');\n            body.setProperty('--footer-color', '#221a00');\n            body.setProperty('--button-main-color', '#291344');\n            body.setProperty('--button-main-border', '#404040');\n            body.setProperty('--button-main-hover', '#361f52');\n            body.setProperty('--button-tab-border', '#484848');\n            body.setProperty('--button-tab-active', '#8d4c00');\n            body.setProperty('--button-extra-hover', '#5a2100');\n            body.setProperty('--button-delete-color', '#891313');\n            body.setProperty('--button-delete-hover', '#a10a0a');\n            body.setProperty('--input-border-color', '#8b4a00');\n            body.setProperty('--input-text-color', '#e77e00');\n            body.setProperty('--main-text-color', '#8f8f8f');\n            body.setProperty('--white-text-color', '#dfdfdf');\n            body.setProperty('--orange-text-color', '#f58600');\n            body.setProperty('--green-text-color', '#00db00');\n            getId('dropStat').style.color = '#3099ff';\n            getId('waterStat').style.color = '#3099ff';\n            break;\n        case 4:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--blue-text-color)';\n            }\n            body.setProperty('--background-color', '#140e04');\n            body.setProperty('--window-color', '#4e0000');\n            body.setProperty('--window-border', '#894800');\n            body.setProperty('--footer-color', '#4e0505');\n            body.setProperty('--button-main-color', '#6a3700');\n            body.setProperty('--button-main-border', '#9f6700');\n            body.setProperty('--button-main-hover', '#914b00');\n            body.setProperty('--building-can-buy', '#007f95');\n            body.setProperty('--button-tab-border', '#af5d00');\n            body.setProperty('--button-tab-active', '#008297');\n            body.setProperty('--button-extra-hover', '#605100');\n            body.setProperty('--button-delete-color', '#8f0000');\n            body.setProperty('--button-delete-hover', '#ad0000');\n            body.setProperty('--input-border-color', '#008399');\n            body.setProperty('--input-text-color', '#05c3c3');\n            body.setProperty('--button-text-color', '#d9d900');\n            body.setProperty('--main-text-color', 'darkorange');\n            body.setProperty('--white-text-color', '#e5e500');\n            body.setProperty('--blue-text-color', '#2694ff');\n            body.setProperty('--gray-text-color', '#8b8b8b');\n            body.setProperty('--darkorchid-text-color', '#c71bff');\n            body.setProperty('--darkviolet-text-color', '#9859ff');\n            body.setProperty('--red-text-color', 'red');\n            body.setProperty('--green-text-color', '#00e600');\n            body.setProperty('--yellow-text-color', 'var(--green-text-color)');\n            break;\n        case 5:\n            for (const text of ['upgrade', 'research', 'element']) {\n                getId(`${text}Effect`).style.color = 'var(--green-text-color)';\n                getId(`${text}Cost`).style.color = 'var(--red-text-color)';\n                if (text === 'upgrade') { continue; }\n                getId(`${text}Text`).style.color = 'var(--orange-text-color)';\n            }\n            body.setProperty('--background-color', '#1f001f');\n            body.setProperty('--window-color', '#001d42');\n            body.setProperty('--window-border', '#35466e');\n            body.setProperty('--footer-color', '#390052');\n            body.setProperty('--button-main-color', '#4a008f');\n            body.setProperty('--button-main-border', '#8a0049');\n            body.setProperty('--button-main-hover', '#6800d6');\n            body.setProperty('--building-can-buy', '#8603ff');\n            body.setProperty('--button-tab-border', '#9d0054');\n            body.setProperty('--button-tab-active', '#8500ff');\n            body.setProperty('--button-extra-hover', '#3b0080');\n            body.setProperty('--button-delete-color', '#800000');\n            body.setProperty('--button-delete-hover', '#9b1212');\n            body.setProperty('--input-border-color', '#3656a1');\n            body.setProperty('--input-text-color', '#6a88cd');\n            body.setProperty('--button-text-color', '#fc9cfc');\n            body.setProperty('--main-text-color', '#c000ff');\n            body.setProperty('--white-text-color', '#ff79ff');\n            body.setProperty('--orchid-text-color', '#ff00f4');\n            body.setProperty('--darkorchid-text-color', '#c000ff');\n            body.setProperty('--darkviolet-text-color', '#9f52ff');\n            body.setProperty('--yellow-text-color', 'var(--darkviolet-text-color)');\n    }\n    setTimeout(() => {\n        body.removeProperty('--transition-all');\n        body.removeProperty('--transition-buttons');\n    }, 1000);\n};\n\n/* If any type of Alert is already being shown, then it will auto resolve itself (false for Confirm and null for Prompt)\n   Because to throw an Error (or any type of reject()) is a bit of a pain, and feels unnecessary */\nexport const Alert = (text: string) => { void AlertWait(text); };\nconst AlertWait = async(text: string): Promise<void> => { //Export if needed\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (alert)');\n            resolve();\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        blocker.style.display = '';\n\n        const key = async(button: KeyboardEvent) => {\n            if (button.key === 'Escape' || button.key === 'Enter') {\n                close();\n            }\n        };\n        const close = () => {\n            blocker.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            resolve();\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (confirm)');\n            resolve(false);\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const cancel = getId('cancelBtn') as HTMLButtonElement;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        blocker.style.display = '';\n        cancel.style.display = '';\n\n        const yes = () => { close(true); };\n        const no = () => { close(false); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                no();\n            } else if (button.key === 'Enter') {\n                yes();\n            }\n        };\n        const close = (result: boolean) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\nexport const Prompt = async(text: string): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        const blocker = getId('blocker') as HTMLDivElement;\n        if (blocker.style.display === '') {\n            console.warn('Wasn\\'t able to show another window (prompt)');\n            resolve(null);\n            return;\n        }\n\n        getId('alertText').textContent = text;\n        const input = getId('inputArea') as HTMLInputElement;\n        const cancel = getId('cancelBtn') as HTMLButtonElement;\n        const confirm = getId('confirmBtn') as HTMLButtonElement;\n        input.value = '';\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        input.focus();\n\n        const yes = () => { close(input.value); };\n        const no = () => { close(null); };\n        const key = (button: KeyboardEvent) => {\n            if (button.key === 'Escape') {\n                no();\n            } else if (button.key === 'Enter') {\n                yes();\n            }\n        };\n        const close = (result: string | null) => {\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            document.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', no);\n            resolve(result);\n        };\n        document.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', no);\n    });\n};\n\n/* This is a pain, I had to remove animation for it to play again... Though I still think it's better than adding a class... */\nexport const hideFooter = () => {\n    const footer = getId('footer') as HTMLDivElement;\n    const hide = getId('footerColor') as HTMLDivElement;\n    const toggle = getId('hideToggle') as HTMLDivElement;\n    const text = getId('hideText') as HTMLParagraphElement;\n    const arrow = getId('hideArrow') as HTMLDivElement;\n\n    global.footer = !global.footer;\n    toggle.removeEventListener('click', hideFooter);\n    if (global.footer) {\n        hide.style.display = '';\n        arrow.style.transform = '';\n        footer.style.animation = 'hide 1s forwards reverse';\n        arrow.style.animation = 'rotate 1s forwards reverse';\n        text.textContent = 'Hide';\n    } else {\n        footer.style.animation = 'hide 1s backwards';\n        arrow.style.animation = 'rotate 1s backwards';\n        text.textContent = 'Show';\n        setTimeout(() => { //While forwards would work, I'm lazy to pause animation\n            hide.style.display = 'none';\n            arrow.style.transform = 'rotate(180deg)';\n        }, 1000);\n    }\n    setTimeout(() => {\n        footer.style.animation = '';\n        arrow.style.animation = '';\n        toggle.addEventListener('click', hideFooter);\n    }, 1000);\n};\n\nexport const mobileDeviceSupport = (change = false) => {\n    let turnOn = Boolean(localStorage.getItem('mobile device') ?? false);\n    const toggle = getId('mobileDeviceToggle') as HTMLButtonElement;\n\n    if (change) { turnOn = !turnOn; }\n\n    if (turnOn) {\n        toggle.textContent = 'ON';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n        localStorage.setItem('mobile device', 'true');\n        global.mobileDevice = true;\n        if (change) { Alert('For full support please refresh the page. This will add on touch start check upgrade and touch end create an upgrade.\\n(For non mobile device this will cause issues)'); }\n    } else {\n        toggle.textContent = 'OFF';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n        localStorage.removeItem('mobile device');\n        global.mobileDevice = false;\n    }\n    if (global.screenReader) { toggle.setAttribute('aria-label', `Mobile device support is ${toggle.textContent}`); }\n};\n\nexport const screenReaderSupport = (info = false as boolean | number, type = 'toggle' as 'toggle' | 'button', special = 'building' as 'reload' | 'building' | 'resource' | 'strange') => {\n    switch (type) {\n        case 'toggle': {\n            const change = info as boolean;\n            let turnOn = Boolean(localStorage.getItem('screen reader') ?? false);\n            const toggle = getId('screenReaderToggle') as HTMLButtonElement;\n\n            if (change) { turnOn = !turnOn; }\n            /* Its a nightmare to try and remove event listener's...\n               So as of now refresh of page is the best (and only) way I know how\n               Also I'm super confused on how tabindex works... */\n            if (turnOn) {\n                toggle.textContent = 'ON';\n                toggle.style.color = 'var(--red-text-color)';\n                toggle.style.borderColor = 'crimson';\n                toggle.setAttribute('aria-label', 'Screen reader support is ON');\n                localStorage.setItem('screen reader', 'true');\n                global.screenReader = true;\n                if (special === 'reload') {\n                    /* This is recommended options, being set after every reload */\n                    player.toggles.shop.strict = false; //Want to decrease amount of items you can tab into\n                }\n                stageCheck('soft'); //Update related information instanly\n                if (change) { Alert('You will get: focus event on upgrades to get description (Refresh page to get it, also I need feedback on it), special tab to check progress and more.\\n(For non screen readers this will cause issues)'); }\n            } else {\n                toggle.textContent = 'OFF';\n                toggle.style.color = '';\n                toggle.style.borderColor = '';\n                toggle.setAttribute('aria-label', 'Screen reader support is OFF');\n                localStorage.removeItem('screen reader');\n                global.screenReader = false;\n            }\n            break;\n        }\n        case 'button': {\n            const index = info as number;\n            const { stage } = player;\n            const invText = getId('invisibleBought') as HTMLLabelElement;\n\n            if (special === 'building') {\n                const { buildings } = player;\n                const { buildingsInfo } = global;\n\n                let extra = index - 1;\n                if (stage.current >= 4) { extra = 0; }\n\n                if (index === 0) {\n                    invText.textContent = `You have ${format(buildings[0].current)} ${buildingsInfo.name[0]}`;\n                } else {\n                    invText.textContent = `You have ${format(buildings[index].current)} ${buildingsInfo.name[index]}${buildings[index].current !== buildings[index].true ? `, out of them ${format(buildings[index].true, 0)} are self-made ones` : ''}, they are ${buildingsInfo.type[index] === 'producing' ? `producing ${format(buildingsInfo.producing[index])} ${buildingsInfo.name[extra]} per second` : `improving production of ${buildingsInfo.name[extra]} by ${format(buildingsInfo.producing[index])}`}${player.researchesAuto[1] >= index ? `, auto is ${player.toggles.buildings[index] ? 'on' : 'off'}` : ''}`;\n                }\n            } else if (special === 'resource') {\n                if (stage.current === 1) {\n                    invText.textContent = `You have ${format(player.discharge.energyCur)} Energy${player.upgrades[3] === 1 ? `, next discharge goal is ${format(global.dischargeInfo.next)} Energy, you reached goal ${format(player.discharge.current, 0)} times` : ''}${player.strangeness[0][2] >= 1 ? `, you also have +${format(player.strangeness[0][2], 0)} free goals.` : ''}`;\n                } else if (stage.current === 2) {\n                    invText.textContent = `You have ${format(player.vaporization.clouds)} Clouds${global.vaporizationInfo.get > 1 ? `, you can get +${format(global.vaporizationInfo.get)} if you reset now` : ''}`;\n                } else if (stage.current >= 4) {\n                    invText.textContent = `You have ${format(player.collapse.mass)} Mass${global.collapseInfo.newMass >= player.collapse.mass ? `, you can get +${format(global.collapseInfo.newMass - player.collapse.mass)} if you reset now` : ''}${player.researchesExtra[0] >= 1 ? `, also ${format(global.collapseInfo.starCheck[0], 0)} Red giants` : ''}${player.researchesExtra[0] >= 2 ? `,  ${format(global.collapseInfo.starCheck[1], 0)} Neutron stars` : ''}${player.researchesExtra[0] >= 3 ? ` and also ${format(global.collapseInfo.starCheck[2], 0)} Black holes` : ''}`;\n                }\n            } else if (special === 'strange') {\n                invText.textContent = `You have ${format(player.strange[0].true, 0)} Strange quarks${global.strangeInfo.producing[0] > 0 ? ` they are boosting production by ${format(global.strangeInfo.producing[0])}` : ''}, you will gain ${format(global.strangeInfo.stageGain, 0)} on Stage reset`;\n            }\n            break;\n        }\n    }\n};\n\nexport const changeFontSize = (change = false, inputChange = false) => {\n    const body = document.body.style;\n    const input = getId('customFontSize') as HTMLInputElement;\n    const toggle = getId('fontSizeToggle') as HTMLButtonElement;\n    let enable = Boolean(localStorage.getItem('enableCustomFontSize')) ?? false;\n    let size = localStorage.getItem('fontSize');\n\n    if (change) { enable = !enable; }\n\n    if (!enable) {\n        body.removeProperty('--font-size');\n        localStorage.removeItem('fontSize');\n        localStorage.removeItem('enableCustomFontSize');\n        toggle.textContent = 'OFF';\n        toggle.style.color = 'var(--red-text-color)';\n        toggle.style.borderColor = 'crimson';\n    } else {\n        if (size === null || Number(size) < 10 || Number(size) > 32 || inputChange) {\n            size = `${Math.min(Math.max(Math.trunc(Number(input.value) * 10) / 10, 10), 32)}`;\n            localStorage.setItem('fontSize', size);\n        }\n        body.setProperty('--font-size', `${size}px`);\n        input.value = size;\n        localStorage.setItem('enableCustomFontSize', 'true');\n        toggle.textContent = 'ON';\n        toggle.style.color = '';\n        toggle.style.borderColor = '';\n    }\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = point ?\n        getId('decimalPoint') as HTMLInputElement :\n        getId('thousandSeparator') as HTMLInputElement;\n    const allowed = ['.', ',', ' ', '_', '^', '\"', \"'\", '`', '|'].includes(htmlInput.value);\n    if (!allowed || (point && (player.separator[0] === htmlInput.value || htmlInput.value.length === 0)) || (!point && player.separator[1] === htmlInput.value)) {\n        htmlInput.value = point ? '.' : '';\n        return;\n    }\n    if (point) {\n        player.separator[1] = htmlInput.value;\n    } else {\n        player.separator[0] = htmlInput.value;\n    }\n};\n\nexport const removeTextMovement = (change = false) => {\n    const add = getClass('statFoot');\n\n    if (change) {\n        if (localStorage.getItem('textMove') === null) {\n            localStorage.setItem('textMove', 'false');\n        } else {\n            localStorage.removeItem('textMove');\n        }\n    }\n\n    for (const i of add) {\n        i.classList.contains('noMove') ?\n            i.classList.remove('noMove') :\n            i.classList.add('noMove');\n    }\n};\n\nexport const playEvent = (event: number, index = 0) => {\n    if (getId('blocker').style.display === '') { return; } //Return if Alert is being shown, event should be called later again (if not then will need to setTimeout())\n    player.events[index] = true;\n\n    switch (event) {\n        case 0: //[0] Discharge explanation\n            Alert('Since you can\\'t get back Energy that you had spent, you will need to Discharge anytime you spend it.\\nBut for the first time, you can keep your Energy');\n            if (player.stage.true === 1) { player.discharge.energyCur += 800; }\n            break;\n        case 1: //[0] Clouds softcap\n            Alert('Cloud density is too high... Getting more will be harder now');\n            break;\n        case 2: //[0] Accretion new rank unlocked\n            Alert('Getting more Mass, seems impossible. We need to change our approach, next Rank is going to be Softcapped');\n            if (player.accretion.rank === 4) {\n                global.accretionInfo.rankCost[4] = 5e29;\n                getId('rankReset').textContent = 'Next rank is 5e29 Mass';\n            }\n            break;\n        case 3: //[0] Collapse explanation\n            Alert('Any Collapse reset from now on will give extra rewards, but you can only Collapse when can get more or equal Mass.\\nEach reward effect will be hidden to you for now');\n    }\n};\n", "import { getUpgradeType, global, player, playerStart } from './Player';\nimport { switchTheme } from './Special';\nimport { autoBuyUpgrades, calculateBuildingsCost, calculateResearchCost, calculateStageInformation } from './Stage';\nimport { numbersUpdate, stageCheck, visualUpdateUpgrades } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'stage') => {\n    const { stage, buildings } = player;\n\n    switch (type) {\n        case 'discharge': //Buildings reset at bottom\n            player.discharge.energyCur = 0;\n            buildings[0].current = 3;\n            break;\n        case 'vaporization':\n            buildings[0].current = 0.0028;\n            for (let i = 0; i < player.upgrades.length; i++) {\n                if (i === 1) { continue; }\n                player.upgrades[i] = 0;\n                visualUpdateUpgrades(i, 'upgrades');\n            }\n            autoBuyUpgrades('upgrades', true);\n            break;\n        case 'rank':\n            buildings[0].current = 1e-19;\n            for (let i = 0; i < player.upgrades.length; i++) {\n                player.upgrades[i] = 0;\n                visualUpdateUpgrades(i, 'upgrades');\n            }\n            for (let i = 0; i < player.researches.length; i++) {\n                player.researches[i] = 0;\n                calculateResearchCost(i, 'researches');\n                visualUpdateUpgrades(i, 'researches');\n            }\n            autoBuyUpgrades('upgrades', true);\n            autoBuyUpgrades('researches', true);\n            break;\n        case 'collapse':\n            buildings[0].current = 1;\n            if (player.collapse.mass < 10) {\n                for (let i = 1; i < player.upgrades.length; i++) {\n                    player.upgrades[i] = 0;\n                    visualUpdateUpgrades(i, 'upgrades');\n                }\n                autoBuyUpgrades('upgrades', true);\n            }\n            if (player.strangeness[3][4] < 1) {\n                for (let i = 1; i < player.elements.length; i++) {\n                    player.elements[i] = 0;\n                    visualUpdateUpgrades(i, 'elements');\n                }\n            }\n            for (let i = 0; i < player.researches.length; i++) {\n                player.researches[i] = 0;\n                calculateResearchCost(i, 'researches');\n                visualUpdateUpgrades(i, 'researches');\n            }\n            for (let i = 1; i < player.researchesExtra.length; i++) {\n                player.researchesExtra[i] = 0;\n                calculateResearchCost(i, 'researchesExtra');\n                visualUpdateUpgrades(i, 'researchesExtra');\n            }\n            autoBuyUpgrades('researches', true);\n            autoBuyUpgrades('researchesExtra', true);\n            break;\n        case 'stage': { //Checks what stage is right now and resets parts that are only used in that stage\n            player.upgrades = [];\n            player.elements = [];\n            player.researches = [];\n            player.researchesExtra = [];\n            const { upgrades, researches, researchesExtra } = player;\n\n            for (let i = 1; i < playerStart.buildings.length; i++) {\n                buildings[i].current = 0;\n                buildings[i].true = 0;\n                buildings[i].total = 0;\n                buildings[i].trueTotal = 0;\n            }\n\n            const upgradeType = getUpgradeType('upgrades') as 'upgradesS2Info';\n            const researchType = getUpgradeType('researches') as 'researchesS2Info';\n            const researchExtraType = getUpgradeType('researchesExtra') as 'researchesExtraS2Info';\n\n            for (let i = 0; i < global[upgradeType].cost.length; i++) {\n                upgrades[i] = 0;\n            }\n            for (let i = 0; i < global[researchType].cost.length; i++) {\n                researches[i] = 0;\n            }\n            if (stage.current !== 1) {\n                for (let i = 0; i < global[researchExtraType].cost.length; i++) {\n                    researchesExtra[i] = 0;\n                }\n            }\n\n            switch (stage.current) {\n                case 1:\n                    buildings[0].current = 3;\n                    player.discharge.energyCur = 0;\n                    player.discharge.energyMax = 0;\n                    player.discharge.current = 0;\n                    break;\n                case 2:\n                    buildings[0].current = 0.0028;\n                    player.vaporization.clouds = 1;\n                    break;\n                case 3:\n                    if (player.accretion.rank === 0) {\n                        buildings[0].current = 5.97e27;\n                    } else {\n                        buildings[0].current = 1e-19;\n                        player.accretion.rank = 1;\n                    }\n                    break;\n                case 4: //And every after\n                    buildings[0].current = 1;\n                    player.collapse.mass = 0.01235;\n                    player.collapse.stars = [0, 0, 0];\n                    player.collapse.show = -1;\n                    for (let i = 0; i < global.elementsInfo.cost.length; i++) {\n                        player.elements[i] = 0;\n                    }\n            }\n            buildings[0].total = stage.current !== 3 ? buildings[0].current : 1e-19;\n            buildings[0].trueTotal = buildings[0].total;\n            player.events[0] = stage.true > stage.current; //true : false\n\n            stageCheck();\n            switchTheme();\n        }\n    }\n    if (type !== 'stage') {\n        buildings[0].total = buildings[0].current;\n        for (let i = 1; i < playerStart.buildings.length; i++) {\n            buildings[i].current = 0;\n            buildings[i].true = 0;\n            buildings[i].total = 0;\n            calculateBuildingsCost(i);\n        }\n    }\n    calculateStageInformation(); //Invisible update here will break autoBuyUpgrades();\n    numbersUpdate();\n};\n", "import { checkBuilding, checkUpgrade } from './Check';\nimport { getId } from './Main';\nimport { getUpgradeType, global, globalStart, player } from './Player';\nimport { reset } from './Reset';\nimport { Alert, Confirm, switchTheme } from './Special';\nimport { format, getUpgradeDescription, invisibleUpdate, numbersUpdate, stageCheck, updateRankInfo, visualUpdateUpgrades } from './Update';\n\nexport const calculateStageInformation = () => {\n    const { stage, buildings, upgrades, researches, researchesExtra, strangeness } = player;\n    const { buildingsInfo } = global;\n\n    if (stage.true >= 5) {\n        global.strangeInfo.stageGain = 0;\n        if (stage.current >= 4) {\n            if (player.elements[27] === 1) { global.strangeInfo.stageGain += 1; }\n            if (player.elements[28] === 1) { global.strangeInfo.stageGain += Math.trunc((Math.log10(player.buildings[0].current) - 55) / 2.5); }\n        }\n        //global.strangeInfo.producing[0] = 0;\n    }\n    if (stage.current === 1) {\n        const { dischargeInfo, upgradesInfo, researchesInfo } = global;\n        const { discharge } = player;\n\n        dischargeInfo.base = 4 + strangeness[0][0];\n        upgradesInfo.effect[3] = dischargeInfo.base * 2 ** researches[4];\n        upgradesInfo.effect[5] = Math.round((1.02 + 0.01 * researches[1]) * 100) / 100;\n        const totalMultiplier = upgradesInfo.effect[3] ** (discharge.current + strangeness[0][2]);\n\n        buildingsInfo.producing[3] = 0.3 * buildings[3].current * totalMultiplier;\n        if (upgrades[5] === 1) { buildingsInfo.producing[3] *= upgradesInfo.effect[5] ** buildings[3].true; }\n\n        researchesInfo.effect[2] = 12 + strangeness[0][5] * 3 / 10;\n        if (buildingsInfo.producing[3] > 1) { //Because Math.log(0) === -infinity and Math.log(1) === 0\n            upgradesInfo.effect[6] = Math.log(buildingsInfo.producing[3]) * researchesInfo.effect[2] ** player.researches[2]; //Add Math.min if [3] === Infinity\n            if (upgrades[7] === 1) { upgradesInfo.effect[6] *= discharge.energyCur; }\n            if (researches[5] >= 1) { upgradesInfo.effect[6] *= (discharge.current + strangeness[0][2] + 1) * researches[5]; }\n        } else { upgradesInfo.effect[6] = 0; }\n\n        buildingsInfo.producing[2] = 0.4 * buildings[2].current * totalMultiplier;\n        if (upgrades[2] === 1) { buildingsInfo.producing[2] *= 5; }\n        if (upgrades[5] === 1) { buildingsInfo.producing[2] *= upgradesInfo.effect[5] ** buildings[2].true; }\n\n        buildingsInfo.producing[1] = 0.5 * buildings[1].current * totalMultiplier;\n        if (upgrades[1] === 1) { buildingsInfo.producing[1] *= 10; }\n        if (upgrades[5] === 1) { buildingsInfo.producing[1] *= upgradesInfo.effect[5] ** buildings[1].true; }\n\n        dischargeInfo.step = 10 - researches[3] - strangeness[0][1];\n        dischargeInfo.next = Math.round(dischargeInfo.step ** player.discharge.current);\n        if (discharge.energyMax < discharge.energyCur) { discharge.energyMax = discharge.energyCur; }\n    } else if (stage.current === 2) {\n        const { vaporizationInfo, upgradesS2Info, researchesExtraS2Info } = global;\n        const { vaporization } = player;\n\n        buildingsInfo.producing[5] = 2 * buildings[5].current;\n        researchesExtraS2Info.effect[2] = vaporization.clouds ** 0.1;\n        if (researchesExtra[2] >= 1) { buildingsInfo.producing[5] *= researchesExtraS2Info.effect[2]; }\n\n        if (upgrades[6] === 1) { buildings[4].current = buildings[4].true + buildings[5].current; }\n\n        buildingsInfo.producing[4] = 2 * buildings[4].current;\n        if (buildingsInfo.producing[5] > 1) { buildingsInfo.producing[4] *= buildingsInfo.producing[5]; }\n\n        upgradesS2Info.effect[5] = 1 + researches[5];\n        if (upgrades[5] === 1) { buildings[3].current = buildings[3].true + buildings[4].current * upgradesS2Info.effect[5]; }\n\n        buildingsInfo.producing[3] = 2 * buildings[3].current;\n        if (buildingsInfo.producing[4] > 1) { buildingsInfo.producing[3] *= buildingsInfo.producing[4]; }\n\n        upgradesS2Info.effect[4] = 1 + researches[4];\n        if (upgrades[4] === 1) { buildings[2].current = buildings[2].true + buildings[3].current * upgradesS2Info.effect[4]; }\n\n        buildingsInfo.producing[2] = 3 * buildings[2].current * vaporization.clouds;\n        upgradesS2Info.effect[2] = 0.02 + researches[2] * 0.02;\n        upgradesS2Info.effect[3] = 0.02 + researches[3] * 0.03;\n        if (upgrades[2] === 1 && researches[1] >= 2) {\n            buildingsInfo.producing[2] *= buildings[0].total ** upgradesS2Info.effect[2];\n        } else if (upgrades[2] === 1) {\n            buildingsInfo.producing[2] *= buildings[0].current ** upgradesS2Info.effect[2];\n        }\n        if (upgrades[3] === 1 && researches[1] >= 1) {\n            buildingsInfo.producing[2] *= buildings[1].total ** upgradesS2Info.effect[3];\n        } else if (upgrades[3] === 1) {\n            buildingsInfo.producing[2] *= buildings[1].current ** upgradesS2Info.effect[3];\n        }\n        if (buildingsInfo.producing[3] > 1) { buildingsInfo.producing[2] *= buildingsInfo.producing[3]; }\n        if (strangeness[1][1] >= 1) { buildingsInfo.producing[2] *= 2 ** strangeness[1][1]; }\n\n        researchesExtraS2Info.effect[1] = 10 ** (player.researchesExtra[1] - 1);\n\n        if (buildings[0].current < 0.0028 && buildings[1].current === 0) { buildings[0].current = 0.0028; }\n        if (buildings[1].current < buildings[1].true) {\n            buildings[1].true = Math.trunc(buildings[1].current);\n            calculateBuildingsCost(1);\n        }\n\n        buildingsInfo.producing[1] = 0.0006 * buildings[1].current;\n        if (researches[0] >= 1) { buildingsInfo.producing[1] *= 3 ** researches[0]; }\n        if (upgrades[0] === 1) { buildingsInfo.producing[1] *= 1.1 ** buildings[1].true; }\n        if (strangeness[1][0] >= 1) { buildingsInfo.producing[1] *= 2 ** strangeness[1][0]; }\n\n        vaporizationInfo.get = (researchesExtra[0] === 0 ? buildings[1].current : buildings[1].total) / 1e10;\n        if (strangeness[1][3] >= 1) { vaporizationInfo.get *= 3 ** strangeness[1][3]; }\n        if (vaporizationInfo.get > 1) { //1e4 is softcap, game will force calculation as if you already at softcap if you reached 1e4 total clouds\n            const check = vaporizationInfo.get ** 0.6 + vaporization.clouds;\n            const calculate = (check - 1e4 > 0) ? Math.max(1e4 - vaporization.clouds, 1) : 1;\n            vaporizationInfo.get = calculate + (vaporizationInfo.get - calculate) ** (check > 1e4 ? 0.36 : 0.6);\n        }\n    } else if (stage.current === 3) {\n        const { upgradesS3Info, researchesS3Info, researchesExtraS3Info } = global;\n        const { accretion } = player;\n\n        buildingsInfo.producing[4] = (upgrades[11] === 1 ? 1.15 : 1.1) ** buildings[4].current;\n\n        buildingsInfo.producing[3] = 0.12 * buildings[3].current;\n        if (upgrades[4] === 1 && researchesExtra[2] > 0) { buildingsInfo.producing[3] *= 2; }\n        if (buildingsInfo.producing[4] > 1) { buildingsInfo.producing[3] *= buildingsInfo.producing[4]; }\n        if (strangeness[2][1] >= 1) { buildingsInfo.producing[3] *= 2 ** strangeness[2][1]; }\n\n        buildingsInfo.producing[2] = 0.12 * buildings[2].current;\n        researchesS3Info.effect[5] = buildings[0].current ** (0.025 * researches[5]);\n        if (upgrades[3] === 1) { buildingsInfo.producing[2] *= 1.02 ** buildings[2].true; }\n        if (upgrades[4] === 1) { buildingsInfo.producing[2] *= 4; }\n        if (researches[2] >= 1) { buildingsInfo.producing[2] *= 3 ** researches[2]; }\n        if (researches[4] >= 1) { buildingsInfo.producing[2] *= 5 ** researches[4]; }\n        if (researches[5] >= 1) { buildingsInfo.producing[2] *= researchesS3Info.effect[5]; }\n        if (strangeness[2][1] >= 1) { buildingsInfo.producing[2] *= 2 ** strangeness[2][1]; }\n        if (strangeness[2][3] >= 1) { buildingsInfo.producing[2] *= buildingsInfo.producing[4]; }\n\n        buildingsInfo.producing[1] = 8e-20 * buildings[1].current;\n        upgradesS3Info.effect[0] = 1.01 + 0.01 * researches[1];\n        upgradesS3Info.effect[1] = buildings[1].current ** (0.05 + 0.01 * researchesExtra[3]);\n        upgradesS3Info.effect[7] = 2 * 1.5 ** researches[6];\n        upgradesS3Info.effect[9] = 10 * 3 ** researches[7];\n        researchesExtraS3Info.effect[0] = 1.1 ** researchesExtra[0];\n        researchesExtraS3Info.effect[1] = (1 + 0.1 * researchesExtra[1]) ** accretion.rank;\n        if (upgrades[0] === 1) { buildingsInfo.producing[1] *= upgradesS3Info.effect[0] ** buildings[1].true; }\n        if (upgrades[1] === 1) { buildingsInfo.producing[1] *= upgradesS3Info.effect[1]; }\n        if (upgrades[2] === 1) { buildingsInfo.producing[1] *= 2; }\n        if (upgrades[5] === 1) { buildingsInfo.producing[1] *= 3; }\n        if (upgrades[7] === 1) { buildingsInfo.producing[1] *= upgradesS3Info.effect[7]; }\n        if (upgrades[8] === 1) { buildingsInfo.producing[1] *= 2; }\n        if (upgrades[9] === 1) { buildingsInfo.producing[1] *= upgradesS3Info.effect[9]; }\n        if (researches[0] >= 1) { buildingsInfo.producing[1] *= 3 ** researches[0]; }\n        if (researches[3] >= 1) { buildingsInfo.producing[1] *= 2 ** researches[3]; }\n        if (researchesExtra[0] >= 1) { buildingsInfo.producing[1] *= researchesExtraS3Info.effect[0]; }\n        if (researchesExtra[1] >= 1) { buildingsInfo.producing[1] *= researchesExtraS3Info.effect[1]; }\n        if (strangeness[2][0] >= 1) { buildingsInfo.producing[1] *= 2 ** strangeness[2][0]; }\n        if (strangeness[2][3] >= 1) { buildingsInfo.producing[1] *= buildingsInfo.producing[4]; }\n        if (accretion.rank >= 5) { //I know that close to 1, softcap is at weakest point\n            buildingsInfo.producing[1] **= buildingsInfo.producing[1] < 1 ? 1.1 : 0.8;\n        }\n    } else if (stage.current >= 4) {\n        const { collapse, elements } = player;\n        const { collapseInfo, researchesS4Info } = global;\n\n        researchesS4Info.effect[0] = (1.1 + 0.2 * researches[2]) ** researches[0];\n        researchesS4Info.effect[1] = (1 + (0.01 * Math.min(researches[1], 5)) + (researches[1] > 5 ? 0.005 * (researches[1] - 5) : 0)) ** (buildings[1].true + buildings[2].true + buildings[3].true + buildings[4].true);\n        if (researchesS4Info.effect[1] > 1e10) { researchesS4Info.effect[1] = 1e10 + (researchesS4Info.effect[1] - 1e10) ** 0.70; }\n        let redGiantEffect = collapse.stars[0] + 1;\n        if (elements[6] === 1) { redGiantEffect **= 1.5; }\n        let neutronStarEffect = (collapse.stars[1] + (elements[22] === 1 ? collapse.stars[0] + 1 : 1)) ** 0.5;\n        if (elements[12] === 1 && collapse.stars[1] > 10) { neutronStarEffect *= Math.log10(collapse.stars[1] + (elements[22] === 1 ? collapse.stars[0] : 0)); }\n        const blackHoleEffect = collapse.stars[2] >= 1 ? (collapse.stars[2] + 1) / Math.log10(collapse.stars[2] + (elements[18] === 1 ? 9 : 99)) : 1;\n        let totalMultiplier = (collapse.mass ** (elements[21] === 1 ? 1.1 : 1)) * researchesS4Info.effect[0] * researchesS4Info.effect[1] * neutronStarEffect;\n        if (elements[4] === 1) { totalMultiplier *= 1.1; }\n        if (elements[19] === 1) { totalMultiplier *= 3; }\n        if (elements[23] === 1 && collapse.stars[2] > 10) { totalMultiplier *= Math.log10(collapse.stars[2]); }\n        if (elements[24] === 1) { totalMultiplier *= buildings[0].current ** 0.01; }\n        if (elements[26] === 1) { totalMultiplier *= 2; }\n        if (strangeness[3][0] >= 1) { totalMultiplier *= 1.5 ** strangeness[3][0]; }\n\n        buildingsInfo.producing[4] = 1.5e9 * buildings[4].current * totalMultiplier;\n\n        buildingsInfo.producing[3] = 2.2e7 * buildings[3].current * totalMultiplier;\n\n        buildingsInfo.producing[2] = 250 * buildings[2].current * redGiantEffect * totalMultiplier;\n        if (researches[3] >= 1) { buildingsInfo.producing[2] *= 10; }\n        if (researchesExtra[1] >= 1) { buildingsInfo.producing[2] *= collapse.stars[0] + 1; }\n\n        buildingsInfo.producing[1] = 18 * buildings[1].current * totalMultiplier;\n        if (elements[1] === 1) { buildingsInfo.producing[1] *= 2; }\n\n        let massGain = 0.004;\n        if (elements[3] === 1) { massGain += 0.001; }\n        if (elements[5] === 1) { massGain += 0.00015 * buildings[1].true; }\n        if (elements[10] === 1) { massGain *= 2; }\n        if (elements[14] === 1) { massGain *= 1.4; }\n        collapseInfo.newMass = (buildings[1].true + (elements[15] === 1 ? buildings[2].true + buildings[3].true + buildings[4].true : 0)) * massGain * blackHoleEffect;\n\n        collapseInfo.starCheck[0] = Math.max(buildings[2].true + Math.trunc(buildings[1].true * strangeness[3][3] / 4) - collapse.stars[0], 0);\n        collapseInfo.starCheck[1] = Math.max(buildings[3].true - collapse.stars[1], 0);\n        collapseInfo.starCheck[2] = Math.max(buildings[4].true - collapse.stars[2], 0);\n    }\n};\n\nexport const buyBuilding = (index: number, auto = false) => {\n    const { stage, buildings } = player;\n    const { buildingsInfo, screenReader } = global;\n\n    if (!checkBuilding(index)) { return; }\n\n    if (!isFinite(buildingsInfo.cost[index])) {\n        if (screenReader && !auto) {\n            getId('invisibleBought').textContent = `Coudn't make '${buildingsInfo.name[index]}', because cost is infinity`;\n        }\n        return;\n    }\n\n    let extra = index - 1; //What you are paying\n    if (stage.current === 2 && index !== 1) {\n        extra = 1; //Drops\n    } else if (stage.current >= 3) {\n        extra = 0; //Mass || Elements\n    }\n    let keep = 2;\n    if (buildings[index].true === 0 || buildings[extra].current > 1e300) { keep = 1; }\n\n    if (buildings[extra].current / (auto ? keep : 1) < buildingsInfo.cost[index]) {\n        if (screenReader && !auto) {\n            getId('invisibleBought').textContent = `Coudn't make '${buildingsInfo.name[index]}', because didn't had enough of '${buildingsInfo.name[extra]}'`;\n        }\n        return;\n    }\n\n    const { researchesAuto } = player;\n    const { shop } = player.toggles;\n    const howMany = auto ? -1 : player.researchesAuto[0] === 0 ? 1 : shop.howMany;\n    if (stage.current === 1 && index === 1) { global.dischargeInfo.energyType[index] = globalStart.dischargeInfo.energyType[index] + 1 * player.strangeness[0][4]; }\n\n    if (howMany !== 1 && researchesAuto[0] > 0) {\n        //Increase must be > 1 (if < 1, then use (1 - increase) and (1 - increase ** levels))\n        let budget = buildings[extra].current / (auto ? keep : 1); //How much need to spend\n        const totalBefore = buildingsInfo.startCost[index] * ((buildingsInfo.increase[index] ** buildings[index].true - 1) / (buildingsInfo.increase[index] - 1)); //How much already payed for\n        const maxAfford = Math.trunc(Math.log((totalBefore + budget) * (buildingsInfo.increase[index] - 1) / buildingsInfo.startCost[index] + 1) / Math.log(buildingsInfo.increase[index])) - buildings[index].true; //Max amount that can be afforded\n        if (shop.strict && maxAfford < howMany && howMany !== -1) { return; }\n        let canAfford = howMany !== -1 ? Math.min(maxAfford, howMany) : maxAfford;\n        let total = buildingsInfo.startCost[index] * ((buildingsInfo.increase[index] ** (canAfford + buildings[index].true) - 1) / (buildingsInfo.increase[index] - 1)) - totalBefore; //How much you need to pay\n\n        if (!isFinite(total) || !isFinite(canAfford)) { /* Fallback */\n            let cost = buildingsInfo.cost[index];\n            for (canAfford = 0, total = 0; budget >= cost; canAfford++) {\n                total += cost;\n                budget -= cost;\n                cost *= buildingsInfo.increase[index];\n            }\n        }\n\n        buildings[extra].current -= total;\n        buildings[index].current += canAfford;\n        buildings[index].true += canAfford;\n        buildings[index].total += canAfford;\n        buildings[index].trueTotal += canAfford;\n\n        if (stage.current === 1) { player.discharge.energyCur += global.dischargeInfo.energyType[index] * canAfford; }\n        if (global.screenReader && !auto) {\n            getId('invisibleBought').textContent = `Maded ${format(canAfford)} '${buildingsInfo.name[index]}'${stage.current === 1 ? `, gained ${format(global.dischargeInfo.energyType[index] * canAfford)} Energy` : ''}`;\n        }\n    } else {\n        buildings[extra].current -= buildingsInfo.cost[index];\n        buildings[index].current++;\n        buildings[index].true++;\n        buildings[index].total++;\n        buildings[index].trueTotal++;\n\n        if (stage.current === 1) { player.discharge.energyCur += global.dischargeInfo.energyType[index]; }\n        if (global.screenReader) {\n            getId('invisibleBought').textContent = `Made 1 '${buildingsInfo.name[index]}'${stage.current === 1 ? `, gained ${format(global.dischargeInfo.energyType[index])} Energy` : ''}`;\n        }\n    }\n    calculateBuildingsCost(index);\n    invisibleUpdate();\n    numbersUpdate();\n};\n\nexport const calculateBuildingsCost = (index: number) => {\n    const { stage, buildings } = player;\n    const { buildingsInfo } = global;\n\n    if (stage.current === 1) {\n        global.upgradesInfo.effect[4] = (20 + player.researches[0]) / 100; //(0.2 + 1 / 100) / 100\n        buildingsInfo.increase[index] = Math.round((1.4 - (player.upgrades[4] === 1 ? global.upgradesInfo.effect[4] : 0)) * 100) / 100;\n        if (index === 1) { buildingsInfo.startCost[1] = globalStart.buildingsInfo.startCost[1] / (player.upgrades[0] === 1 ? 10 : 1); }\n    } else if (stage.current === 3 && index === 4) {\n        buildingsInfo.increase[4] = player.upgrades[10] === 1 ? 5 : 10;\n    } else if (stage.current >= 4) {\n        buildingsInfo.increase[index] = Math.round(((1.4 + 0.15 * (index - 1)) - (player.elements[2] === 1 ? 0.1 : 0) - (player.elements[8] === 1 ? 0.05 : 0)) * 100) / 100;\n        buildingsInfo.startCost[index] = globalStart.buildingsInfo.startCost[index] / (player.elements[13] === 1 ? 1e3 : 1) / 2 ** player.strangeness[3][1];\n    }\n\n    buildingsInfo.cost[index] = buildingsInfo.startCost[index] * buildingsInfo.increase[index] ** buildings[index].true;\n};\n\nexport const calculateResearchCost = (research: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'strangeness', extra = 0) => {\n    const { stage } = player;\n\n    if (type !== 'strangeness') {\n        let typeInfo = 'researchesAutoInfo' as 'researchesAutoInfo' | 'researchesS2Info';\n        if (type !== 'researchesAuto') { typeInfo = getUpgradeType(type) as 'researchesS2Info'; }\n\n        if (player[type][research] === global[typeInfo].max[research]) { return; }\n\n        if (stage.current === 1) {\n            global[typeInfo].cost[research] = globalStart[typeInfo].cost[research] + global[typeInfo].scaling[research] * player[type][research];\n        } else {\n            global[typeInfo].cost[research] = globalStart[typeInfo].cost[research] * global[typeInfo].scaling[research] ** player[type][research];\n            if (typeInfo === 'researchesAutoInfo' && research === 1) {\n                if (stage.current === 2 && player.researchesAuto[1] >= 3) {\n                    global[typeInfo].cost[research] *= player.researchesAuto[1] >= 4 ? 1e6 : 1e5;\n                } else if (stage.current === 3 && player.researchesAuto[1] >= 2) {\n                    global[typeInfo].cost[research] = player.researchesAuto[1] >= 3 ? 2e30 : 5e29;\n                }\n            }\n        }\n\n        //Below will remove all but 2 digits past point (until 1e3)\n        if (global[typeInfo].cost[research] < 1) {\n            const digits = -Math.floor(Math.log10(global[typeInfo].cost[research])); //Because of floats, -digits will be used\n            global[typeInfo].cost[research] = Math.round(global[typeInfo].cost[research] * 10 ** (digits + 2)) / 10 ** (digits + 2);\n        } else if (global[typeInfo].cost[research] < 1e3) {\n            global[typeInfo].cost[research] = Math.round(global[typeInfo].cost[research] * 100) / 100;\n        } else {\n            global[typeInfo].cost[research] = Math.round(global[typeInfo].cost[research]);\n        }\n    } else {\n        const typeInfo = 'strangenessInfo' as const;\n\n        if (player[type][extra][research] === global[typeInfo][extra].max[research]) { return; }\n\n        global[typeInfo][extra].cost[research] = Math.trunc(Math.round((globalStart[typeInfo][extra].cost[research] + global[typeInfo][extra].scaling[research] * player[type][extra][research]) * 100) / 100);\n    }\n};\n\nexport const calculateGainedBuildings = (get: number, time: number) => {\n    const { stage, buildings } = player;\n    const { buildingsInfo } = global;\n\n    let add: number;\n    if (stage.current === 1 && get === 3) {\n        add = global.upgradesInfo.effect[6] * time;\n    } else {\n        add = buildingsInfo.producing[get + 1] * time;\n        if (stage.current === 2 && get === 1 && player.researchesExtra[1] >= 1) { add += time * global.researchesExtraS2Info.effect[1]; }\n    }\n\n    if (add === 0) { return; }\n    if (stage.current >= 4) { get = 0; }\n    if (stage.current === 3 && player.accretion.rank < 5 && buildings[0].current + add > 1e30) {\n        buildings[0].current = 1e30;\n        return;\n    }\n\n    if (buildings[get].current >= 1e308) { return; } //Just === would be better, but this allows to detect bugs\n    let check = buildings[get].current + add;\n    buildings[get].current = isFinite(check) ? check : 1e308;\n\n    check = buildings[get].total + add;\n    buildings[get].total = isFinite(check) ? check : 1e308;\n\n    check = buildings[get].trueTotal + add;\n    buildings[get].trueTotal = isFinite(check) ? check : 1e308;\n};\n\nexport const buyUpgrades = (upgrade: number, type: 'upgrades' | 'elements' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'strangeness', check = 0) => {\n    const { stage } = player;\n    if (type !== 'strangeness') {\n        if (check <= 3 && check !== 0) {\n            if (check !== stage.current) { return; }\n        } else if (check >= 4 && stage.current < 4) { return; }\n        if (type !== 'elements' && !checkUpgrade(upgrade, type)) { return; }\n    }\n\n    let currency: number;\n    if (type === 'strangeness') {\n        currency = player.strange[0].true;\n    } else if (stage.current === 1) {\n        currency = player.discharge.energyCur;\n    } else if (stage.current === 2) {\n        currency = player.buildings[1].current;\n    } else /*if (stage.current >= 3)*/ {\n        currency = player.buildings[0].current;\n    }\n\n    if (type === 'researches' || type === 'researchesAuto' || type === 'researchesExtra') {\n        let typeInfo = 'researchesAutoInfo' as 'researchesAutoInfo' | 'researchesS2Info';\n        if (type !== 'researchesAuto') { typeInfo = getUpgradeType(type) as 'researchesS2Info'; }\n\n        if (player[type][upgrade] === global[typeInfo].max[upgrade] || currency < global[typeInfo].cost[upgrade]) { return; }\n        player[type][upgrade]++;\n        currency -= global[typeInfo].cost[upgrade];\n\n        /* Special cases */\n        if (stage.current === 1 && type === 'researches' && upgrade === 0) {\n            for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n                calculateBuildingsCost(i);\n            }\n        } else if (stage.current >= 4 && type === 'researches' && upgrade === 2) {\n            calculateMaxLevel(0, 'researches');\n        }\n        if (global.screenReader) { getId('invisibleBought').textContent = `You have researched '${global[typeInfo].description[upgrade]}', level is now ${player[type][upgrade]} ${player[type][upgrade] === global[typeInfo].max[upgrade] ? 'maxed' : ''}`; }\n\n        calculateResearchCost(upgrade, type);\n    } else if (type === 'upgrades' || type === 'elements') {\n        let typeInfo = 'elementsInfo' as 'elementsInfo' | 'upgradesS2Info';\n        if (type !== 'elements') { typeInfo = getUpgradeType(type) as 'upgradesS2Info'; }\n\n        if (player[type][upgrade] === 1 || currency < global[typeInfo].cost[upgrade]) { return; }\n        player[type][upgrade] = 1;\n        currency -= global[typeInfo].cost[upgrade];\n\n        /* Special cases */\n        if (type === 'upgrades') {\n            if (stage.current === 1) {\n                if (upgrade === 0) {\n                    calculateBuildingsCost(1);\n                } else if (upgrade === 4) {\n                    for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n                        calculateBuildingsCost(i);\n                    }\n                }\n            } else if (stage.current === 3 && upgrade === 10) {\n                calculateBuildingsCost(4);\n            }\n        } else if (type === 'elements') {\n            if (player.collapse.show < upgrade) { player.collapse.show = upgrade; } //Lazy way of remembering bought elements\n            if (upgrade === 2 || upgrade === 8 || upgrade === 13) {\n                for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n                    calculateBuildingsCost(i);\n                }\n            } else if (upgrade === 7 || upgrade === 16 || upgrade === 20 || upgrade === 25) {\n                calculateMaxLevel(1, 'researches');\n            } else if (upgrade === 9 || upgrade === 17) {\n                calculateMaxLevel(0, 'researches');\n            } else if (upgrade === 11) {\n                calculateMaxLevel(2, 'researches');\n            } else if (upgrade === 26 && stage.current === 4) {\n                manualEnterStage();\n            }\n        }\n        if (global.screenReader) { getId('invisibleBought').textContent = `You have ${type !== 'elements' ? 'created upgrade' : 'obtained element'} '${global[typeInfo].description[upgrade]}'`; }\n    } else {\n        const typeInfo = 'strangenessInfo' as const;\n\n        if (player[type][check][upgrade] === global[typeInfo][check].max[upgrade] || currency < global[typeInfo][check].cost[upgrade]) { return; }\n        player[type][check][upgrade]++;\n        currency -= global[typeInfo][check].cost[upgrade];\n\n        /* Special cases */\n        if (check === stage.current - 1 && (((check === 0 || check === 3) && upgrade === 6) || ((check === 1 || check === 2) && upgrade === 5))) { //Auto only to save space\n            player.researchesAuto[1] = Math.max(player.strangeness[check][upgrade], player.researchesAuto[1]);\n            calculateResearchCost(1, 'researchesAuto');\n            visualUpdateUpgrades(1, 'researchesAuto');\n        } else if (check === 0) {\n            if (stage.current === 1) {\n                if (upgrade === 4) {\n                    for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n                        calculateBuildingsCost(i);\n                    }\n                }\n            }\n            if (upgrade === 7) {\n                player.researchesAuto[0] = Math.max(1, player.researchesAuto[0]);\n                calculateMaxLevel(0, 'researchesAuto');\n            }\n        } else if (check === 1) {\n            if (stage.current === 2) {\n                if (upgrade === 2) {\n                    if (player.strangeness[1][2] < 3) { calculateMaxLevel(4, 'researches'); }\n                    if (player.strangeness[1][2] === 2) { calculateMaxLevel(5, 'researches'); }\n                }\n            }\n            if (upgrade === 6) {\n                player.researchesAuto[2] = Math.max(1, player.researchesAuto[2]);\n                calculateMaxLevel(2, 'researchesAuto');\n            }\n        } else if (check === 2) {\n            if (stage.current === 3) {\n                if (upgrade === 2) {\n                    calculateMaxLevel(0, 'researchesExtra');\n                    calculateMaxLevel(1, 'researchesExtra');\n                }\n            }\n            if (upgrade === 6) {\n                calculateMaxLevel(3, 'researchesAuto');\n            }\n        } else if (check === 3) {\n            if (stage.current === 4) {\n                if (upgrade === 1) {\n                    for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n                        calculateBuildingsCost(i);\n                    }\n                }\n            }\n        }\n        if (global.screenReader) { getId('invisibleBought').textContent = `You have researched ${global[typeInfo][check].description[upgrade]} for ${global.stageInfo.word[check]} stage, level is now ${player[type][check][upgrade]} ${player[type][check][upgrade] === global[typeInfo][check].max[upgrade] ? 'maxed' : ''}`; }\n\n        calculateResearchCost(upgrade, type, check);\n    }\n\n    /* Because each price can use different property, so have to do it this way... */\n    if (type === 'strangeness') {\n        player.strange[0].true = currency;\n    } else if (stage.current === 1) {\n        player.discharge.energyCur = currency;\n    } else if (stage.current === 2) {\n        player.buildings[1].current = currency;\n    } else /*if (stage.current >= 3)*/ {\n        player.buildings[0].current = currency;\n    }\n\n    numbersUpdate();\n    getUpgradeDescription(upgrade, type, check);\n    visualUpdateUpgrades(upgrade, type, check);\n    if (stage.current === 1 && player.toggles.auto[1] && type !== 'strangeness') { void dischargeResetCheck('upgrade'); }\n};\n\nexport const calculateMaxLevel = (research: number, type: 'researches' | 'researchesExtra' | 'researchesAuto', extra = 0) => {\n    const { stage } = player;\n\n    if (type === 'researchesAuto') {\n        if (research === 0) {\n            global.researchesAutoInfo.max[0] = player.strangeness[0][7] + 1;\n        } else if (research === 1) {\n            global.researchesAutoInfo.max[1] = global.buildingsInfo.name.length - 1;\n        } else if (research === 2) {\n            global.researchesAutoInfo.max[2] = player.strangeness[1][6] + 1;\n        } else if (research === 3) {\n            global.researchesAutoInfo.max[3] = player.strangeness[2][6];\n        }\n    } else if (type === 'researches') {\n        if (stage.current === 2) {\n            if (research === 4) {\n                global.researchesS2Info.max[4] = 2 + Math.min(player.strangeness[1][2], 2);\n            } else if (research === 5) {\n                global.researchesS2Info.max[5] = 2;\n                if (player.strangeness[1][2] >= 2) { global.researchesS2Info.max[5] += 1; }\n            }\n        } else if (stage.current >= 4) {\n            if (research === 0) {\n                global.researchesS4Info.max[0] = 3 + (3 * player.researches[2]);\n                if (player.elements[9] === 1) { global.researchesS4Info.max[0] += 12; }\n                if (player.elements[17] === 1) { global.researchesS4Info.max[0] += 27; }\n            } else if (research === 1) {\n                global.researchesS4Info.max[1] = 2;\n                if (player.elements[7] === 1) { global.researchesS4Info.max[1] += 2; }\n                for (const i of [16, 20, 25]) {\n                    if (player.elements[i] === 1) { global.researchesS4Info.max[1] += 1; }\n                }\n            } else if (research === 2) {\n                global.researchesS4Info.max[2] = player.elements[11] === 1 ? 2 : 1;\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stage.current === 3) {\n            if (research === 0) {\n                global.researchesExtraS3Info.max[0] = 12;\n                if (player.accretion.rank >= 3) { global.researchesExtraS3Info.max[0] += 17; }\n                if (player.strangeness[2][2] >= 1) { global.researchesExtraS3Info.max[0] += 10 * player.strangeness[2][2]; }\n            } else if (research === 1) {\n                global.researchesExtraS3Info.max[1] = 5;\n                if (player.strangeness[2][2] >= 1) { global.researchesExtraS3Info.max[1] += 1 * player.strangeness[2][2]; }\n            }\n        }\n    }\n\n    calculateResearchCost(research, type, extra);\n    visualUpdateUpgrades(research, type, extra);\n    if (type !== 'researchesAuto') { autoBuyUpgrades(type, true, research); }\n};\n\nexport const autoBuyUpgrades = (type: 'upgrades' | 'researches' | 'researchesExtra', setArray = false, whichAdd = 'all' as 'all' | number) => {\n    let auto: 'autoU' | 'autoR' | 'autoE';\n    switch (type) {\n        case 'upgrades':\n            if (!player.toggles.auto[5] || player.researchesAuto[3] < 1) { return; }\n            auto = 'autoU';\n            break;\n        case 'researches':\n            if (!player.toggles.auto[6] || player.researchesAuto[3] < 2) { return; }\n            auto = 'autoR';\n            break;\n        case 'researchesExtra':\n            if (!player.toggles.auto[7] || player.researchesAuto[3] < 3) { return; }\n            auto = 'autoE';\n    }\n    const { automatization } = global;\n    const typeInfo = getUpgradeType(type) as 'researchesS2Info';\n    let sort = false;\n    if (setArray) {\n        if (whichAdd === 'all') {\n            automatization[auto] = [];\n            for (let i = 0; i < global[typeInfo].cost.length; i++) {\n                if (player[type][i] < (type === 'upgrades' ? 1 : global[typeInfo].max[i])) {\n                    automatization[auto].push([i, global[typeInfo].cost[i]]);\n                }\n            }\n            sort = true;\n        } else { //type !== 'upgrades'\n            if (!automatization[auto].some((a) => a[0] === whichAdd)) {\n                automatization[auto].push([whichAdd, global[typeInfo].cost[whichAdd]]);\n                sort = true;\n            }\n        }\n    } else {\n        for (let i = 0; i < automatization[auto].length; i++) {\n            const index = automatization[auto][i][0]; //Faster this way\n\n            if (!checkUpgrade(index, type)) { continue; }\n            buyUpgrades(index, type); //Some upgrades inside can get inserted into old index spot\n            if (index !== automatization[auto][i][0]) { continue; }\n\n            if (player[type][index] === (type === 'upgrades' ? 1 : global[typeInfo].max[index])) {\n                automatization[auto].splice(i, 1);\n            } else {\n                if (type === 'upgrades' || automatization[auto][i][1] === global[typeInfo].cost[index]) {\n                    break;\n                } else {\n                    automatization[auto][i][1] = global[typeInfo].cost[index];\n                    sort = true;\n                }\n            }\n        }\n    }\n    if (sort) { automatization[auto].sort((a, b) => a[1] - b[1]); }\n};\n\nexport const toggleSwap = (number: number, type: 'normal' | 'buildings' | 'auto', change = false) => {\n    const { toggles } = player;\n\n    let toggle: HTMLButtonElement;\n    if (type === 'normal') {\n        toggle = getId(`toggle${number}`) as HTMLButtonElement;\n    } else if (type === 'buildings') {\n        toggle = getId(`toggleBuilding${number}`) as HTMLButtonElement;\n    } else {\n        toggle = getId(`toggleAuto${number}`) as HTMLButtonElement;\n    }\n\n    if (change) {\n        toggles[type][number] = !toggles[type][number];\n        if (type === 'buildings') {\n            if (number === 0) {\n                for (let i = 1; i < toggles.buildings.length; i++) {\n                    toggles.buildings[i] = toggles.buildings[0];\n                    toggleSwap(i, 'buildings');\n                }\n            } else {\n                toggles.buildings[0] = toggles.buildings.includes(true, 1);\n                toggleSwap(0, 'buildings');\n            }\n        }\n    }\n\n    if (type === 'normal') {\n        if (!toggles[type][number]) {\n            toggle.textContent = 'OFF';\n            toggle.style.color = 'var(--red-text-color)';\n            toggle.style.borderColor = 'crimson';\n            if (global.screenReader) { toggle.ariaLabel = toggle.ariaLabel?.replace(' ON', ' OFF') ?? ''; } //I have no idea if textcontent will be read along with aria-label...\n        } else {\n            toggle.textContent = 'ON';\n            toggle.style.color = '';\n            toggle.style.borderColor = '';\n            if (global.screenReader) { toggle.ariaLabel = toggle.ariaLabel?.replace(' OFF', ' ON') ?? ''; }\n        }\n    } else {\n        if (!toggles[type][number]) {\n            toggle.textContent = type === 'buildings' && number === 0 ? 'All OFF' : 'Auto OFF';\n            toggle.style.color = 'var(--red-text-color)';\n            toggle.style.borderColor = 'crimson';\n        } else {\n            toggle.textContent = type === 'buildings' && number === 0 ? 'All ON' : 'Auto ON';\n            toggle.style.color = '';\n            toggle.style.borderColor = '';\n        }\n    }\n};\n\nexport const toggleBuy = (type = 'none') => {\n    const { shop } = player.toggles;\n    const input = getId('buyAnyInput') as HTMLInputElement;\n\n    switch (type) {\n        case '1':\n            shop.howMany = 1;\n            break;\n        case 'max':\n            shop.howMany = -1;\n            break;\n        case 'any':\n            shop.input = Math.max(Math.trunc(Number(input.value)), -1);\n            if (shop.input === 0) { shop.input = 1; }\n            shop.howMany = shop.input;\n            input.value = format(shop.input, 0, 'input');\n            break;\n        case 'strict':\n            shop.strict = !shop.strict;\n            break;\n        default:\n            input.value = format(shop.input, 0, 'input');\n    }\n    getId('buyStrict').style.borderColor = shop.strict ? '' : 'crimson';\n    getId('buyStrict').style.color = shop.strict ? '' : 'var(--red-text-color)';\n    getId('buy1x').style.backgroundColor = shop.howMany === 1 ? 'green' : '';\n    getId('buyAny').style.backgroundColor = Math.abs(shop.howMany) !== 1 ? 'green' : '';\n    getId('buyMax').style.backgroundColor = shop.howMany === -1 ? 'green' : '';\n    numbersUpdate();\n};\n\nexport const stageResetCheck = async(auto = false) => {\n    const { stage, buildings, researchesAuto, toggles } = player;\n    let reseted = false;\n\n    if (auto && stage.resets < 15) { return; }\n\n    if (stage.current === 1) {\n        if (buildings[3].current >= 1.67e21) {\n            let ok = true;\n            if (toggles.normal[1] && !auto) { ok = await Confirm('Ready to enter next stage? Next one will be harder than current.\\nYou might want to turn off all auto\\'s first'); }\n            if (ok) {\n                if (researchesAuto[0] === 0) { researchesAuto[0]++; }\n                reseted = true;\n            }\n        } else {\n            if (auto) { return; }\n            return Alert('You will need a single Drop of water for next one');\n        }\n    } else if (stage.current === 2) {\n        if (buildings[1].current >= 1.194e29) {\n            let ok = true;\n            if (toggles.normal[1] && !auto) { ok = await Confirm('Ready to enter next stage? Next one will be harder than current.\\nYou might want to turn off all auto\\'s first'); }\n            if (ok) {\n                if (researchesAuto[2] === 0) { researchesAuto[2]++; }\n                player.accretion.rank = 0;\n                reseted = true;\n            }\n        } else {\n            if (auto) { return; }\n            return Alert('Look\\'s like, it, should have even more Drops');\n        }\n    } else if (stage.current === 3) {\n        if (buildings[0].current >= 2.47e31 && !auto) {\n            let ok = true;\n            if (toggles.normal[1]) { ok = await Confirm('Ready to enter next stage? Next one will be harder than current.\\nYou might want to turn off all auto\\'s first'); }\n            if (ok) {\n                reseted = true;\n            }\n        } else {\n            if (auto) { return; }\n            return Alert('Self sustaining is not yet possible, need more Mass');\n        }\n    } else if (stage.current === 4) {\n        if (auto) { return; }\n        if (stage.true > 4) { return Alert('Let\\'s reach the limit'); }\n        return Alert('Let\\'s see the limit');\n    } else if (stage.current === 5) {\n        if (auto && global.strangeInfo.stageGain + 1 < stage.input) { return; }\n        let ok = true;\n        if (!auto) {\n            if (player.strange[0].total === 0) {\n                ok = await Confirm('You will return to first stage. But maybe you will get something in return. Ready?');\n            } else if (player.strange[0].total > 0 && toggles.normal[1]) {\n                ok = await Confirm(`You will return to first stage. In return you will get ${format(global.strangeInfo.stageGain + 1, 0)} Strange quarks. Ready?`);\n            }\n        }\n        if (ok) {\n            player.strange[0].true += global.strangeInfo.stageGain;\n            player.strange[0].total += global.strangeInfo.stageGain;\n            if (player.strangeness[0][7] < 1) { researchesAuto[0] = 0; }\n            if (player.strangeness[1][6] < 1) { researchesAuto[2] = 0; }\n            reseted = true;\n        }\n    }\n\n    if (reseted) {\n        stage.resets++;\n        if (stage.current < 4) {\n            stage.current++;\n        } else {\n            stage.current = 1;\n        }\n        stage.true = Math.max(stage.true, stage.current);\n        if (stage.true >= 5) {\n            player.strange[0].true++;\n            player.strange[0].total++;\n        }\n        researchesAuto[1] = player.strangeness[stage.current - 1][[6, 5, 5, 6][stage.current - 1]];\n        reset('stage');\n    }\n};\n\n/* Only for stage 4 */\nconst manualEnterStage = () => {\n    const { stage } = player;\n\n    stage.current++;\n    if (stage.true === 4) {\n        Alert('There doesn\\'t seem to be anything left, so let\\'s try going back instead');\n        stage.true++;\n    }\n    calculateStageInformation();\n    stageCheck('soft');\n    switchTheme();\n};\n\nexport const dischargeResetCheck = async(auto = 'false' as 'false' | 'interval' | 'upgrade') => {\n    const { dischargeInfo } = global;\n    const { discharge } = player;\n\n    if (player.upgrades[3] === 1 && player.buildings[1].true > 0) {\n        if (auto === 'interval' && discharge.energyCur < dischargeInfo.next) { return; }\n        if (auto !== 'false' && player.strangeness[0][3] < 1) { return; }\n\n        let ok = true;\n        if (player.toggles.normal[2] && auto === 'false') {\n            if (discharge.energyCur < dischargeInfo.next) {\n                ok = await Confirm('This will reset all of your current buildings and Energy. You will NOT gain production boost. Continue?');\n            } else {\n                ok = await Confirm('You have enough Energy to gain boost. Continue?');\n            }\n        }\n        if (ok) {\n            if (discharge.energyCur >= dischargeInfo.next) {\n                discharge.current++;\n                if (global.screenReader && auto === 'false') { getId('invisibleBought').textContent = 'Buildings and Energy were reset for some boost'; }\n            } else if (global.screenReader && auto === 'false') {\n                getId('invisibleBought').textContent = 'Buildings and Energy were reset, no boost';\n            }\n            reset('discharge');\n        }\n    }\n};\n\nexport const vaporizationResetCheck = async(auto = false) => {\n    const { vaporizationInfo } = global;\n    const { vaporization } = player;\n\n    if (player.upgrades[1] === 1 && vaporizationInfo.get >= 1) {\n        if (auto && (vaporizationInfo.get <= vaporization.clouds * vaporization.input || player.strangeness[1][4] < 1)) { return; }\n\n        let ok = true;\n        if (player.toggles.normal[3] && !auto) {\n            ok = await Confirm(`Do you wish to reset buildings and upgrades for ${format(vaporizationInfo.get)} Clouds?`);\n        }\n        if (ok) {\n            vaporization.clouds += vaporizationInfo.get;\n            reset('vaporization');\n            if (global.screenReader) { getId('invisibleBought').textContent = `Progress were reset for ${format(vaporizationInfo.get)} Clouds`; }\n        }\n    }\n};\n\nexport const rankResetCheck = async(auto = false) => {\n    const { accretionInfo } = global;\n    const { accretion } = player;\n\n    if (player.buildings[0].current >= accretionInfo.rankCost[accretion.rank] && accretionInfo.rankCost[accretion.rank] !== 0) {\n        if (auto && player.strangeness[2][4] < 1) { return; }\n\n        let ok = true;\n        if (player.toggles.normal[4] && accretion.rank !== 0 && !auto) {\n            ok = await Confirm('Increasing Rank will reset buildings, upgrades, stage researches. But you will get closer to your goal');\n        }\n        if (ok) {\n            accretion.rank++;\n            reset('rank');\n            calculateMaxLevel(0, 'researchesExtra');\n            updateRankInfo();\n            if (global.screenReader) { getId('invisibleBought').textContent = `Rank is now ${accretionInfo.rankName[accretion.rank]}`; }\n        }\n    }\n};\n\nexport const collapseResetCheck = async(auto = false) => {\n    const { collapseInfo } = global;\n    const { collapse } = player;\n\n    if (player.upgrades[0] === 1 && collapseInfo.newMass >= collapse.mass) {\n        const { researchesExtra } = player;\n        if (auto) {\n            const canIncrease = (researchesExtra[0] >= 1 ? collapse.stars[0] <= (collapse.stars[0] + collapseInfo.starCheck[0]) / collapse.inputS : false) ||\n                (researchesExtra[0] >= 2 ? collapse.stars[1] <= (collapse.stars[1] + collapseInfo.starCheck[1]) / collapse.inputS : false) ||\n                (researchesExtra[0] >= 3 ? collapse.stars[2] <= (collapse.stars[2] + collapseInfo.starCheck[2]) / collapse.inputS : false);\n            if ((collapseInfo.newMass < collapse.mass * collapse.inputM && !canIncrease) || player.strangeness[3][5] < 1) { return; }\n        }\n\n        let ok = true;\n        if (player.toggles.normal[5] && !auto) {\n            let message = `This will reset all non automization researches and upgrades. ${collapseInfo.newMass === collapse.mass ? 'Your total Mass won\\'t change' : `But your total Mass will be now ${format(collapseInfo.newMass)}`}`;\n            if (researchesExtra[0] >= 1) { //This or really long message\n                message += `, also you will get ${format(collapseInfo.starCheck[0])} Red giants`;\n                if (researchesExtra[0] >= 2) {\n                    message += `, ${format(collapseInfo.starCheck[1])} Neutron stars`;\n                    if (researchesExtra[0] >= 3) {\n                        message += ` and ${format(collapseInfo.starCheck[2])} Black holes`;\n                    }\n                }\n            }\n            ok = await Confirm(message);\n        }\n        if (ok) {\n            collapse.mass = collapseInfo.newMass;\n            for (let i = 0; i < researchesExtra[0]; i++) {\n                collapse.stars[i] += collapseInfo.starCheck[i];\n            }\n            reset('collapse');\n            calculateMaxLevel(0, 'researches');\n            calculateMaxLevel(1, 'researches');\n            calculateMaxLevel(2, 'researches');\n            if (global.screenReader) {\n                let message = `Your Mass has increased to ${format(collapse.mass)}`;\n                if (researchesExtra[0] >= 1) {\n                    message += `, Red giants to ${format(collapse.stars[0])}`;\n                    if (researchesExtra[0] >= 2) {\n                        message += `, Neutron stars - ${format(collapse.stars[1])}`;\n                        if (researchesExtra[0] >= 3) {\n                            message += ` and Black holes - ${format(collapse.stars[2])}`;\n                        }\n                    }\n                }\n                getId('invisibleBought').textContent = message;\n            }\n        }\n    }\n};\n", "import { checkTab } from './Check';\nimport { getClass, getId } from './Main';\nimport { getUpgradeType, global, globalStart, player, playerStart } from './Player';\nimport { playEvent } from './Special';\nimport { autoBuyUpgrades, buyBuilding, calculateBuildingsCost, calculateGainedBuildings, calculateMaxLevel, calculateResearchCost, calculateStageInformation, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, vaporizationResetCheck } from './Stage';\n\n//No tab checking, because if someone will use HTML to enable button, they can do same for insides\nexport const switchTab = (tab: string, subtab = 'tabOnly') => {\n    if (global.tab !== tab && subtab === 'tabOnly') {\n        /* First remove current tab, then show new tab */\n        getId(`${global.tab}Tab`).style.display = 'none';\n        getId(`${global.tab}TabBtn`).classList.remove('tabActive');\n        if (Object.hasOwn(global.subtab, global.tab + 'Current')) {\n            for (const inside of global.tabList[global.tab + 'Subtabs']) {\n                getId(`${global.tab}SubtabBtn${inside}`).style.display = 'none';\n            }\n        }\n\n        global.tab = tab;\n        let subtabAmount = 0;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n        if (Object.hasOwn(global.subtab, tab + 'Current')) {\n            for (const inside of global.tabList[tab + 'Subtabs']) {\n                if (checkTab(tab, inside)) {\n                    getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                    subtabAmount++;\n                } else {\n                    if (global.subtab[tab + 'Current' as 'settingsCurrent'] === inside) {\n                        switchTab(tab, globalStart.subtab[tab + 'Current' as 'settingsCurrent']);\n                    } //While 'keyof typeof global.subtab' would work, this is shorter and easier to read\n                }\n            }\n        }\n        getId('subtabs').style.display = subtabAmount >= 2 ? '' : 'none';\n        getId('invisibleTab').textContent = `Current tab is ${global.tab} tab${subtabAmount >= 2 ? ` and its subtab is ${global.subtab[tab + 'Current' as 'settingsCurrent']}` : ''}`; //Tell's screen reader current tab for easier navigation\n    } else if (subtab !== 'tabOnly' && subtab !== global.subtab[tab + 'Current' as 'settingsCurrent']) {\n        getId(`${tab}Subtab${global.subtab[tab + 'Current' as 'settingsCurrent']}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${global.subtab[tab + 'Current' as 'settingsCurrent']}`).classList.remove('tabActive');\n        global.subtab[tab + 'Current' as 'settingsCurrent'] = subtab;\n        getId(`${tab}Subtab${global.subtab[tab + 'Current' as 'settingsCurrent']}`).style.display = '';\n        getId(`${tab}SubtabBtn${global.subtab[tab + 'Current' as 'settingsCurrent']}`).classList.add('tabActive');\n        if (global.screenReader && global.tab === tab) { getId('invisibleTab').textContent = `Current subtab is ${global.subtab[tab + 'Current' as 'settingsCurrent']}, part of ${tab} tab`; }\n    }\n    /* Update tab information (tab can be clicked to update sooner) */\n    visualUpdate();\n    numbersUpdate();\n};\n\nexport const maxOfflineTime = () => global.timeSpecial.maxOffline = 7200 + 7200 * player.researchesAuto[2];\n\nexport const invisibleUpdate = (timeLeft = 0) => { //This is only for important or time based info\n    const { time, stage, toggles } = player;\n    const { timeSpecial } = global;\n\n    const passedTime = timeLeft === 0 ? (Date.now() - time.updated) : 0;\n    let passedSeconds = timeLeft === 0 ? (passedTime / 1000) : timeLeft;\n    if (timeLeft === 0) { time.updated = Date.now(); }\n    if (passedTime < 0) {\n        return console.warn('Negative passed time detected.');\n    }\n    if (timeLeft === 0) { timeSpecial.lastSave += passedTime; }\n\n    if (passedSeconds > maxOfflineTime() / 100) { //Function will call itself until this condition is false\n        if (passedSeconds > timeSpecial.maxOffline) {\n            passedSeconds = timeSpecial.maxOffline;\n            console.log(`Offline time was reduced to it's max of ${timeSpecial.maxOffline / 3600} hours.`);\n        }\n        timeLeft = passedSeconds - timeSpecial.maxOffline / 100;\n        passedSeconds = timeSpecial.maxOffline / 100;\n    } else if (timeLeft !== 0) {\n        timeLeft = 0;\n    }\n    if (player.strangeness[3][7] >= 1) { stage.export = Math.min(stage.export + passedSeconds / 86400, 1); }\n\n    calculateStageInformation();\n    if (global.automatization.autoE.length !== 0) { autoBuyUpgrades('researchesExtra'); }\n    if (global.automatization.autoR.length !== 0) { autoBuyUpgrades('researches'); }\n    if (global.automatization.autoU.length !== 0) { autoBuyUpgrades('upgrades'); }\n    if (stage.current === 1 && player.upgrades[6] === 1) { calculateGainedBuildings(3, passedSeconds); }\n    for (let i = global.buildingsInfo.name.length - 1; i >= 1; i--) {\n        if (toggles.buildings[i] && player.researchesAuto[1] >= i) { buyBuilding(i, true); }\n        if ((stage.current === 2 && i > 2) || (stage.current === 3 && i > 3)) { continue; }\n        calculateGainedBuildings(i - 1, passedSeconds);\n    }\n    /* If weird bugs will happen because of auto and void, then split function to isolate async part and call it normally */\n    if (toggles.auto[0]) { void stageResetCheck(true); }\n    if (stage.current === 4 && toggles.auto[4]) { void collapseResetCheck(true); }\n    if (stage.current === 3 && toggles.auto[3]) { void rankResetCheck(true); }\n    if (stage.current === 2 && toggles.auto[2]) { void vaporizationResetCheck(true); }\n    if (stage.current === 1 && toggles.auto[1]) { void dischargeResetCheck('interval'); }\n\n    if (timeLeft > 0) { invisibleUpdate(timeLeft); }\n};\n\nexport const numbersUpdate = () => { //This is for relevant visual info\n    const { stage, buildings, upgrades } = player;\n    const { tab, subtab } = global;\n\n    if (global.footer) {\n        if (stage.current === 1) {\n            getId('quarks').textContent = format(buildings[0].current);\n            if (player.discharge.energyMax >= 9) { getId('energy').textContent = format(player.discharge.energyCur, 0); }\n        } else if (stage.current === 2) {\n            getId('water').textContent = format(buildings[0].current);\n            if (tab !== 'stage') { getId('drops').textContent = format(buildings[1].current); }\n            if (upgrades[1] === 1) { getId('clouds').textContent = format(player.vaporization.clouds); }\n        } else if (stage.current === 3) {\n            getId('mass').textContent = format(buildings[0].current);\n        } else if (stage.current >= 4) {\n            getId('solarMass').textContent = format(player.collapse.mass);\n            getId('elements').textContent = format(buildings[0].current);\n        }\n    }\n    if (tab === 'stage') {\n        const { buildingsInfo, lastUpgrade } = global;\n        const { shop } = player.toggles;\n\n        for (let i = 1; i < buildingsInfo.name.length; i++) {\n            getId(`building${i}True`).textContent = `[${format(buildings[i].true, 0)}]`;\n            getId(`building${i}Cur`).textContent = format(buildings[i].current);\n            getId(`building${i}Prod`).textContent = format(buildingsInfo.producing[i]);\n            let e = i - 1;\n            if (stage.current === 2 && i !== 1) {\n                e = 1; //Drops\n            } else if (stage.current >= 3) {\n                e = 0; //Mass || Elements\n            }\n\n            if (stage.current >= 4 && player.collapse.mass < global.collapseInfo.unlockB[i]) {\n                getId(`building${i}`).classList.remove('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Unlocked at ${format(global.collapseInfo.unlockB[i])} Mass`;\n                getId(`building${i}BuyX`).textContent = 'Locked';\n                continue;\n            }\n\n            let totalCost: number;\n            let totalBuy: number;\n            if (player.researchesAuto[0] === 0 || shop.howMany === 1 || (buildingsInfo.cost[i] > buildings[e].current && (!shop.strict || shop.howMany === -1))) {\n                totalCost = buildingsInfo.cost[i];\n                totalBuy = 1;\n            } else {\n                const totalBefore = buildingsInfo.startCost[i] * ((buildingsInfo.increase[i] ** buildings[i].true - 1) / (buildingsInfo.increase[i] - 1));\n                const maxAfford = shop.strict && shop.howMany !== -1 ? 1 : Math.trunc(Math.log((totalBefore + buildings[e].current) * (buildingsInfo.increase[i] - 1) / buildingsInfo.startCost[i] + 1) / Math.log(buildingsInfo.increase[i])) - buildings[i].true;\n                totalBuy = shop.howMany === -1 ? maxAfford : shop.strict ? shop.howMany : Math.min(maxAfford, shop.howMany);\n                totalCost = buildingsInfo.startCost[i] * ((buildingsInfo.increase[i] ** (totalBuy + buildings[i].true) - 1) / (buildingsInfo.increase[i] - 1)) - totalBefore;\n            }\n\n            if (totalCost <= buildings[e].current) {\n                getId(`building${i}`).classList.add('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Make for: ${format(totalCost)} ${buildingsInfo.name[e]}`;\n                getId(`building${i}BuyX`).textContent = format(totalBuy);\n            } else {\n                getId(`building${i}`).classList.remove('availableBuilding');\n                getId(`building${i}Btn`).textContent = `Need: ${format(totalCost)} ${buildingsInfo.name[e]}`;\n                getId(`building${i}BuyX`).textContent = format(totalBuy);\n            }\n        }\n        if (stage.current === 1) {\n            getId('dischargeReset').textContent = `Next goal is ${format(global.dischargeInfo.next, 0)} Energy`;\n            getId('dischargeEffect').textContent = format(global.upgradesInfo.effect[3], 0);\n        } else if (stage.current === 2) {\n            getId('vaporizationReset').textContent = `Reset for ${format(global.vaporizationInfo.get)} Clouds`;\n        } else if (stage.current >= 4) {\n            getId('collapseReset').textContent = `Collapse to ${format(global.collapseInfo.newMass)} Mass`;\n            for (let i = 1; i <= player.researchesExtra[0]; i++) {\n                getId(`starSpecial${i}Cur`).textContent = format(player.collapse.stars[i - 1], 0);\n                getId(`starSpecial${i}Get`).textContent = format(global.collapseInfo.starCheck[i - 1], 0);\n            }\n        }\n\n        if (lastUpgrade[0] !== null && lastUpgrade[2]) { getUpgradeDescription(lastUpgrade[0], lastUpgrade[1]); }\n    } else if (tab === 'research') {\n        const { lastResearch } = global;\n\n        if (lastResearch[0] !== null && lastResearch[2]) { getUpgradeDescription(lastResearch[0], lastResearch[1]); }\n    } else if (tab === 'strangeness') {\n        getId('strange0Cur').textContent = format(player.strange[0].true, 0);\n        getId('strange0Prod').textContent = 'none'; /*format(global.strangeInfo.producing[0])*/\n        getId('strange0Gain').textContent = format(global.strangeInfo.stageGain + 1, 0);\n    } else if (tab === 'settings') {\n        if (subtab.settingsCurrent === 'settings') {\n            if (global.timeSpecial.lastSave >= 1000) { getId('isSaved').textContent = `${format(global.timeSpecial.lastSave, 0, 'time')} ago`; }\n            getId('exportGain').textContent = format(stage.export);\n        } else if (subtab.settingsCurrent === 'stats') {\n            getId('firstPlay').textContent = `${format(Date.now() - player.time.started, 0, 'time')} ago`;\n            getId('stageResetsCount').textContent = format(stage.resets, 0);\n            getId('maxOfflineStat').textContent = `${maxOfflineTime() / 3600} hours`;\n            for (let i = 0; i < player.buildings.length; i++) {\n                if (buildings[i].trueTotal === 0) { continue; } //Not break, because you might be able to make building out of order (probably)\n                getId(`building${i}StatTotal`).textContent = format(buildings[i].total);\n                getId(`building${i}StatTrueTotal`).textContent = format(buildings[i].trueTotal);\n            }\n            if (stage.current === 1) {\n                getId('maxEnergyStat').textContent = format(player.discharge.energyMax, 0);\n                getId('dischargeStat').textContent = format(player.discharge.current, 0);\n                getId('dischargeStatsBonus').textContent = `[+${format(player.strangeness[0][2], 0)}]`;\n            }\n        }\n    }\n};\n\nexport const visualUpdate = () => { //This is everything that can be shown later\n    const { stage, buildings, upgrades, researchesAuto, strangeness } = player;\n    const { screenReader } = global;\n\n    /* Most are hidden through stageCheck(); */\n    if (stage.current === 1) {\n        const { discharge } = player;\n\n        getId('energyStat').style.display = discharge.energyMax >= 9 ? '' : 'none';\n        getId('discharge').style.display = upgrades[3] === 1 ? '' : 'none';\n        getId('building2').style.display = buildings[1].trueTotal >= 11 ? '' : 'none';\n        getId('building3').style.display = buildings[2].trueTotal >= 2 ? '' : 'none';\n        if (discharge.energyMax >= 9) { getId('upgrades').style.display = ''; }\n        if (discharge.current >= 1) { getId('resetToggles').style.display = ''; }\n        for (let i = 5; i <= 8; i++) {\n            getId(`upgrade${i}`).style.display = discharge.current >= 3 ? '' : 'none';\n        }\n        if (discharge.current >= 4) { getId('researchTabBtn').style.display = ''; }\n        if (upgrades[7] === 1) { getId('stage').style.display = ''; }\n        getId('toggleAuto1').style.display = strangeness[0][3] >= 1 ? '' : 'none';\n        getId('stageReset').textContent = buildings[3].current >= 1.67e21 ? 'Enter next stage' : 'You are not ready';\n        if (screenReader) { getId('invisibleGetResource1').style.display = discharge.energyMax > 0 ? '' : 'none'; }\n\n        if (global.tab === 'settings' && global.subtab.settingsCurrent === 'stats') {\n            getId('energyStats').style.display = discharge.energyMax >= 9 ? '' : 'none';\n            getId('dischargeStats').style.display = discharge.current >= 1 || strangeness[0][2] >= 1 ? '' : 'none';\n            getId('dischargeStatsBonus').style.display = strangeness[0][2] >= 1 ? '' : 'none';\n        }\n\n        if (!player.events[0] && upgrades[4] === 1) { playEvent(0); }\n    } else if (stage.current === 2) {\n        const { vaporization } = player;\n\n        getId('dropStat').style.display = global.tab !== 'stage' ? '' : 'none';\n        getId('cloudStat').style.display = upgrades[1] === 1 ? '' : 'none';\n        getId('vaporization').style.display = upgrades[1] === 1 ? '' : 'none';\n        getId('vaporizationToggleReset').style.display = stage.true > 2 || vaporization.clouds > 1 ? '' : 'none';\n        getId('cloudResearch').style.display = vaporization.clouds > 1 ? '' : 'none';\n        getId('building2').style.display = buildings[1].trueTotal >= 300 ? '' : 'none';\n        getId('building3').style.display = buildings[1].trueTotal >= 5e6 ? '' : 'none';\n        getId('building4').style.display = buildings[1].trueTotal >= 5e17 ? '' : 'none';\n        getId('building5').style.display = buildings[1].trueTotal >= 5e22 ? '' : 'none';\n        getId('upgradeW3').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('upgradeW4').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('researchW3').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('researchW4').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('upgradeW2').style.display = buildings[3].trueTotal >= 1 ? '' : 'none';\n        getId('upgradeW5').style.display = buildings[3].trueTotal >= 1 ? '' : 'none';\n        getId('researchW5').style.display = buildings[3].trueTotal >= 1 ? '' : 'none';\n        getId('upgradeW6').style.display = buildings[4].trueTotal >= 1 ? '' : 'none';\n        getId('researchW6').style.display = buildings[4].trueTotal >= 1 ? '' : 'none';\n        getId('researchClouds3').style.display = buildings[5].trueTotal >= 1 ? '' : 'none';\n        getId('upgradeW7').style.display = buildings[5].trueTotal >= 1 && strangeness[1][2] >= 3 ? '' : 'none';\n        getId('toggleAuto2').style.display = strangeness[1][4] >= 1 ? '' : 'none';\n        getId('toggleAuto2Mark').style.display = strangeness[1][4] >= 1 ? '' : 'none';\n        getId('stageReset').textContent = buildings[1].current >= 1.194e29 ? 'Enter next stage' : 'You are not ready';\n        if (screenReader) { getId('invisibleGetResource1').style.display = upgrades[1] === 1 ? '' : 'none'; }\n\n        if (!player.events[0] && global.vaporizationInfo.get + vaporization.clouds > 1e4) { playEvent(1); }\n    } else if (stage.current === 3) {\n        const { accretion } = player;\n\n        getId('buildings').style.display = accretion.rank !== 0 ? '' : 'none';\n        getId('upgrades').style.display = accretion.rank >= 1 ? '' : 'none';\n        getId('stageResearch').style.display = accretion.rank >= 1 ? '' : 'none';\n        getId('upgradeA3').style.display = accretion.rank >= 2 ? '' : 'none';\n        getId('rankResearch').style.display = accretion.rank >= 2 ? '' : 'none';\n        getId('researchRank2').style.display = accretion.rank >= 3 ? '' : 'none';\n        getId('upgradeA5').style.display = accretion.rank >= 3 ? '' : 'none';\n        getId('researchA5').style.display = accretion.rank >= 3 ? '' : 'none';\n        getId('upgradeA6').style.display = accretion.rank >= 4 || upgrades[4] === 1 ? '' : 'none';\n        getId('researchA6').style.display = accretion.rank >= 4 || upgrades[4] === 1 ? '' : 'none';\n        getId('upgradeA7').style.display = accretion.rank >= 4 ? '' : 'none';\n        getId('upgradeA8').style.display = accretion.rank >= 4 ? '' : 'none';\n        getId('upgradeA9').style.display = accretion.rank >= 4 ? '' : 'none';\n        getId('researchA7').style.display = accretion.rank >= 4 ? '' : 'none';\n        getId('researchRank3').style.display = accretion.rank >= 4 ? '' : 'none';\n        getId('upgradeA10').style.display = accretion.rank >= 5 ? '' : 'none';\n        getId('upgradeA11').style.display = accretion.rank >= 5 ? '' : 'none';\n        getId('upgradeA12').style.display = accretion.rank >= 5 ? '' : 'none';\n        getId('researchA8').style.display = accretion.rank >= 5 ? '' : 'none';\n        getId('researchRank4').style.display = accretion.rank >= 5 ? '' : 'none';\n        getId('upgradeA4').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('researchA3').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('researchA4').style.display = buildings[2].trueTotal >= 1 ? '' : 'none';\n        getId('rankToggleReset').style.display = stage.true > 3 || accretion.rank >= 2 ? '' : 'none';\n        getId('building2').style.display = upgrades[2] === 1 ? '' : 'none';\n        getId('building3').style.display = upgrades[4] === 1 ? '' : 'none';\n        getId('building4').style.display = upgrades[6] === 1 ? '' : 'none';\n        getId('toggleAuto3').style.display = strangeness[2][4] >= 1 ? '' : 'none';\n        getId('stageReset').textContent = buildings[0].current >= 2.47e31 ? 'Enter next stage' : 'You are not ready';\n\n        if (global.tab === 'settings' && global.subtab.settingsCurrent === 'stats') {\n            for (let i = 0; i < global.accretionInfo.rankImage.length; i++) {\n                getId(`rankStat${i}`).style.display = accretion.rank >= i ? '' : 'none';\n            }\n        }\n\n        if (!player.events[0] && buildings[0].current >= 5e29) { playEvent(2); }\n    } else if (stage.current >= 4) {\n        const { collapse, researchesExtra } = player;\n\n        getId('collapse').style.display = upgrades[0] === 1 ? '' : 'none';\n        getId('collapseToggleReset').style.display = stage.true > 4 || collapse.mass > 0.01235 ? '' : 'none';\n        getId('starsSpecial').style.display = researchesExtra[0] >= 1 ? '' : 'none';\n        getId('starSpecial2').style.display = researchesExtra[0] >= 2 ? '' : 'none';\n        getId('starSpecial3').style.display = researchesExtra[0] >= 3 ? '' : 'none';\n        getId('starResearch').style.display = buildings[2].trueTotal > 0 ? '' : 'none';\n        getId('elementsGrid').style.display = upgrades[2] === 1 ? '' : 'flex';\n        for (let i = 6; i <= 10; i++) {\n            getId(`element${i}`).style.display = upgrades[2] === 1 ? '' : 'none';\n        }\n        upgrades[2] === 1 && collapse.mass < 10 ?\n            getId('elementsGrid').classList.add('Elements10App') :\n            getId('elementsGrid').classList.remove('Elements10App');\n        for (let i = 11; i <= 26; i++) {\n            getId(`element${i}`).style.display = collapse.mass >= 10 ? '' : 'none';\n        }\n        getId('building2').style.display = upgrades[1] === 1 ? '' : 'none';\n        getId('building3').style.display = upgrades[2] === 1 ? '' : 'none';\n        getId('building4').style.display = collapse.mass >= 10 ? '' : 'none';\n        getId('toggleAuto4').style.display = strangeness[3][5] >= 1 ? '' : 'none';\n        getId('toggleAuto4Mark').style.display = strangeness[3][5] >= 1 ? '' : 'none';\n        getId('researchS4').style.display = strangeness[3][2] >= 1 ? '' : 'none';\n        getId('upgradeS4').style.display = strangeness[3][2] >= 2 ? '' : 'none';\n        getId('element27').style.display = upgrades[3] === 1 ? '' : 'none';\n        getId('element28').style.display = upgrades[3] === 1 ? '' : 'none';\n        getId('researchStar2').style.display = strangeness[3][2] >= 3 ? '' : 'none';\n        getId('stageReset').textContent = stage.current === 5 ? 'Return back to start' : 'You are not ready';\n        if (screenReader) { getId('invisibleGetResource1').style.display = upgrades[0] === 1 ? '' : 'none'; }\n\n        if (!player.events[0] && researchesExtra[0] >= 1) { playEvent(3); }\n    }\n    if (stage.true >= 5) {\n        getId('toggleBuilding0').style.display = researchesAuto[1] >= 1 && researchesAuto[0] >= 2 ? '' : 'none';\n        getId('researchAuto4').style.display = strangeness[2][6] >= 1 ? '' : 'none';\n        getId('autoTogglesUpgrades').style.display = researchesAuto[3] >= 1 ? '' : 'none';\n        getId('autoToggle6').style.display = researchesAuto[3] >= 2 ? '' : 'none';\n        getId('autoToggle7').style.display = researchesAuto[3] >= 3 ? '' : 'none';\n        getId('exportSpecial').style.display = strangeness[3][7] >= 1 ? '' : 'none';\n    }\n\n    for (let i = 1; i < global.buildingsInfo.name.length; i++) {\n        getId(`building${i}True`).style.display = buildings[i].current !== buildings[i].true ? '' : 'none';\n        getId(`toggleBuilding${i}`).style.display = researchesAuto[1] >= i ? '' : 'none';\n        getId(`building${i}Stats`).style.display = buildings[i].trueTotal > 0 ? '' : 'none';\n        getId(`building${i}BuyDiv`).style.display = researchesAuto[0] > 0 ? '' : 'none';\n        if (screenReader) { getId(`invisibleGetBuilding${i}`).style.display = buildings[i].trueTotal > 0 ? '' : 'none'; }\n    }\n    getId('toggleBuy').style.display = researchesAuto[0] > 0 ? '' : 'none';\n};\n\nexport const getUpgradeDescription = (index: number, type: 'upgrades' | 'elements' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'strangeness', extra = 0) => {\n    const { stage } = player;\n    const { stageInfo } = global;\n\n    if (type === 'researches' || type === 'researchesAuto' || type === 'researchesExtra') {\n        let typeInfo = 'researchesAutoInfo' as 'researchesAutoInfo' | 'researchesS2Info';\n        if (type !== 'researchesAuto') { typeInfo = getUpgradeType(type) as 'researchesS2Info'; }\n        global.lastResearch = [index, type, global[typeInfo].effect[index] !== null];\n\n        /* Special cases */\n        if (type === 'researchesAuto' && index === 1) {\n            const autoIndex = Math.min(player.researchesAuto[1] + 1, global.buildingsInfo.name.length - 1);\n            global.researchesAutoInfo.effect[1] = player.buildings[autoIndex].trueTotal !== 0 ? global.buildingsInfo.name[autoIndex] : '(unknown)';\n        } else if (stage.current >= 4 && type === 'researchesExtra' && index === 0) {\n            const starIndex = Math.min(player.researchesExtra[0] + 2, global.buildingsInfo.name.length - 1);\n            global.researchesExtraS4Info.effect[0] = player.buildings[starIndex].trueTotal !== 0 ? global.buildingsInfo.name[starIndex] : '(Unknown)';\n        }\n\n        /* To explain: Effect.textContent = effectText[0] + effect[n] + effectText[1];\n           Unless effect[n] === null, then it just Effect.textContent = effectText[0] */\n        getId('researchText').textContent = global[typeInfo].description[index];\n        getId('researchEffect').textContent = `${global[typeInfo].effectText[index][0]}${format(global[typeInfo].effect[index] ?? '')}${global[typeInfo].effect[index] !== null ? `${global[typeInfo].effectText[index][1]}` : ''}`;\n        getId('researchCost').textContent = player[type][index] === global[typeInfo].max[index] ? 'Maxed.' :\n            type === 'researchesAuto' && index !== 1 && stage.current !== stageInfo.autoStage[index] ? `Can't be created outside of ${stageInfo.word[stageInfo.autoStage[index] - 1]} stage.` :\n            stage.current >= 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.` :\n            `${format(global[typeInfo].cost[index])} ${stageInfo.priceName}.`;\n    } else if (type === 'elements') {\n        const typeInfo = 'elementsInfo' as const;\n\n        getId('elementText').textContent = global[typeInfo].description[index];\n        getId('elementEffect').textContent = player[type][index] === 1 || player.collapse.show >= index ? `${global[typeInfo].effectText[index][0]}${format(global[typeInfo].effect[index] ?? '')}${global[typeInfo].effect[index] !== null ? `${global[typeInfo].effectText[index][1]}` : ''}` : 'Effect is not yet known.';\n        getId('elementCost').textContent = player[type][index] === 1 ? 'Obtained.' : `${format(global[typeInfo].cost[index])} ${stageInfo.priceName}.`;\n    } else if (type === 'upgrades') {\n        const typeInfo = getUpgradeType(type) as 'upgradesS2Info';\n        global.lastUpgrade = [index, type, global[typeInfo].effect[index] !== null];\n\n        getId('upgradeText').textContent = global[typeInfo].description[index];\n        getId('upgradeEffect').textContent = `${global[typeInfo].effectText[index][0]}${format(global[typeInfo].effect[index] ?? '')}${global[typeInfo].effect[index] !== null ? `${global[typeInfo].effectText[index][1]}` : ''}`;\n        getId('upgradeCost').textContent = player[type][index] === 1 ? 'Created.' :\n            stage.current >= 4 && global.collapseInfo.unlockU[index] > player.collapse.mass ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n            `${format(global[typeInfo].cost[index])} ${stageInfo.priceName}.`;\n    } else {\n        const typeInfo = 'strangenessInfo' as const;\n\n        /* Special cases */\n        if ((extra === 0 && index === 6) || (extra === 1 && index === 5)) { //Auto only to save space\n            global.strangenessInfo[extra].effect[index] = extra === stage.current - 1 ? global.buildingsInfo.name[Math.min(player.strangeness[0][6] + 1, global.buildingsInfo.name.length - 1)] : '(unavailable)';\n        }\n\n        getId('strangenessStage').style.color = stageInfo.textColor[extra];\n        getId('strangenessStage').textContent = `${stageInfo.word[extra]}.`;\n        getId('strangenessText').textContent = ` ${global[typeInfo][extra].description[index]}`;\n        getId('strangenessEffect').textContent = `${global[typeInfo][extra].effectText[index][0]}${format(global[typeInfo][extra].effect[index] ?? '')}${global[typeInfo][extra].effect[index] !== null ? `${global[typeInfo][extra].effectText[index][1]}` : ''}`;\n        getId('strangenessCost').textContent = player[type][extra][index] === global[typeInfo][extra].max[index] ? 'Maxed.' : `${format(global[typeInfo][extra].cost[index])} Strange quarks.`;\n    }\n};\n\nexport const visualUpdateUpgrades = (index: number, type: 'upgrades' | 'elements' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'strangeness', extraNum = 0) => {\n    const { stage } = player;\n\n    let typeInfo = 'researchesAutoInfo' as 'researchesAutoInfo' | 'researchesS2Info'; //If to add as 'upgradesS2Info' or 'elementsInfo', TS won't realize that code bellow has check for property 'max'...\n    if (type === 'elements') {\n        typeInfo = 'elementsInfo' as 'researchesS2Info';\n    } else if (type === 'strangeness') {\n        typeInfo = 'strangenessInfo' as 'researchesS2Info';\n    } else if (type !== 'researchesAuto') {\n        typeInfo = getUpgradeType(type) as 'researchesS2Info';\n    }\n\n    let extra = '';\n    if (type === 'researchesAuto') {\n        extra = 'Auto';\n    } else if (type === 'strangeness') {\n        extra = `Stage${extraNum + 1}`;\n    } else if (stage.current === 2) {\n        if (type === 'researches' || type === 'upgrades') {\n            extra = 'W';\n        } else if (type === 'researchesExtra') {\n            extra = 'Clouds';\n        }\n    } else if (stage.current === 3) {\n        if (type === 'researches' || type === 'upgrades') {\n            extra = 'A';\n        } else if (type === 'researchesExtra') {\n            extra = 'Rank';\n        }\n    } else if (stage.current >= 4) {\n        if (type === 'researches' || type === 'upgrades') {\n            extra = 'S';\n        } else if (type === 'researchesExtra') {\n            extra = 'Star';\n        }\n    }\n\n    let upgradeHTML: HTMLElement;\n    if (type === 'researches' || type === 'researchesAuto' || type === 'researchesExtra') {\n        upgradeHTML = getId(`research${extra}${index + 1}Level`);\n    } else if (type === 'elements') {\n        upgradeHTML = getId(`element${index}`);\n    } else if (type === 'strangeness') {\n        upgradeHTML = getId(`strange${index + 1}${extra}Level`);\n    } else {\n        upgradeHTML = getId(`upgrade${extra}${index + 1}`);\n    }\n\n    if (type !== 'strangeness') {\n        if (Object.hasOwn(global[typeInfo], 'max')) {\n            getId(`research${extra}${index + 1}Max`).textContent = `${global[typeInfo].max[index]}`;\n            upgradeHTML.textContent = `${player[type][index]}`;\n            if (player[type][index] === global[typeInfo].max[index]) {\n                upgradeHTML.style.color = 'var(--green-text-color)';\n            } else if (player[type][index] === 0) {\n                upgradeHTML.style.color = ''; //Red\n            } else {\n                upgradeHTML.style.color = 'var(--orchid-text-color)';\n            }\n        } else {\n            let color = 'green';\n            if (type === 'elements') {\n                if ([1, 2, 3, 4, 11, 12, 19, 20].includes(index)) {\n                    color = '#780000'; //Darker darkred\n                } else if ([5, 6, 7, 8, 9, 10, 13, 14, 15, 16, 17, 18].includes(index)) {\n                    color = '#a55900'; //Darker darkorange\n                } else {\n                    color = '#0000c1'; //Darker mediumblue\n                }\n            } else {\n                if (stage.current === 2) {\n                    color = 'darkgreen';\n                } else if (stage.current === 3) {\n                    color = '#0000b1'; //Darker blue\n                } else if (stage.current >= 4) {\n                    color = '#1f1f8f'; //Brigher midnightblue\n                }\n            }\n            upgradeHTML.style.backgroundColor = player[type][index] === 1 ? color : '';\n        }\n    } else {\n        //getId(`strange${index + 1}${extra}Max`).textContent = `${global[typeInfo as 'strangenessInfo'][extraNum].max[index]}`;\n        upgradeHTML.textContent = `${player[type][extraNum][index]}`;\n        if (player[type][extraNum][index] === global[typeInfo as 'strangenessInfo'][extraNum].max[index]) {\n            upgradeHTML.style.color = 'var(--green-text-color)';\n        } else if (player[type][extraNum][index] === 0) {\n            upgradeHTML.style.color = ''; //Red\n        } else {\n            upgradeHTML.style.color = 'var(--orchid-text-color)';\n        }\n    }\n};\n\nexport const updateRankInfo = () => {\n    const { accretion } = player;\n    const { accretionInfo } = global;\n    const image = getId('rankImage') as HTMLImageElement;\n    const name = getId('rankName') as HTMLSpanElement;\n\n    //Important Rank information\n    accretionInfo.rankCost[4] = player.events[0] ? 5e29 : 0;\n\n    //Visuals\n    getId('rankMessage').textContent = accretion.rank === 0 ?\n        'Might need more than just water... You can increase rank with Mass.' :\n        'You can increase it with Mass. (Return back to Dust, but unlock something new)';\n    getId('rankReset').textContent = accretionInfo.rankCost[accretion.rank] === 0 ?\n        'Max rank achieved' : `Next rank is ${format(accretionInfo.rankCost[accretion.rank])} Mass`;\n    image.src = `Used_art/${accretionInfo.rankImage[accretion.rank]}.png`;\n    image.alt = accretionInfo.rankName[accretion.rank];\n    name.textContent = accretionInfo.rankName[accretion.rank];\n    if (accretion.rank === 0) {\n        name.style.color = ''; //Blue\n    } else if (accretion.rank === 1) {\n        name.style.color = 'var(--cyan-text-color)';\n    } else if (accretion.rank === 5) {\n        name.style.color = 'var(--darkviolet-text-color)';\n    } else {\n        name.style.color = 'var(--gray-text-color)';\n    }\n};\n\nexport const format = (input: number | string, digits = 'auto' as 'auto' | number, type = 'number' as 'number' | 'input' | 'time'): string => {\n    if (typeof input !== 'number') { return input; } //String's are being send here (for a reason)\n    const precision = digits === 'auto' ? (input < 1e3 ? (input < 1 ? 4 : 2) : 0) : digits;\n    switch (type) { //toLocaleString() is banned, I don't want that slowness and weird behavior\n        case 'input':\n        case 'number':\n            if (!isFinite(input)) { return 'Infinity'; }\n            if (input >= 1e6 || (input < 1e-3 && input > 0)) { //Format for these cases\n                const digits = Math.floor(Math.log10(input));\n                const endValue = Math.round(input / 10 ** (digits - 2)) / 100; //I feel like I am losing my mind to floats\n                if (type === 'input') { return `${endValue}e${digits}`; }\n                return `${(`${endValue}`).replace('.', player.separator[1])}e${digits}`;\n            } else { //Regex will fail if input >= 1e6 (add g to regex to fix it) or input <= 1000 while precision >= 3 (split('.') string in that case)\n                if (precision > 0) {\n                    const endValue = Math.round(input * (10 ** precision)) / (10 ** precision);\n                    if (type === 'input') { return `${endValue}`; }\n                    return endValue >= 1000 ?\n                        (`${endValue}`).replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]).replace('.', player.separator[1]) :\n                        (`${endValue}`).replace('.', player.separator[1]);\n                } else {\n                    if (type === 'input') { return `${Math.round(input)}`; }\n                    return (`${Math.round(input)}`).replace(/\\B(?=(\\d{3})+(?!\\d))/, player.separator[0]);\n                }\n            }\n        case 'time':\n            if (input >= 172800000) {\n                return `${Math.trunc(input / 86400000)} days`;\n            } else if (input >= 7200000) {\n                return `${Math.trunc(input / 3600000)} hours`;\n            } else if (input >= 600000) {\n                return `${Math.trunc(input / 60000)} minutes`;\n            } else {\n                return `${Math.trunc(input / 1000)} seconds`;\n            }\n    }\n};\n\nexport const stageCheck = (extra = '' as 'soft' | 'reload') => {\n    const { stage } = player;\n    const { stageInfo, buildingsInfo, researchesAutoInfo } = global;\n\n    //Add (change) unique information\n    if (stage.current === 1) {\n        stageInfo.priceName = 'Energy';\n        buildingsInfo.name = ['Quarks', 'Particles', 'Atoms', 'Molecules']; //Assign new constants\n        buildingsInfo.type = ['producing', 'producing', 'producing', 'producing'];\n        buildingsInfo.increase = [0, 1.4, 1.4, 1.4];\n        globalStart.buildingsInfo.startCost = [0, 3, 24, 3];\n        globalStart.researchesAutoInfo.cost[1] = 4000;\n        researchesAutoInfo.scaling[1] = 8000;\n    } else if (stage.current === 2) {\n        stageInfo.priceName = 'Drops';\n        buildingsInfo.name = ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas'];\n        buildingsInfo.type = ['producing', 'producing', 'producing', 'improves', 'improves', 'improves'];\n        buildingsInfo.increase = [0, 1.2, 1.2, 1.2, 1.2, 1.2];\n        globalStart.buildingsInfo.startCost = [0, 0.0028, 100, 1e7, 1e18, 1e23];\n        globalStart.researchesAutoInfo.cost[1] = 1e10;\n        researchesAutoInfo.scaling[1] = 1000;\n    } else if (stage.current === 3) {\n        stageInfo.priceName = 'Mass';\n        buildingsInfo.name = ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'];\n        buildingsInfo.type = ['producing', 'producing', 'producing', 'producing', 'improves'];\n        buildingsInfo.increase = [0, 1.15, 1.15, 1.15, 10];\n        globalStart.buildingsInfo.startCost = [0, 1e-19, 1e-9, 1e21, 1e17];\n        globalStart.researchesAutoInfo.cost[1] = 1e-7;\n        researchesAutoInfo.scaling[1] = 1e17;\n        updateRankInfo();\n    } else if (stage.current >= 4) {\n        stageInfo.priceName = 'Elements';\n        buildingsInfo.name = ['Elements', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants'];\n        buildingsInfo.type = ['producing', 'producing', 'producing', 'producing', 'producing'];\n        buildingsInfo.increase = [0, 1.4, 1.55, 1.70, 1.85];\n        globalStart.buildingsInfo.startCost = [0, 1, 1e5, 1e16, 1e31];\n        globalStart.researchesAutoInfo.cost[1] = 1e6;\n        researchesAutoInfo.scaling[1] = 1e11;\n        for (let i = 1; i < global.elementsInfo.cost.length; i++) { visualUpdateUpgrades(i, 'elements'); }\n    }\n    calculateStageInformation();\n\n    //Remove (hide) all information that might be missing in a new stage\n    getId('buildings').style.display = '';\n    for (let i = buildingsInfo.name.length; i < playerStart.buildings.length; i++) {\n        getId(`building${i}`).style.display = 'none';\n        getId(`building${i}Stats`).style.display = 'none';\n        if (global.screenReader) { getId(`invisibleGetBuilding${i}`).style.display = 'none'; }\n    }\n    if (extra !== 'soft') { //I should probably add more into here...\n        for (const text of ['upgrade', 'research', 'element']) {\n            getId(`${text}Text`).textContent = 'Hover to see.';\n            getId(`${text}Effect`).textContent = 'Hover to see.';\n            getId(`${text}Cost`).textContent = 'Resource.';\n        }\n        if (extra === 'reload') {\n            getId('strangenessStage').textContent = '';\n            getId('strangenessText').textContent = 'Hover to see.';\n            getId('strangenessEffect').textContent = 'Hover to see.';\n            getId('strangenessCost').textContent = 'Strange quarks.';\n            for (let s = 0; s < global.strangenessInfo.length; s++) {\n                for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n                    calculateResearchCost(i, 'strangeness', s);\n                    visualUpdateUpgrades(i, 'strangeness', s);\n                }\n            }\n        }\n        global.lastUpgrade[0] = null;\n        global.lastResearch[0] = null;\n    }\n\n    //Hide | show stage specific information (what isn't here is already in visualUpdate())\n    for (let s = 1; s <= 5; s++) {\n        for (const i of getClass(`stage${s}Only`)) {\n            if (s <= 3) {\n                i.style.display = stage.current === s ? '' : 'none';\n            } else {\n                i.style.display = stage.current >= s ? '' : 'none';\n            }\n        }\n    }\n\n    for (const i of getClass('stage2Unlock')) { i.style.display = stage.true >= 2 ? '' : 'none'; }\n    for (const i of getClass('stage5Unlock')) { i.style.display = stage.true >= 5 ? '' : 'none'; }\n    if (localStorage.getItem('theme') !== null) { getId('themeArea').style.display = ''; }\n    for (let i = 2; i <= stageInfo.word.length; i++) { getId(`switchTheme${i}`).style.display = stage.true >= i ? '' : 'none'; }\n    if (stage.true >= 5) {\n        for (let i = 2; i <= 4; i++) {\n            getId(`strangenessSection${i}`).style.display = stage.resets >= i + 3 ? '' : 'none';\n        }\n        if (player.strange[0].total < 1) { getId('strangenessTabBtn').style.display = 'none'; }\n        //stage.resets >= 8 || (stage.current === 5 && stage.resets >= 7) ? '' : 'none';\n        //Section, stage.resets >= 11 || (stage.current === 5 && stage.resets >= 7) ? '' : 'none';\n        if (stage.resets < 15) { getId('toggleAuto0').style.display = 'none'; }\n        if (stage.resets < 15) { getId('toggleAuto0Mark').style.display = 'none'; }\n    }\n\n    //Buildings, researches and upgrades\n    for (let i = 1; i < buildingsInfo.name.length; i++) {\n        buildingsInfo.startCost[i] = globalStart.buildingsInfo.startCost[i];\n        getId(`building${i}`).style.color = stage.current >= 5 ? 'var(--orange-text-color)' : '';\n        getId(`building${i}StatName`).style.color = stage.current >= 5 ? 'var(--orange-text-color)' : '';\n        getId(`building${i}StatName`).textContent = buildingsInfo.name[i];\n        getId(`building${i}Name`).textContent = buildingsInfo.name[i];\n        getId(`building${i}Type`).textContent = buildingsInfo.type[i];\n        calculateBuildingsCost(i);\n    }\n    getId('building0StatName').style.color = stage.current >= 5 ? 'var(--orange-text-color)' : '';\n    getId('building0StatName').textContent = buildingsInfo.name[0];\n\n    const upgradeType = getUpgradeType('upgrades') as 'upgradesS2Info';\n    const researchType = getUpgradeType('researches') as 'researchesS2Info';\n    const researchExtraType = getUpgradeType('researchesExtra') as 'researchesExtraS2Info';\n\n    //Should be before calculateMaxLevel();\n    autoBuyUpgrades('upgrades', true);\n    global.automatization.autoR = [];\n    global.automatization.autoE = [];\n\n    for (let i = 0; i < global[upgradeType].cost.length; i++) { visualUpdateUpgrades(i, 'upgrades'); }\n    //If max level can change it will update it, if max level always same, then it will only calculateResearchCost(); and visualUpdateUpgrades();\n    for (let i = 0; i < global[researchType].cost.length; i++) { calculateMaxLevel(i, 'researches'); }\n    if (stage.current !== 1) { //No idea if stage 1 will ever have it\n        for (let i = 0; i < global[researchExtraType].cost.length; i++) { calculateMaxLevel(i, 'researchesExtra'); }\n    }\n    for (let i = 0; i < researchesAutoInfo.cost.length; i++) { calculateMaxLevel(i, 'researchesAuto'); }\n\n    //Special information\n    const body = document.body.style;\n    getId('stageWord').textContent = stageInfo.word[stage.current - 1];\n    if (stage.current === 1) {\n        body.removeProperty('--border-image');\n        body.removeProperty('--border-stage');\n        body.removeProperty('--stage-text-color');\n    } else {\n        body.setProperty('--border-image', `url(Used_art/Stage${stage.current}%20border.png)`);\n        body.setProperty('--border-stage', stageInfo.borderColor[stage.current - 1]);\n        body.setProperty('--stage-text-color', stageInfo.textColor[stage.current - 1]);\n    }\n    if (global.screenReader) {\n        getId('invisibleBought').textContent = `Current stage is '${stageInfo.word[stage.current - 1]}'`;\n        if (stage.current === 3) {\n            getId('invisibleGetResource1').style.display = 'none';\n        } else { //'Rank' is never used\n            stageInfo.resourceName = ['Energy', 'Clouds', 'Rank', 'Stars'][Math.min(stage.current - 1, 3)];\n            getId('invisibleGetResource1').textContent = `Get information for ${stageInfo.resourceName}`;\n        }\n        for (let i = 0; i < buildingsInfo.name.length; i++) {\n            getId(`invisibleGetBuilding${i}`).textContent = `Get information for ${buildingsInfo.name[i]}`;\n        }\n        getId('invisibleGetResource2').style.display = player.strange[0].total > 0 ? '' : 'none';\n    }\n    visualUpdate();\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { switchTab } from './Update';\nimport { buyBuilding, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, vaporizationResetCheck } from './Stage';\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    const checkEl = document.activeElement as HTMLInputElement;\n    if (checkEl.type === 'text' || checkEl.type === 'number') {\n        return; //Return if any inputs are focused\n    } else {\n        check.code === 'Tab' ? //I just want to remove outline when hitting buttons that is not a tab...\n            document.body.classList.add('outlineOnFocus') :\n            document.body.classList.remove('outlineOnFocus');\n    }\n    if (check.ctrlKey || check.altKey) { return; } //No buttons are using it\n\n    const shift = check.shiftKey;\n    const isNumber = !isNaN(Number(check.code.slice(-1)));\n    const key = !player.toggles.normal[6] || (isNumber && shift) ?\n        check.code : check.key;\n\n    //These one's can be holded down\n    if (isNumber) {\n        const numberKey = Number(key.slice(-1));\n\n        //Buildings\n        if (numberKey > 0 && numberKey < global.buildingsInfo.name.length && !shift) {\n            buyBuilding(numberKey); //Check is already inside\n        }\n    } else if (check.key.length === 1) { //Maybe this could work same as a-z regex\n        const stringKey = key.slice(-1).toLowerCase();\n\n        //Resets\n        if (!shift) {\n            if (stringKey === 's') {\n                void stageResetCheck();\n            } else if (stringKey === 'd') {\n                void dischargeResetCheck();\n            } else if (stringKey === 'v') {\n                void vaporizationResetCheck();\n            } else if (stringKey === 'r') {\n                void rankResetCheck();\n            } else if (stringKey === 'c') {\n                void collapseResetCheck();\n            }\n        }\n    }\n\n    if (!check.repeat) {\n        if (key === 'ArrowLeft' || key === 'ArrowRight') {\n            const { tabs } = global.tabList;\n            let index = tabs.indexOf(global.tab);\n            if (index === -1) { return console.error(`Tab '${global.tab}' wasn't found in the list`); }\n\n            if (key === 'ArrowLeft') {\n                do {\n                    if (index === 0) {\n                        index = tabs.length - 1;\n                    } else {\n                        index--;\n                    }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            } else {\n                do {\n                    if (index === tabs.length - 1) {\n                        index = 0;\n                    } else {\n                        index++;\n                    }\n                } while (!checkTab(tabs[index]));\n                switchTab(tabs[index]);\n            }\n        } else if (key === 'ArrowDown' || key === 'ArrowUp') {\n            if (!Object.hasOwn(global.subtab, global.tab + 'Current')) { return; }\n            const subtabs = global.tabList[global.tab + 'Subtabs'];\n            let index = subtabs.indexOf(global.subtab[global.tab + 'Current' as 'settingsCurrent']);\n            if (index === -1) { return console.error(`Subtab '${global.subtab[global.tab + 'Current' as 'settingsCurrent']}' wasn't found in the list`); }\n\n            if (key === 'ArrowDown') {\n                do {\n                    if (index === 0) {\n                        index = subtabs.length - 1;\n                    } else {\n                        index--;\n                    }\n                } while (!checkTab(global.tab, subtabs[index]));\n                switchTab(global.tab, subtabs[index]);\n            } else {\n                do {\n                    if (index === subtabs.length - 1) {\n                        index = 0;\n                    } else {\n                        index++;\n                    }\n                } while (!checkTab(global.tab, subtabs[index]));\n                switchTab(global.tab, subtabs[index]);\n            }\n        }\n    }\n};\n", "import { player, global, playerStart, updatePlayer, startValue, checkPlayerValues } from './Player';\nimport { getUpgradeDescription, invisibleUpdate, switchTab, numbersUpdate, visualUpdate, format, stageCheck, maxOfflineTime } from './Update';\nimport { autoBuyUpgrades, buyBuilding, buyUpgrades, collapseResetCheck, dischargeResetCheck, rankResetCheck, stageResetCheck, toggleBuy, toggleSwap, vaporizationResetCheck } from './Stage';\nimport { Alert, Confirm, hideFooter, Prompt, setTheme, changeFontSize, switchTheme, screenReaderSupport, mobileDeviceSupport, removeTextMovement, changeFormat } from './Special';\nimport { detectHotkey } from './Hotkeys';\n/* There can be a problem with incorrect build, imports can be called in a wrong order */\n/* Small notes for myself: (tested with many, many loops) */\n//Optimizing visualUpdate() by using if...else... won't change anything (using a = b = c, will slow it down)\n//Removing decostructing ({ a } = b), in most cases will slow down code\n\nexport const getId = (id: string): HTMLElement => { //To type less and check if ID exist\n    const i = document.getElementById(id);\n    if (i !== null) { return i; }\n    Alert(`ID of HTML element (${id}), failed to load, game will not work properly, please refresh. If this happens more than once, then please report it`);\n    throw new ReferenceError(`ID \"${id}\" not found.`);\n};\n\nexport const getClass = (idCollection: string) => [...document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>];\n\nexport const reLoad = async(firstLoad = false) => {\n    if (firstLoad) {\n        console.time('Game loaded in'); //Just for fun\n        const save = localStorage.getItem('save');\n        const theme = localStorage.getItem('theme');\n        if (save !== null) {\n            const load = JSON.parse(atob(save));\n            updatePlayer(load);\n            if (player.toggles.normal[0]) {\n                const offlineTime = Date.now() - player.time.updated;\n                Alert(`Welcome back, you were away for ${format(offlineTime, 0, 'time')}.${offlineTime > maxOfflineTime() * 1000 ? ` (Max offline time is ${global.timeSpecial.maxOffline / 3600} hours)` : ''}${global.versionInfo.changed ? ` Game has been updated to ${player.version}, ${global.versionInfo.log}` : `\\nCurrent version is ${player.version}`}`);\n            }\n        } else {\n            Alert(`Welcome to 'Fundamental'.\\nThis is a test-project made by awWhy. Should be supported by modern browsers, phones and screen readers (need to turn support ON in settings).\\nWas inspired by 'Synergism', 'Antimatter Dimensions' and others.\\nCurrent version is ${player.version}`);\n        }\n        if (theme !== null) {\n            global.theme.default = false;\n            global.theme.stage = Number(theme);\n        }\n\n        /* These one's better to do only on page reload */\n        mobileDeviceSupport();\n        screenReaderSupport(false, 'toggle', 'reload');\n        changeFontSize();\n        if (localStorage.getItem('textMove') !== null) { removeTextMovement(); }\n    }\n    stageCheck('reload'); //All related stage information and visualUpdate(), also calculateStageInformation();\n    if (firstLoad) { //Prevent spoilers\n        getId('body').style.display = '';\n        getId('loading').style.display = 'none';\n        console.timeEnd('Game loaded in');\n    }\n    checkPlayerValues(); //Has to be done after stageCheck();\n    //Visual appearence\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('thousandSeparator') as HTMLInputElement).value = player.separator[0];\n    (getId('decimalPoint') as HTMLInputElement).value = player.separator[1];\n    (getId('stageInput') as HTMLInputElement).value = `${player.stage.input}`;\n    (getId('vaporizationInput') as HTMLInputElement).value = `${player.vaporization.input}`;\n    (getId('collapseMassInput') as HTMLInputElement).value = `${player.collapse.inputM}`;\n    (getId('collapseStarsInput') as HTMLInputElement).value = `${player.collapse.inputS}`;\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) { toggleSwap(i, 'normal'); }\n    for (let i = 0; i < playerStart.toggles.buildings.length; i++) { toggleSwap(i, 'buildings'); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    toggleBuy(); //Also numbersUpdate();\n    switchTheme();\n\n    if (firstLoad && !player.toggles.normal[0]) {\n        const offlineTime = Date.now() - player.time.updated;\n        const noOffline = await Confirm(`Welcome back, you were away for ${format(offlineTime, 0, 'time')}${offlineTime > maxOfflineTime() * 1000 ? ` (max offline time is ${global.timeSpecial.maxOffline / 3600} hours)` : ''}. Game was set to have offline time disabled. Press confirm to NOT to gain offline time.${global.versionInfo.changed ? ` Also game has been updated to ${player.version}, ${global.versionInfo.log}` : `\\nCurrent version is ${player.version}`}`);\n        if (noOffline) {\n            global.timeSpecial.lastSave += offlineTime;\n            player.time.updated = Date.now();\n        }\n    }\n    changeIntervals(false, 'all'); //Will 'unpause' game, also set all of inputs values\n};\n\nvoid reLoad(true); //This will start the game\n\n/* Global */\nconst { mobileDevice, screenReader } = global;\ndocument.addEventListener('keydown', (key: KeyboardEvent) => detectHotkey(key));\nconst textInputs = [...document.querySelectorAll('input[type=\"text\"]'), ...document.querySelectorAll('input[type=\"number\"]')] as HTMLInputElement[];\nfor (const text of textInputs) {\n    text.addEventListener('focus', () => document.body.classList.add('outlineOnFocus'));\n}\nfor (let i = 0; i < playerStart.toggles.normal.length; i++) {\n    getId(`toggle${i}`).addEventListener('click', () => toggleSwap(i, 'normal', true));\n}\nfor (let i = 0; i < playerStart.toggles.buildings.length; i++) {\n    getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n}\nfor (let i = 0; i < playerStart.toggles.auto.length; i++) {\n    getId(`toggleAuto${i}`).addEventListener('click', () => toggleSwap(i, 'auto', true));\n}\n\n/* Stage tab */\nfor (let i = 1; i < playerStart.buildings.length; i++) {\n    getId(`building${i}Btn`).addEventListener('click', () => buyBuilding(i));\n}\nfor (let i = 0; i < global.upgradesInfo.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`upgrade${i + 1}`).addEventListener('mouseover', () => getUpgradeDescription(i, 'upgrades', 1));\n        getId(`upgrade${i + 1}`).addEventListener('click', () => buyUpgrades(i, 'upgrades', 1));\n    } else {\n        getId(`upgrade${i + 1}`).addEventListener('touchstart', () => getUpgradeDescription(i, 'upgrades', 1));\n        getId(`upgrade${i + 1}`).addEventListener('touchend', () => buyUpgrades(i, 'upgrades', 1));\n    }\n    if (screenReader) { getId(`upgrade${i + 1}`).addEventListener('focus', () => getUpgradeDescription(i, 'upgrades', 1)); }\n}\n//Number at the end, is a prevention for impossible event (HTML element is hidden). No number (or 0) means it allowed to be called from any stage\nfor (let i = 0; i < global.upgradesS2Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`upgradeW${i + 1}`).addEventListener('mouseover', () => getUpgradeDescription(i, 'upgrades', 2));\n        getId(`upgradeW${i + 1}`).addEventListener('click', () => buyUpgrades(i, 'upgrades', 2));\n    } else {\n        getId(`upgradeW${i + 1}`).addEventListener('touchstart', () => getUpgradeDescription(i, 'upgrades', 2));\n        getId(`upgradeW${i + 1}`).addEventListener('touchend', () => buyUpgrades(i, 'upgrades', 2));\n    }\n    if (screenReader) { getId(`upgradeW${i + 1}`).addEventListener('focus', () => getUpgradeDescription(i, 'upgrades', 2)); }\n}\nfor (let i = 0; i < global.upgradesS3Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`upgradeA${i + 1}`).addEventListener('mouseover', () => getUpgradeDescription(i, 'upgrades', 3));\n        getId(`upgradeA${i + 1}`).addEventListener('click', () => buyUpgrades(i, 'upgrades', 3));\n    } else {\n        getId(`upgradeA${i + 1}`).addEventListener('touchstart', () => getUpgradeDescription(i, 'upgrades', 3));\n        getId(`upgradeA${i + 1}`).addEventListener('touchend', () => buyUpgrades(i, 'upgrades', 3));\n    }\n    if (screenReader) { getId(`upgradeA${i + 1}`).addEventListener('focus', () => getUpgradeDescription(i, 'upgrades', 3)); }\n}\nfor (let i = 0; i < global.upgradesS4Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`upgradeS${i + 1}`).addEventListener('mouseover', () => getUpgradeDescription(i, 'upgrades', 4));\n        getId(`upgradeS${i + 1}`).addEventListener('click', () => buyUpgrades(i, 'upgrades', 4));\n    } else {\n        getId(`upgradeS${i + 1}`).addEventListener('touchstart', () => getUpgradeDescription(i, 'upgrades', 4));\n        getId(`upgradeS${i + 1}`).addEventListener('touchend', () => buyUpgrades(i, 'upgrades', 4));\n    }\n    if (screenReader) { getId(`upgradeS${i + 1}`).addEventListener('focus', () => getUpgradeDescription(i, 'upgrades', 4)); }\n}\ngetId('dischargeReset').addEventListener('click', async() => await dischargeResetCheck());\ngetId('vaporizationReset').addEventListener('click', async() => await vaporizationResetCheck());\ngetId('rankReset').addEventListener('click', async() => await rankResetCheck());\ngetId('stageReset').addEventListener('click', async() => await stageResetCheck());\ngetId('collapseReset').addEventListener('click', async() => await collapseResetCheck());\ngetId('buy1x').addEventListener('click', () => toggleBuy('1'));\ngetId('buyAny').addEventListener('click', () => toggleBuy('any'));\ngetId('buyAnyInput').addEventListener('blur', () => toggleBuy('any'));\ngetId('buyMax').addEventListener('click', () => toggleBuy('max'));\ngetId('buyStrict').addEventListener('click', () => toggleBuy('strict'));\n\n/* Research tab */\nfor (let i = 0; i < global.researchesInfo.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`research${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researches', 1));\n        getId(`research${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researches', 1));\n    } else {\n        getId(`research${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researches', 1));\n        getId(`research${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researches', 1));\n    }\n    if (screenReader) { getId(`research${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researches', 1)); }\n}\nfor (let i = 0; i < global.researchesS2Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchW${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researches', 2));\n        getId(`researchW${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researches', 2));\n    } else {\n        getId(`researchW${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researches', 2));\n        getId(`researchW${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researches', 2));\n    }\n    if (screenReader) { getId(`researchW${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researches', 2)); }\n}\nfor (let i = 0; i < global.researchesExtraS2Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchClouds${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researchesExtra', 2));\n        getId(`researchClouds${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researchesExtra', 2));\n    } else {\n        getId(`researchClouds${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researchesExtra', 2));\n        getId(`researchClouds${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researchesExtra', 2));\n    }\n    if (screenReader) { getId(`researchClouds${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researchesExtra', 2)); }\n}\nfor (let i = 0; i < global.researchesS3Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchA${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researches', 3));\n        getId(`researchA${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researches', 3));\n    } else {\n        getId(`researchA${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researches', 3));\n        getId(`researchA${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researches', 3));\n    }\n    if (screenReader) { getId(`researchA${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researches', 3)); }\n}\nfor (let i = 0; i < global.researchesExtraS3Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchRank${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researchesExtra', 3));\n        getId(`researchRank${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researchesExtra', 3));\n    } else {\n        getId(`researchRank${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researchesExtra', 3));\n        getId(`researchRank${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researchesExtra', 3));\n    }\n    if (screenReader) { getId(`researchRank${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researchesExtra', 3)); }\n}\nfor (let i = 0; i < global.researchesS4Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchS${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researches', 4));\n        getId(`researchS${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researches', 4));\n    } else {\n        getId(`researchS${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researches', 4));\n        getId(`researchS${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researches', 4));\n    }\n    if (screenReader) { getId(`researchS${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researches', 4)); }\n}\nfor (let i = 0; i < global.researchesExtraS4Info.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchStar${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researchesExtra', 4));\n        getId(`researchStar${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researchesExtra', 4));\n    } else {\n        getId(`researchStar${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researchesExtra', 4));\n        getId(`researchStar${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researchesExtra', 4));\n    }\n    if (screenReader) { getId(`researchStar${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researchesExtra', 4)); }\n}\nfor (let i = 0; i < global.researchesAutoInfo.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`researchAuto${i + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'researchesAuto'));\n        getId(`researchAuto${i + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'researchesAuto'));\n    } else {\n        getId(`researchAuto${i + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'researchesAuto'));\n        getId(`researchAuto${i + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'researchesAuto'));\n    }\n    if (screenReader) { getId(`researchAuto${i + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'researchesAuto')); }\n}\nfor (let i = 1; i < global.elementsInfo.cost.length; i++) {\n    if (!mobileDevice) {\n        getId(`element${i}`).addEventListener('mouseover', () => getUpgradeDescription(i, 'elements', 4));\n        getId(`element${i}`).addEventListener('click', () => buyUpgrades(i, 'elements', 4));\n    } else {\n        getId(`element${i}`).addEventListener('touchstart', () => getUpgradeDescription(i, 'elements', 4));\n        getId(`element${i}`).addEventListener('touchend', () => buyUpgrades(i, 'elements', 4));\n    }\n    if (screenReader) { getId(`element${i}`).addEventListener('focus', () => getUpgradeDescription(i, 'elements', 4)); }\n}\n\n/* Strangeness tab */\nfor (let s = 0; s < global.strangenessInfo.length; s++) {\n    for (let i = 0; i < global.strangenessInfo[s].cost.length; i++) {\n        if (!mobileDevice) {\n            getId(`strange${i + 1}Stage${s + 1}Image`).addEventListener('mouseover', () => getUpgradeDescription(i, 'strangeness', s));\n            getId(`strange${i + 1}Stage${s + 1}Image`).addEventListener('click', () => buyUpgrades(i, 'strangeness', s));\n        } else {\n            getId(`strange${i + 1}Stage${s + 1}Image`).addEventListener('touchstart', () => getUpgradeDescription(i, 'strangeness', s));\n            getId(`strange${i + 1}Stage${s + 1}Image`).addEventListener('touchend', () => buyUpgrades(i, 'strangeness', s));\n        }\n        if (screenReader) { getId(`strange${i + 1}Stage${s + 1}Image`).addEventListener('focus', () => getUpgradeDescription(i, 'strangeness', s)); }\n    }\n}\n\n/* Settings tab */\ngetId('vaporizationInput').addEventListener('blur', () => {\n    const input = getId('vaporizationInput') as HTMLInputElement;\n    input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n    player.vaporization.input = Number(input.value);\n});\ngetId('collapseMassInput').addEventListener('blur', () => {\n    const input = getId('collapseMassInput') as HTMLInputElement;\n    input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n    player.collapse.inputM = Number(input.value);\n});\ngetId('collapseStarsInput').addEventListener('blur', () => {\n    const input = getId('collapseStarsInput') as HTMLInputElement;\n    input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n    player.collapse.inputS = Number(input.value);\n});\ngetId('stageInput').addEventListener('blur', () => {\n    const input = getId('stageInput') as HTMLInputElement;\n    input.value = format(Math.max(Number(input.value), 1), 'auto', 'input');\n    player.stage.input = Number(input.value);\n});\ngetId('save').addEventListener('click', async() => await saveLoad('save'));\ngetId('file').addEventListener('change', async() => await saveLoad('load'));\ngetId('export').addEventListener('click', async() => await saveLoad('export'));\ngetId('delete').addEventListener('click', async() => await saveLoad('delete'));\ngetId('switchTheme0').addEventListener('click', () => setTheme(0, true));\nfor (let i = 1; i <= global.stageInfo.word.length; i++) {\n    getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n}\ngetId('toggleAuto5').addEventListener('click', () => {\n    if (player.toggles.auto[5]) { autoBuyUpgrades('upgrades', true); }\n});\ngetId('toggleAuto6').addEventListener('click', () => {\n    if (player.toggles.auto[6]) { autoBuyUpgrades('researches', true); }\n});\ngetId('toggleAuto7').addEventListener('click', () => {\n    if (player.toggles.auto[7]) { autoBuyUpgrades('researchesExtra', true); }\n});\ngetId('saveFileNameInput').addEventListener('blur', () => changeSaveFileName());\ngetId('saveFileHoverButton').addEventListener('mouseover', () => updateSaveFilePreview());\ngetId('saveFileHoverButton').addEventListener('focus', () => updateSaveFilePreview());\ngetId('mainInterval').addEventListener('blur', () => changeIntervals(false, 'main'));\ngetId('numbersInterval').addEventListener('blur', () => changeIntervals(false, 'numbers'));\ngetId('visualInterval').addEventListener('blur', () => changeIntervals(false, 'visual'));\ngetId('autoSaveInterval').addEventListener('blur', () => changeIntervals(false, 'autoSave'));\ngetId('thousandSeparator').addEventListener('blur', () => changeFormat(false));\ngetId('decimalPoint').addEventListener('blur', () => changeFormat(true));\ngetId('pauseGame').addEventListener('click', async() => await pauseGame());\ngetId('noMovement').addEventListener('click', () => removeTextMovement(true));\ngetId('fontSizeToggle').addEventListener('click', () => changeFontSize(true));\ngetId('customFontSize').addEventListener('blur', () => changeFontSize(false, true));\n\n/* Only for phones */\ngetId('mobileDeviceToggle').addEventListener('click', () => mobileDeviceSupport(true));\n\n/* Only for screen readers */\ngetId('screenReaderToggle').addEventListener('click', () => screenReaderSupport(true));\nif (screenReader) {\n    for (let i = 0; i < playerStart.buildings.length; i++) {\n        getId(`invisibleGetBuilding${i}`).addEventListener('click', () => screenReaderSupport(i, 'button'));\n    }\n    getId('invisibleGetResource1').addEventListener('click', () => screenReaderSupport(0, 'button', 'resource'));\n    getId('invisibleGetResource2').addEventListener('click', () => screenReaderSupport(0, 'button', 'strange'));\n}\n\n/* Footer */\ngetId('hideToggle').addEventListener('click', hideFooter);\ngetId('stageTabBtn').addEventListener('click', () => switchTab('stage'));\ngetId('researchTabBtn').addEventListener('click', () => switchTab('research'));\ngetId('strangenessTabBtn').addEventListener('click', () => switchTab('strangeness'));\ngetId('settingsTabBtn').addEventListener('click', () => switchTab('settings'));\n\n/* Subtabs */\ngetId('researchSubtabBtnresearches').addEventListener('click', () => switchTab('research', 'researches'));\ngetId('researchSubtabBtnelements').addEventListener('click', () => switchTab('research', 'elements'));\ngetId('settingsSubtabBtnsettings').addEventListener('click', () => switchTab('settings', 'settings'));\ngetId('settingsSubtabBtnstats').addEventListener('click', () => switchTab('settings', 'stats'));\n\n/* Intervals */\nfunction changeIntervals(pause = false, input = '') {\n    const { intervals } = player;\n    const { intervalsId } = global;\n    if (input !== '') {\n        const mainInput = getId('mainInterval') as HTMLInputElement;\n        const numberInput = getId('numbersInterval') as HTMLInputElement;\n        const visualInput = getId('visualInterval') as HTMLInputElement;\n        const autoSaveInput = getId('autoSaveInterval') as HTMLInputElement;\n        if (input === 'main') {\n            intervals.main = Math.min(Math.max(Math.trunc(Number(mainInput.value)), 20), 1000);\n            if (intervals.main > intervals.numbers) { intervals.numbers = intervals.main; }\n        } else if (input === 'numbers') {\n            intervals.numbers = Math.min(Math.max(Math.trunc(Number(numberInput.value)), 20), 1000);\n            if (intervals.numbers < intervals.main) { intervals.main = intervals.numbers; }\n        } else if (input === 'visual') {\n            intervals.visual = Math.min(Math.max(Math.trunc(Number(visualInput.value) * 10) / 10, 0.2), 10);\n        } else if (input === 'autoSave') {\n            intervals.autoSave = Math.min(Math.max(Math.trunc(Number(autoSaveInput.value)), 10), 1800);\n        }\n        mainInput.value = `${intervals.main}`;\n        numberInput.value = `${intervals.numbers}`;\n        visualInput.value = `${intervals.visual}`;\n        autoSaveInput.value = `${intervals.autoSave}`;\n    }\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    clearInterval(intervalsId.autoSave);\n    if (!pause) {\n        intervalsId.main = setInterval(invisibleUpdate, intervals.main);\n        intervalsId.numbers = setInterval(numbersUpdate, intervals.numbers);\n        intervalsId.visual = setInterval(visualUpdate, intervals.visual * 1000);\n        intervalsId.autoSave = setInterval(saveLoad, intervals.autoSave * 1000, 'save');\n    }\n}\n\n/* Promise returned in function argument where a void return was expected.\n   I have no idea what does that even mean... I have to use async since 'await saveFile[0].text()' must have await in it.*/\nasync function saveLoad(type: string) {\n    switch (type) {\n        case 'load': {\n            const id = getId('file') as HTMLInputElement;\n            const saveFile = id.files;\n            if (saveFile === null) { return Alert('Loaded file wasn\\'t found, somehow'); }\n            const text = await saveFile[0].text();\n\n            try {\n                const load = JSON.parse(atob(text));\n                const versionCheck = Object.hasOwn(load, 'player') ? load.player.version : load.version;\n                changeIntervals(true);\n                updatePlayer(load);\n                const offlineTime = Date.now() - player.time.updated;\n                getId('isSaved').textContent = 'Imported';\n                global.timeSpecial.lastSave = 0;\n                if (!player.toggles.normal[0]) {\n                    const noOffline = await Confirm(`This save file was set to have offline progress disabled (currently ${format(offlineTime, 0, 'time')}${offlineTime > maxOfflineTime() * 1000 ? `, max is ${global.timeSpecial.maxOffline / 3600} hours` : ''}). Press confirm to NOT to gain offline time.${versionCheck !== player.version ? `\\nAlso save file version is ${versionCheck}, while game version is ${player.version}, ${global.versionInfo.log}` : `\\nSave file version is ${player.version}`}`);\n                    if (noOffline) {\n                        global.timeSpecial.lastSave += offlineTime;\n                        player.time.updated = Date.now();\n                    }\n                } else {\n                    Alert(`This save is ${format(offlineTime, 0, 'time')} old${offlineTime > maxOfflineTime() * 1000 ? `, max offline time is ${global.timeSpecial.maxOffline / 3600} hours` : ''}.${versionCheck !== player.version ? `\\nAlso save file version is ${versionCheck}, while game version is ${player.version}, ${global.versionInfo.log}` : `\\nSave file version is ${player.version}`}`);\n                }\n                void reLoad();\n            } catch (error) {\n                changeIntervals(); //Unpause game, in case it there was an issue before reLoad();\n                Alert(`Incorrect save file format.\\nFull error is: '${error}'`);\n            } finally {\n                id.value = ''; //Remove inputed file\n            }\n            return;\n        }\n        case 'save': {\n            try {\n                const save = btoa(JSON.stringify(player));\n                //If Infinity will be needed inside, then can anything alike 'btoa(JSON.stringify(player), (k, v) => v === Infinity ? `${v}` : v)'\n                localStorage.setItem('save', save);\n                getId('isSaved').textContent = 'Saved';\n                global.timeSpecial.lastSave = 0;\n            } catch (error) {\n                Alert(`Failed to save file.\\nFull error is: '${error}'`);\n            }\n            return;\n        }\n        case 'export': {\n            await saveLoad('save');\n            const save = btoa(JSON.stringify(player)); //In case localStorage will fail\n            if (save !== localStorage.getItem('save')) { Alert('For some reason save file in a browser and exported one are different...'); }\n            getId('isSaved').textContent = 'Exported';\n            const a = document.createElement('a');\n            a.href = 'data:text/plain;charset=utf-8,' + save;\n            a.download = replaceSaveFileSpecials();\n            a.click();\n\n            const strangeGain = Math.trunc(player.stage.export);\n            player.strange[0].true += strangeGain;\n            player.strange[0].total += strangeGain;\n            player.stage.export -= strangeGain;\n            return;\n        }\n        case 'delete': {\n            const ok = await Prompt(\"This will truly delete your save file and clear local storage!\\nType 'delete' to confirm.\");\n            if (ok?.toLowerCase() === 'delete') {\n                changeIntervals(true);\n                localStorage.clear();\n                /* These one's only updated on page reload */\n                mobileDeviceSupport();\n                screenReaderSupport(false, 'toggle', 'reload');\n                changeFontSize();\n                /* Reset subtabs (it will do useless number and visual update), and tab */\n                switchTab('settings', 'settings');\n                //switchTab('research', 'researches'); //Done in stageCheck();\n                switchTab('stage');\n                /* No need to remove non existing properties, because it's done on save load anyway */\n                Object.assign(player, startValue('p'));\n                Object.assign(global, startValue('g'));\n                player.time.started = Date.now();\n                player.time.updated = player.time.started;\n                void reLoad();\n            } else if (ok !== null && ok !== '') {\n                Alert(`You wrote '${ok}', so save file wasn't deleted`);\n            }\n            break;\n        }\n    }\n}\n\nconst changeSaveFileName = () => {\n    const input = getId('saveFileNameInput') as HTMLInputElement;\n\n    let newValue: string; //Max allowed string length is 255 (35) (?)\n    if (input.value.length > 4) {\n        newValue = input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n    } else {\n        const check = input.value.replace(/[1-9]/, '').toLowerCase(); //No idea if I should check for these\n        if (input.value.length < 4 || (input.value.length === 4 && (check === 'com' || check === 'lpt'))) {\n            newValue = playerStart.fileName;\n        } else {\n            newValue = input.value.replaceAll(/[\\\\/:*?\"<>|]/g, '_');\n        }\n    }\n\n    try {\n        btoa(newValue); //Test for any illegal characters\n        player.fileName = newValue;\n        input.value = newValue;\n    } catch (error) {\n        Alert(`Save file name is not allowed.\\nFull error is: '${error}'`);\n    }\n};\n\nconst replaceSaveFileSpecials = (): string => {\n    let realName = player.fileName;\n    const special = [\n        '[stage]',\n        '[true]',\n        '[date]',\n        '[time]'\n    ];\n    const replaceWith = [\n        global.stageInfo.word[player.stage.current - 1],\n        global.stageInfo.word[player.stage.true - 1],\n        getDate('dateDMY'),\n        getDate('timeHMS')\n    ];\n    for (let i = 0; i < special.length; i++) {\n        realName = realName.replaceAll(special[i], replaceWith[i]);\n    }\n    return realName + '.txt';\n};\n\nconst getDate = (type: 'dateDMY' | 'timeHMS'): string => {\n    const current = new Date();\n    let result: string;\n    switch (type) {\n        case 'dateDMY':\n            result = `${current.getDate()}.${current.getMonth() + 1}.${current.getFullYear()}`;\n            break;\n        case 'timeHMS': {\n            let minutes = `${current.getMinutes()}`;\n            if (minutes.length === 1) { minutes = '0' + minutes; }\n            let seconds = `${current.getSeconds()}`;\n            if (seconds.length === 1) { seconds = '0' + seconds; }\n            result = `${current.getHours()}-${minutes}-${seconds}`;\n        }\n    }\n    return result;\n};\n\n//It in it's own function for possible future reasons\nconst updateSaveFilePreview = () => { getId('saveFileNamePreview').textContent = replaceSaveFileSpecials(); };\n\nconst pauseGame = async() => {\n    changeIntervals(true);\n    const offline = await Prompt(`Game is currently paused. Press any button bellow to unpause it. If you want you can enter 'NoOffline' to NOT to gain offline time. (Max offline time is ${maxOfflineTime() / 3600} hours)`);\n    //Maybe to add when game was paused (if I can figure out how later)\n    if (offline?.toLowerCase() === 'nooffline') {\n        player.time.updated = Date.now();\n    } else if (offline !== null && offline !== '') {\n        Alert(`You wrote '${offline}', so you gained offline time`);\n    }\n    changeIntervals();\n};\n"],
  "mappings": "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",
  "names": ["player", "global", "createArray", "amount", "special", "array", "i", "togglesNL", "togglesBL", "togglesAL", "playerStart", "globalStart", "startValue", "which", "getUpgradeType", "type", "stageCur", "checkPlayerValues", "stage", "upgradeType", "researchType", "researchExtraType", "s", "updatePlayer", "load", "_a", "playerCheck", "versionInfo", "oldVersion", "checkTab", "tab", "subtab", "tabUnl", "subUnl", "player", "global", "checkBuilding", "index", "stage", "checkUpgrade", "upgrade", "type", "setTheme", "themeNumber", "initial", "theme", "global", "switchTheme", "stage", "player", "stageInfo", "body", "getId", "text", "Alert", "AlertWait", "resolve", "blocker", "confirm", "key", "button", "close", "Confirm", "cancel", "yes", "no", "result", "Prompt", "input", "hideFooter", "footer", "hide", "toggle", "arrow", "mobileDeviceSupport", "change", "_a", "turnOn", "screenReaderSupport", "info", "type", "special", "stageCheck", "index", "invText", "buildings", "buildingsInfo", "extra", "format", "changeFontSize", "inputChange", "enable", "size", "changeFormat", "point", "htmlInput", "removeTextMovement", "add", "getClass", "i", "playEvent", "event", "reset", "type", "stage", "buildings", "player", "i", "visualUpdateUpgrades", "autoBuyUpgrades", "calculateResearchCost", "upgrades", "researches", "researchesExtra", "playerStart", "upgradeType", "getUpgradeType", "researchType", "researchExtraType", "global", "stageCheck", "switchTheme", "calculateBuildingsCost", "calculateStageInformation", "numbersUpdate", "calculateStageInformation", "stage", "buildings", "upgrades", "researches", "researchesExtra", "strangeness", "player", "buildingsInfo", "global", "dischargeInfo", "upgradesInfo", "researchesInfo", "discharge", "totalMultiplier", "vaporizationInfo", "upgradesS2Info", "researchesExtraS2Info", "vaporization", "calculateBuildingsCost", "check", "calculate", "upgradesS3Info", "researchesS3Info", "researchesExtraS3Info", "accretion", "collapse", "elements", "collapseInfo", "researchesS4Info", "redGiantEffect", "neutronStarEffect", "blackHoleEffect", "massGain", "buyBuilding", "index", "auto", "screenReader", "checkBuilding", "getId", "extra", "keep", "researchesAuto", "shop", "howMany", "globalStart", "budget", "totalBefore", "maxAfford", "canAfford", "total", "cost", "format", "invisibleUpdate", "numbersUpdate", "calculateResearchCost", "research", "type", "typeInfo", "getUpgradeType", "digits", "calculateGainedBuildings", "get", "time", "add", "buyUpgrades", "upgrade", "checkUpgrade", "currency", "i", "calculateMaxLevel", "manualEnterStage", "visualUpdateUpgrades", "getUpgradeDescription", "dischargeResetCheck", "autoBuyUpgrades", "setArray", "whichAdd", "automatization", "sort", "a", "b", "toggleSwap", "number", "change", "_a", "_b", "_c", "_d", "toggles", "toggle", "toggleBuy", "input", "stageResetCheck", "reseted", "ok", "Confirm", "Alert", "reset", "stageCheck", "switchTheme", "vaporizationResetCheck", "rankResetCheck", "accretionInfo", "updateRankInfo", "collapseResetCheck", "canIncrease", "message", "switchTab", "tab", "subtab", "global", "getId", "inside", "subtabAmount", "checkTab", "globalStart", "visualUpdate", "numbersUpdate", "maxOfflineTime", "player", "invisibleUpdate", "timeLeft", "time", "stage", "toggles", "timeSpecial", "passedTime", "passedSeconds", "calculateStageInformation", "autoBuyUpgrades", "calculateGainedBuildings", "i", "buyBuilding", "stageResetCheck", "collapseResetCheck", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "buildings", "upgrades", "format", "buildingsInfo", "lastUpgrade", "shop", "e", "totalCost", "totalBuy", "totalBefore", "maxAfford", "getUpgradeDescription", "lastResearch", "researchesAuto", "strangeness", "screenReader", "discharge", "playEvent", "vaporization", "accretion", "collapse", "researchesExtra", "index", "type", "extra", "_a", "_b", "_c", "_d", "stageInfo", "typeInfo", "getUpgradeType", "autoIndex", "starIndex", "visualUpdateUpgrades", "extraNum", "upgradeHTML", "color", "updateRankInfo", "accretionInfo", "image", "name", "input", "digits", "precision", "endValue", "stageCheck", "researchesAutoInfo", "playerStart", "text", "s", "calculateResearchCost", "getClass", "calculateBuildingsCost", "upgradeType", "researchType", "researchExtraType", "calculateMaxLevel", "body", "detectHotkey", "check", "checkEl", "shift", "isNumber", "key", "player", "numberKey", "global", "buyBuilding", "stringKey", "stageResetCheck", "dischargeResetCheck", "vaporizationResetCheck", "rankResetCheck", "collapseResetCheck", "tabs", "index", "checkTab", "switchTab", "subtabs", "getId", "id", "i", "Alert", "getClass", "idCollection", "reLoad", "firstLoad", "save", "theme", "load", "updatePlayer", "player", "offlineTime", "format", "maxOfflineTime", "global", "mobileDeviceSupport", "screenReaderSupport", "changeFontSize", "removeTextMovement", "stageCheck", "checkPlayerValues", "playerStart", "toggleSwap", "toggleBuy", "switchTheme", "Confirm", "changeIntervals", "mobileDevice", "screenReader", "key", "detectHotkey", "textInputs", "text", "buyBuilding", "getUpgradeDescription", "buyUpgrades", "dischargeResetCheck", "vaporizationResetCheck", "rankResetCheck", "stageResetCheck", "collapseResetCheck", "s", "input", "saveLoad", "setTheme", "autoBuyUpgrades", "changeSaveFileName", "updateSaveFilePreview", "changeFormat", "pauseGame", "hideFooter", "switchTab", "pause", "intervals", "intervalsId", "mainInput", "numberInput", "visualInput", "autoSaveInput", "invisibleUpdate", "numbersUpdate", "visualUpdate", "type", "saveFile", "versionCheck", "error", "replaceSaveFileSpecials", "strangeGain", "ok", "Prompt", "startValue", "newValue", "check", "realName", "special", "replaceWith", "getDate", "current", "result", "minutes", "seconds", "offline"]
}
